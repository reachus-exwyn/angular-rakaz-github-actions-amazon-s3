(self.webpackChunkrakaz_multi_modules_app=self.webpackChunkrakaz_multi_modules_app||[]).push([[695],{6076:(er,Vt,at)=>{"use strict";at.r(Vt),at.d(Vt,{CustomerModule:()=>Ws});var kt=at(177),qt=at(749),d=at(8699);let $e=(()=>{class T{constructor(){this.selectedHeader={link:"",header:""}}ngOnInit(){}static{this.\u0275fac=function(A){return new(A||T)}}static{this.\u0275cmp=d.VBU({type:T,selectors:[["app-header"]],inputs:{selectedHeader:"selectedHeader"},decls:3,vars:1,consts:[[1,"headingBlock"]],template:function(A,F){1&A&&(d.j41(0,"div",0)(1,"h1"),d.EFF(2),d.k0s()()),2&A&&(d.R7$(2),d.JRh(F.selectedHeader.header))}})}}return T})();var ot=at(2237),Oe=at(3664);function Ue(T,Y){if(1&T){const P=d.RV6();d.j41(0,"a",10),d.bIt("click",function(){const H=d.eBV(P).$implicit,Q=d.XpG();return d.Njj(Q.navigateTo(H))}),d.nrm(1,"i"),d.k0s()}if(2&T){const P=Y.$implicit;d.Y8G("ngbTooltip",P.tooltip)("ngClass",P.active),d.R7$(1),d.HbH(P.icon)}}let Ve=(()=>{class T{constructor(P,A,F){this.modalService=P,this.authService=A,this.router=F,this.selectedComponent={link:"",header:""},this.linkSelected=new d.bkB,this.activeState="",this.navLinks=[{icon:"bi-speedometer2",tooltip:"Dashboard",link:"dashboard",header:"Hi Saeed",active:"active"},{icon:"bi-bar-chart-line",tooltip:"Reports",link:"reports",header:"Reports",active:"inactive"}],this.bottomNavLinks=[{icon:"bi-gear",tooltip:"Configuration",link:"configuration",active:"inactive",header:"Configuration",isRouterLink:!1},{icon:"bi-bell",tooltip:"Notification",link:"notification",active:"inactive",header:"Notification",isRouterLink:!0},{icon:"bi-person-circle",tooltip:"Profile",link:"profile",active:"inactive",header:"Profile",isRouterLink:!0}]}ngOnInit(){this.selectedComponent=this.navLinks[0]}navigateTo(P){console.log(P),this.linkSelected.emit({link:P.link,header:P.header}),this.selectedComponent=P,this.navLinks.forEach(A=>{A.active="inactive",A.link===P.link&&(A.active="active")})}logout(){this.authService.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(A){return new(A||T)(d.rXU(ot.Bq),d.rXU(Oe.u),d.rXU(qt.Ix))}}static{this.\u0275cmp=d.VBU({type:T,selectors:[["app-sidenav"]],outputs:{linkSelected:"linkSelected"},decls:10,vars:1,consts:[[1,"sidebar"],[1,"sidebar-logo","text-center"],["src","assets/logo-icon.svg","width","40","alt","Logo"],[1,"nav-icons","flex-grow-1"],["ngbTooltip","Customer Admin Details","tooltipClass","tooltipCustom","container","body","placement","right","class","nav-icon",3,"ngbTooltip","ngClass","click",4,"ngFor","ngForOf"],[1,"nav-icons-bottom"],["ngbTooltip","Notification","tooltipClass","tooltipCustom","container","body","placement","right","routerLinkActive","active",1,"nav-icon",3,"click"],[1,"bi","bi-bell"],["ngbTooltip","Profile","tooltipClass","tooltipCustom","container","body","placement","right","routerLinkActive","active",1,"nav-icon",3,"click"],[1,"bi","bi-person-circle"],["ngbTooltip","Customer Admin Details","tooltipClass","tooltipCustom","container","body","placement","right",1,"nav-icon",3,"ngbTooltip","ngClass","click"]],template:function(A,F){1&A&&(d.j41(0,"div",0)(1,"div",1),d.nrm(2,"img",2),d.k0s(),d.j41(3,"div",3),d.DNE(4,Ue,2,4,"a",4),d.k0s(),d.j41(5,"div",5)(6,"a",6),d.bIt("click",function(){return F.navigateTo(F.bottomNavLinks[1])}),d.nrm(7,"i",7),d.k0s(),d.j41(8,"a",8),d.bIt("click",function(){return F.navigateTo(F.bottomNavLinks[2])}),d.nrm(9,"i",9),d.k0s()()()),2&A&&(d.R7$(4),d.Y8G("ngForOf",F.navLinks))},dependencies:[kt.YU,kt.Sq,qt.wQ,ot.md]})}}return T})();var U=at(4341),Ft=at(1358),qe=at(1264);let Ze=(()=>{class T{constructor(P,A){this.el=P,this._zone=A,this.updateChange=new d.bkB(!0),this.chartInstance=new d.bkB}ngOnChanges(P){const A=P.update?.currentValue;(P.options||A)&&(this.wrappedUpdateOrCreateChart(),A&&this.updateChange.emit(!1))}wrappedUpdateOrCreateChart(){this.runOutsideAngular?this._zone.runOutsideAngular(()=>{this.updateOrCreateChart()}):this.updateOrCreateChart()}updateOrCreateChart(){this.chart?.update?this.chart.update(this.options,!0,this.oneToOne||!1):(this.chart=this.Highcharts[this.constructorType||"chart"](this.el.nativeElement,this.options,this.callbackFunction||null),this.chartInstance.emit(this.chart))}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=null,this.chartInstance.emit(this.chart))}static{this.\u0275fac=function(A){return new(A||T)(d.rXU(d.aKT),d.rXU(d.SKi))}}static{this.\u0275cmp=d.VBU({type:T,selectors:[["highcharts-chart"]],inputs:{Highcharts:"Highcharts",constructorType:"constructorType",callbackFunction:"callbackFunction",oneToOne:"oneToOne",runOutsideAngular:"runOutsideAngular",options:"options",update:"update"},outputs:{updateChange:"updateChange",chartInstance:"chartInstance"},features:[d.OA$],decls:0,vars:0,template:function(A,F){},encapsulation:2})}}return T})(),Ke=(()=>{class T{static{this.\u0275fac=function(A){return new(A||T)}}static{this.\u0275mod=d.$C({type:T})}static{this.\u0275inj=d.G2t({})}}return T})(),Je=(()=>{class T{constructor(){this.Highcharts=qe,this.chartOptions={}}ngOnInit(){}static{this.\u0275fac=function(A){return new(A||T)}}static{this.\u0275cmp=d.VBU({type:T,selectors:[["app-dashboard-charts"]],inputs:{chartOptions:"chartOptions",chartType:"chartType"},decls:1,vars:2,consts:[[2,"width","100%","height","350px","display","block",3,"Highcharts","options"]],template:function(A,F){1&A&&d.nrm(0,"highcharts-chart",0),2&A&&d.Y8G("Highcharts",F.Highcharts)("options",F.chartOptions)},dependencies:[Ze]})}}return T})();function Qe(T,Y){if(1&T&&(d.j41(0,"option",47),d.EFF(1),d.k0s()),2&T){const P=Y.$implicit;d.Y8G("value",P),d.R7$(1),d.JRh(P)}}const ti=function(T,Y){return{width:T,backgroundColor:Y}},Le=function(T){return{left:T}};function ei(T,Y){if(1&T&&(d.j41(0,"div",48)(1,"label",49),d.EFF(2),d.k0s(),d.j41(3,"div",50)(4,"div",51),d.nrm(5,"div",52)(6,"div",53)(7,"div",54),d.k0s(),d.j41(8,"div",55)(9,"span"),d.EFF(10,"Min0"),d.k0s(),d.j41(11,"span",56),d.EFF(12),d.k0s(),d.j41(13,"span",57),d.EFF(14),d.k0s()()()()),2&T){const P=Y.$implicit,A=d.XpG();d.R7$(2),d.JRh(P.name),d.R7$(3),d.Y8G("ngStyle",d.l_i(6,ti,A.getBarWidth(P)+"%",P.value>P.max?"#f00":"#28a745")),d.R7$(1),d.Y8G("ngStyle",d.eq3(9,Le,A.getBarWidth(P)+"%")),d.R7$(1),d.Y8G("ngStyle",d.eq3(11,Le,P.max+"%")),d.R7$(5),d.SpI("Max ",P.max,""),d.R7$(2),d.JRh(P.value)}}let ge=(()=>{class T{constructor(){this.tipContent="I am a tooltip",this.selectedParameter="Pm25",this.parameterList=["Pm25","Pm10","NO2"],this.recentReadings=[{name:"Ozone",value:145,max:100},{name:"SulfurDioxide",value:54,max:40},{name:"Nitrogendioxide",value:43,max:25},{name:"Pm10",value:43,max:45},{name:"Pm25",value:43,max:45}],this.parameterChartOptions={Pm25:{chart:{type:"area",backgroundColor:"transparent"},title:{text:""},xAxis:{categories:["25 Mar","26 Mar","27 Mar","28 Mar","29 Mar","30 Mar","31 Mar","1 Apr"],title:{text:"Dates"}},yAxis:{title:{text:"Values"},min:0,max:30},tooltip:{formatter:function(){return`<b>${this.x}</b><br/>Pm25 Reading: <b>${this.y}</b>`}},legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"},plotOptions:{area:{marker:{enabled:!0,radius:3},fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgba(100, 160, 255, 0.5)"],[1,"rgba(255,255,255,0)"]]}}},series:[{type:"area",name:"Pm25 Reading",color:"#4652f1",data:[13,20,19,18,17,16,19,18]}]},Pm10:{chart:{type:"area",backgroundColor:"transparent"},title:{text:""},xAxis:{categories:["25 Mar","26 Mar","27 Mar","28 Mar","29 Mar","30 Mar","31 Mar","1 Apr"],title:{text:"Dates"}},yAxis:{title:{text:"Values"},min:0,max:30},tooltip:{formatter:function(){return`<b>${this.x}</b><br/>Pm25 Reading: <b>${this.y}</b>`}},legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"},plotOptions:{area:{marker:{enabled:!0,radius:3},fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgba(100, 160, 255, 0.5)"],[1,"rgba(255,255,255,0)"]]}}},series:[{type:"area",name:"Pm25 Reading",color:"#4652f1",data:[22,24,20,18,19,21,20,23]}]},NO2:{chart:{type:"area",backgroundColor:"transparent"},title:{text:""},xAxis:{categories:["25 Mar","26 Mar","27 Mar","28 Mar","29 Mar","30 Mar","31 Mar","1 Apr"],title:{text:"Dates"}},yAxis:{title:{text:"Values"},min:0,max:30},tooltip:{formatter:function(){return`<b>${this.x}</b><br/>Pm25 Reading: <b>${this.y}</b>`}},legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"},plotOptions:{area:{marker:{enabled:!0,radius:3},fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgba(100, 160, 255, 0.5)"],[1,"rgba(255,255,255,0)"]]}}},series:[{type:"area",name:"Pm25 Reading",color:"#4652f1",data:[8,15,11,13,12,14,10,1]}]}},this.warningDetailsChartOptions={chart:{type:"column"},title:{text:"Warning Details"},xAxis:{categories:["26/03/2025, 07:13:47 PM","29/03/2025, 02:41:33 AM","01/04/2025, 07:40:47 PM"],title:{text:"Date"}},yAxis:{min:0,title:{text:"No of Warning"}},tooltip:{formatter:function(){return`<b>${this.x}</b><br/>No of Warnings: <b>${this.y}</b>`}},series:[{type:"column",name:"No of Warnings",color:"#5040B6",data:[3,4,4]}]},this.breachedParameterChartOptions={chart:{type:"pie"},title:{text:"Breached Parameter"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}},series:[{type:"pie",name:"Breached",data:[["Nitrogendioxide",10],["Pm25",12],["Biochemical",5],["Pm10",8],["Ph",3],["Phosphate",4],["TDS",6],["DO",7],["SulfurDioxide",5],["Nitrate",2],["Ozone",6]]}]},this.today=(0,d.WQX)(ot.iF).getToday(),this.date={year:0,month:0}}ngOnInit(){this.model=this.today}getBarWidth(P){return Math.min(P.value/P.max*100,100)}static{this.\u0275fac=function(A){return new(A||T)}}static{this.\u0275cmp=d.VBU({type:T,selectors:[["app-dashboard"]],decls:150,vars:9,consts:[[1,"containerColor"],[1,"headSection","mt-2"],[1,"leftHeadSection"],[1,"filterDateReport"],[1,"form-select"],["value",""],["value","","selected",""],[1,"input-group"],["placeholder","Start Date","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["d","ngbDatepicker"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],["placeholder","End Date","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn","btn-primary"],[1,"bi","bi-funnel"],[1,"bi","bi-x-circle"],[1,"bodyContent"],[1,"paymentStatusBlock"],[1,"row"],[1,"col-md-3"],[1,"card"],[1,"card-body"],["src","assets/hand-money.gif","alt",""],[1,"ps-text"],[1,"btn","iconBtn"],[1,"bi","bi-eye-slash"],["src","assets/time-money.gif","alt",""],[1,"bi","bi-eye"],[1,"col-md-8"],[1,"parameter-reading-card","card"],[1,"header","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"form-select","w-25",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"chartOptions"],[1,"card","mt-3"],[1,"cardTitle"],[1,"paymentStatusBlock","mt-0"],[1,"col-md-4"],[1,"card","mt-0"],[1,"parameter-reading-card","card","mt-3"],["chartType","column",3,"chartOptions"],[1,"reading-scroll"],["class","reading-item",4,"ngFor","ngForOf"],["chartType","pie",3,"chartOptions"],[1,"custom-date-picker"],[1,"date-picker-block",3,"ngModel","ngModelChange","navigate"],["dp",""],[3,"value"],[1,"reading-item"],[1,"label"],[1,"bar-container"],[1,"bar-track"],[1,"bar-fill",3,"ngStyle"],[1,"dot",3,"ngStyle"],[1,"threshold-dot",3,"ngStyle"],[1,"bar-labels"],[1,"max-label"],[1,"value-label"]],template:function(A,F){if(1&A){const H=d.RV6();d.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"select",4)(5,"option",5),d.EFF(6,"Sensor Type"),d.k0s(),d.j41(7,"option",6),d.EFF(8,"Air"),d.k0s(),d.j41(9,"option",5),d.EFF(10,"Water"),d.k0s()(),d.j41(11,"select",4)(12,"option",5),d.EFF(13,"Device Id"),d.k0s(),d.j41(14,"option",5),d.EFF(15,"2324"),d.k0s()(),d.j41(16,"div",7)(17,"input",8,9),d.bIt("ngModelChange",function(rt){return F.model=rt}),d.k0s(),d.j41(19,"button",10),d.bIt("click",function(){d.eBV(H);const rt=d.sdS(18);return d.Njj(rt.toggle())}),d.k0s()(),d.j41(20,"div",7)(21,"input",11,9),d.bIt("ngModelChange",function(rt){return F.model=rt}),d.k0s(),d.j41(23,"button",10),d.bIt("click",function(){d.eBV(H);const rt=d.sdS(18);return d.Njj(rt.toggle())}),d.k0s()(),d.j41(24,"button",12),d.nrm(25,"i",13),d.EFF(26," Apply"),d.k0s(),d.j41(27,"button",12),d.nrm(28,"i",14),d.EFF(29," Clear"),d.k0s()()()(),d.j41(30,"div",15)(31,"div",16)(32,"h2"),d.EFF(33,"Payment Status"),d.k0s(),d.j41(34,"div",17)(35,"div",18)(36,"div",19)(37,"div",20),d.nrm(38,"img",21),d.j41(39,"div",22)(40,"p"),d.EFF(41,"Fine Received"),d.k0s(),d.j41(42,"h3"),d.EFF(43,"AED 0"),d.k0s()(),d.j41(44,"button",23),d.nrm(45,"i",24),d.k0s()()()(),d.j41(46,"div",18)(47,"div",19)(48,"div",20),d.nrm(49,"img",25),d.j41(50,"div",22)(51,"p"),d.EFF(52,"Fine Pending"),d.k0s(),d.j41(53,"h3"),d.EFF(54,"AED 8050"),d.k0s()(),d.j41(55,"button",23),d.nrm(56,"i",26),d.k0s()()()(),d.j41(57,"div",18)(58,"div",19)(59,"div",20),d.nrm(60,"img",21),d.j41(61,"div",22)(62,"p"),d.EFF(63,"Penalty Received"),d.k0s(),d.j41(64,"h3"),d.EFF(65,"AED 0"),d.k0s()(),d.j41(66,"button",23),d.nrm(67,"i",24),d.k0s()()()(),d.j41(68,"div",18)(69,"div",19)(70,"div",20),d.nrm(71,"img",25),d.j41(72,"div",22)(73,"p"),d.EFF(74,"Penalty Pending"),d.k0s(),d.j41(75,"h3"),d.EFF(76,"AED 4415.5"),d.k0s()(),d.j41(77,"button",23),d.nrm(78,"i",26),d.k0s()()()()()(),d.j41(79,"div",17)(80,"div",27)(81,"div",28)(82,"div",20)(83,"div",29)(84,"h4",30),d.EFF(85,"Parameter Reading"),d.k0s(),d.j41(86,"select",31),d.bIt("ngModelChange",function(rt){return F.selectedParameter=rt}),d.DNE(87,Qe,2,2,"option",32),d.k0s()(),d.nrm(88,"app-dashboard-charts",33),d.k0s()(),d.j41(89,"div",34)(90,"div",20)(91,"div",35)(92,"h2"),d.EFF(93,"Overall Data"),d.k0s()(),d.j41(94,"div",36)(95,"div",17)(96,"div",37)(97,"div",38)(98,"div",20),d.nrm(99,"img",25),d.j41(100,"div",22)(101,"p"),d.EFF(102,"Sensor Groups"),d.k0s(),d.j41(103,"h3"),d.EFF(104,"4"),d.k0s()(),d.j41(105,"button",23),d.nrm(106,"i",26),d.k0s()()()(),d.j41(107,"div",37)(108,"div",38)(109,"div",20),d.nrm(110,"img",21),d.j41(111,"div",22)(112,"p"),d.EFF(113,"Total Warnings"),d.k0s(),d.j41(114,"h3"),d.EFF(115,"42"),d.k0s()(),d.j41(116,"button",23),d.nrm(117,"i",26),d.k0s()()()(),d.j41(118,"div",37)(119,"div",38)(120,"div",20),d.nrm(121,"img",25),d.j41(122,"div",22)(123,"p"),d.EFF(124,"Total Violations"),d.k0s(),d.j41(125,"h3"),d.EFF(126,"12"),d.k0s()(),d.j41(127,"button",23),d.nrm(128,"i",26),d.k0s()()()()()()()(),d.j41(129,"div",39)(130,"div",20),d.nrm(131,"app-dashboard-charts",40),d.k0s()()(),d.j41(132,"div",37)(133,"div",19)(134,"div",20)(135,"h4",35),d.EFF(136,"Recent Readings"),d.k0s(),d.j41(137,"div",41),d.DNE(138,ei,15,13,"div",42),d.k0s()()(),d.j41(139,"div",34)(140,"div",20),d.nrm(141,"app-dashboard-charts",43),d.k0s()(),d.j41(142,"div",34)(143,"div",20)(144,"div",35)(145,"h2"),d.EFF(146,"Violation Date"),d.k0s()(),d.j41(147,"div",44)(148,"ngb-datepicker",45,46),d.bIt("ngModelChange",function(rt){return F.model=rt})("navigate",function(rt){return F.date=rt.next}),d.k0s()()()()()()()()}2&A&&(d.R7$(17),d.Y8G("ngModel",F.model),d.R7$(4),d.Y8G("ngModel",F.model),d.R7$(65),d.Y8G("ngModel",F.selectedParameter),d.R7$(1),d.Y8G("ngForOf",F.parameterList),d.R7$(1),d.Y8G("chartOptions",F.parameterChartOptions[F.selectedParameter]),d.R7$(43),d.Y8G("chartOptions",F.warningDetailsChartOptions),d.R7$(7),d.Y8G("ngForOf",F.recentReadings),d.R7$(3),d.Y8G("chartOptions",F.breachedParameterChartOptions),d.R7$(7),d.Y8G("ngModel",F.model))},dependencies:[kt.Sq,kt.B3,ot.yB,ot.cw,U.xH,U.y7,U.me,U.wz,U.BC,Ft.ZP,U.vS,Je]})}}return T})(),Ti=(()=>{class T{static{this.\u0275fac=function(A){return new(A||T)}}static{this.\u0275cmp=d.VBU({type:T,selectors:[["app-reports"]],decls:2,vars:0,template:function(A,F){1&A&&(d.j41(0,"p"),d.EFF(1,"reports works!"),d.k0s())}})}}return T})();var I=at(5312),Ai=at(1626);let me=(()=>{class T{constructor(P){this.http=P,this.apiUrl=I.c.apiUrl}getCustomerAdminById(P){return this.http.get(`${this.apiUrl}customers/${P}`)}changePassword(P,A){return this.http.put(`${this.apiUrl}users/${P}/change-password`,A)}getCountries(){return this.http.get(`${this.apiUrl}countries`)}getStates(P){return this.http.get(`${this.apiUrl}states/country/${P}`)}getCities(P){return this.http.get(`${this.apiUrl}cities/state/${P}`)}getCurrencies(){return this.http.get(`${this.apiUrl}currencies`)}getCustomerTypes(){return this.http.get(`${this.apiUrl}customer-types`)}updateCustomerProfile(P,A){return this.http.put(`${this.apiUrl}customers/profile/${P}`,A)}static{this.\u0275fac=function(A){return new(A||T)(d.KVO(Ai.Qq))}}static{this.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();var jt=at(5889),Qt=at(144);function Ei(T,Y){1&T&&(d.j41(0,"div",25),d.EFF(1," Enter customer name "),d.k0s())}function fe(T,Y){1&T&&(d.j41(0,"div",25),d.EFF(1," Enter organization name "),d.k0s())}function Fe(T,Y){1&T&&(d.j41(0,"div",25),d.EFF(1," Enter contact person name "),d.k0s())}function te(T,Y){1&T&&(d.j41(0,"div",25),d.EFF(1," Enter valid email "),d.k0s())}function ii(T,Y){1&T&&(d.j41(0,"div")(1,"small",8),d.EFF(2,"Enter contact number"),d.k0s()())}function Oi(T,Y){1&T&&(d.j41(0,"div",25),d.EFF(1," Enter customer type "),d.k0s())}function si(T,Y){1&T&&(d.j41(0,"div",25),d.EFF(1," Enter address "),d.k0s())}function ee(T,Y){1&T&&(d.j41(0,"div",25),d.EFF(1," Select country "),d.k0s())}function Li(T,Y){1&T&&(d.j41(0,"div",25),d.EFF(1," Select state "),d.k0s())}function Fi(T,Y){1&T&&(d.j41(0,"div",25),d.EFF(1," Select city "),d.k0s())}const wt=function(T){return{"is-invalid":T}},xe=function(T,Y){return[T,Y]};let oi=(()=>{class T{constructor(P,A,F){this.fb=P,this.customerService=A,this.toastService=F,this.mode="create",this.SearchCountryField="all",this.selectedCountryISO="IN",this.formSubmitted=!1,this.countries=[],this.states=[],this.cities=[],this.currencyList=[],this.customerTypes=[],this.preferredCountries=[Ft.ij.India,Ft.ij.UnitedStates]}ngOnInit(){this.initializeForm(),this.getCurrencies(),this.getCustomerTypes(),this.getCountries(),this.data&&(this.profileForm.patchValue({customerName:this.data.customer_name,organizationName:this.data.organization_name,contactPersonName:this.data.contact_person_name,customerType:this.data.customer_type_name,email:this.data.email,contactNumber:JSON.parse(this.data.contact_object).number,address:this.data.address,country:this.data.country_id,state:this.data.state_id,city:this.data.city_id}),this.selectedCountry=this.data.country_id,this.getStates(),this.selectedState=this.data.state_id,this.getCities(),this.selectedCity=this.data.city_id,this.selectedCountryISO=JSON.parse(this.data.contact_object).countryCode)}initializeForm(){this.profileForm=this.fb.group({customerName:["",[U.k0.required]],organizationName:["",[U.k0.required]],contactPersonName:["",[U.k0.required]],customerType:["",[U.k0.required]],email:["",[U.k0.required,U.k0.email]],contactNumber:["",[U.k0.required]],address:["",[U.k0.required]],country:["",[U.k0.required]],state:["",[U.k0.required]],city:["",[U.k0.required]]})}isFieldInvalid(P){const A=this.profileForm.get(P);return!(!A||!A.invalid||!A.touched&&!this.formSubmitted)}getCurrencies(){this.customerService.getCurrencies().subscribe(P=>{this.currencyList=P.data})}getCustomerTypes(){this.customerService.getCustomerTypes().subscribe(P=>{this.customerTypes=P.data})}getCountries(){this.customerService.getCountries().subscribe(P=>{this.countries=P.data})}getStates(){this.selectedState=null,this.customerService.getStates(this.selectedCountry).subscribe(P=>{this.states=P.data})}getCities(){this.selectedCity=null,this.customerService.getCities(this.selectedState).subscribe(P=>{this.cities=P.data})}onSubmit(){if(this.formSubmitted=!0,this.profileForm.valid){console.log("Profile Data:",this.profileForm.value);const P={customer_name:this.profileForm.value.customerName,organization_name:this.profileForm.value.organizationName,contact_person_name:this.profileForm.value.contactPersonName,customer_type:this.profileForm.value.customerType,email:this.profileForm.value.email,contact_number:this.profileForm.value.contactNumber.internationalNumber,contact_object:JSON.stringify(this.profileForm.value.contactNumber),currency:this.profileForm.value.currency,address:this.profileForm.value.address,country_id:this.profileForm.value.country,state_id:this.profileForm.value.state,city_id:this.profileForm.value.city};this.customerService.updateCustomerProfile(this.data.id,P).subscribe(A=>{A.success&&(this.toastService.showSuccess("Profile updated successfully"),this.close())}),this.close()}}close(){this.modalRef&&this.modalRef.close("saved")}static{this.\u0275fac=function(A){return new(A||T)(d.rXU(U.ok),d.rXU(me),d.rXU(jt.f))}}static{this.\u0275cmp=d.VBU({type:T,selectors:[["app-update-profile"]],inputs:{mode:"mode",data:"data",modalRef:"modalRef"},decls:83,vars:67,consts:[[1,"formStyle"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["novalidate","",3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"row"],[1,"col-md-6","mb-3"],[1,"text-danger"],["type","text","formControlName","customerName","placeholder","Enter Customer Name",1,"form-control",3,"ngClass","readonly"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","organizationName","placeholder","Enter Organization Name",1,"form-control",3,"ngClass"],["type","text","formControlName","contactPersonName","placeholder","Enter Contact Person Name",1,"form-control",3,"ngClass"],["type","email","formControlName","email","placeholder","Enter Email",1,"form-control",3,"ngClass"],[1,"col-md-6","mb-1"],["name","phone","formControlName","contactNumber",3,"cssClass","preferredCountries","enableAutoCountrySelect","enablePlaceholder","searchCountryFlag","searchCountryField","selectFirstCountry","selectedCountryISO","separateDialCode","maxLength"],[4,"ngIf"],["type","text","formControlName","customerType","placeholder","Enter Customer Type",1,"form-control",3,"ngClass","readonly"],["type","text","formControlName","address","placeholder","Enter Plot No, Street Name",1,"form-control",3,"ngClass"],["bindLabel","name","bindValue","id","placeholder","Select Country","formControlName","country",1,"custom-currency-select",3,"items","ngModel","searchable","clearable","ngClass","readonly","ngModelChange"],["bindLabel","name","bindValue","id","placeholder","Select State","formControlName","state",1,"custom-currency-select",3,"items","ngModel","searchable","clearable","ngClass","ngModelChange"],["bindLabel","name","bindValue","id","placeholder","Select City","formControlName","city",1,"custom-currency-select",3,"items","ngModel","searchable","clearable","ngClass","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"]],template:function(A,F){if(1&A&&(d.j41(0,"div",0)(1,"div",1)(2,"h5",2),d.EFF(3," Update Profile "),d.k0s(),d.j41(4,"button",3),d.bIt("click",function(){return F.close()}),d.k0s()(),d.j41(5,"form",4),d.bIt("ngSubmit",function(){return F.onSubmit()}),d.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"label"),d.EFF(10,"Customer Name "),d.j41(11,"span",8),d.EFF(12,"*"),d.k0s()(),d.nrm(13,"input",9),d.DNE(14,Ei,2,0,"div",10),d.k0s(),d.j41(15,"div",7)(16,"label"),d.EFF(17,"Organization Name "),d.j41(18,"span",8),d.EFF(19,"*"),d.k0s()(),d.nrm(20,"input",11),d.DNE(21,fe,2,0,"div",10),d.k0s(),d.j41(22,"div",7)(23,"label"),d.EFF(24,"Contact Person Name "),d.j41(25,"span",8),d.EFF(26,"*"),d.k0s()(),d.nrm(27,"input",12),d.DNE(28,Fe,2,0,"div",10),d.k0s(),d.j41(29,"div",7)(30,"label"),d.EFF(31,"Email "),d.j41(32,"span",8),d.EFF(33,"*"),d.k0s()(),d.nrm(34,"input",13),d.DNE(35,te,2,0,"div",10),d.k0s(),d.j41(36,"div",14)(37,"label"),d.EFF(38,"Contact Number "),d.j41(39,"span",8),d.EFF(40,"*"),d.k0s()(),d.nrm(41,"ngx-intl-tel-input",15),d.DNE(42,ii,3,0,"div",16),d.k0s(),d.j41(43,"div",7)(44,"label"),d.EFF(45,"Customer Type "),d.j41(46,"span",8),d.EFF(47,"*"),d.k0s()(),d.nrm(48,"input",17),d.DNE(49,Oi,2,0,"div",10),d.k0s(),d.j41(50,"div",7)(51,"label"),d.EFF(52,"Plot No, Street Name "),d.j41(53,"span",8),d.EFF(54,"*"),d.k0s()(),d.nrm(55,"input",18),d.DNE(56,si,2,0,"div",10),d.k0s(),d.j41(57,"div",7)(58,"label"),d.EFF(59,"Country "),d.j41(60,"span",8),d.EFF(61,"*"),d.k0s()(),d.j41(62,"ng-select",19),d.bIt("ngModelChange",function(Q){return F.profileForm.value.country=Q}),d.k0s(),d.DNE(63,ee,2,0,"div",10),d.k0s(),d.j41(64,"div",7)(65,"label"),d.EFF(66,"State "),d.j41(67,"span",8),d.EFF(68,"*"),d.k0s()(),d.j41(69,"ng-select",20),d.bIt("ngModelChange",function(Q){return F.profileForm.value.state=Q}),d.k0s(),d.DNE(70,Li,2,0,"div",10),d.k0s(),d.j41(71,"div",7)(72,"label"),d.EFF(73,"City "),d.j41(74,"span",8),d.EFF(75,"*"),d.k0s()(),d.j41(76,"ng-select",21),d.bIt("ngModelChange",function(Q){return F.profileForm.value.city=Q}),d.k0s(),d.DNE(77,Fi,2,0,"div",10),d.k0s()()(),d.j41(78,"div",22)(79,"button",23),d.bIt("click",function(){return F.close()}),d.EFF(80,"Cancel"),d.k0s(),d.j41(81,"button",24),d.EFF(82,"Update"),d.k0s()()()()),2&A){let H;d.R7$(5),d.Y8G("formGroup",F.profileForm),d.R7$(8),d.Y8G("ngClass",d.eq3(46,wt,F.isFieldInvalid("customerName")))("readonly",!0),d.R7$(1),d.Y8G("ngIf",F.isFieldInvalid("customerName")),d.R7$(6),d.Y8G("ngClass",d.eq3(48,wt,F.isFieldInvalid("organizationName"))),d.R7$(1),d.Y8G("ngIf",F.isFieldInvalid("organizationName")),d.R7$(6),d.Y8G("ngClass",d.eq3(50,wt,F.isFieldInvalid("contactPersonName"))),d.R7$(1),d.Y8G("ngIf",F.isFieldInvalid("contactPersonName")),d.R7$(6),d.Y8G("ngClass",d.eq3(52,wt,F.isFieldInvalid("email"))),d.R7$(1),d.Y8G("ngIf",F.isFieldInvalid("email")),d.R7$(6),d.Y8G("cssClass","form-control")("preferredCountries",F.preferredCountries)("enableAutoCountrySelect",!1)("enablePlaceholder",!0)("searchCountryFlag",!1)("searchCountryField",d.l_i(54,xe,F.SearchCountryField.Name,F.SearchCountryField.DialCode))("selectFirstCountry",!1)("selectedCountryISO",F.selectedCountryISO)("separateDialCode",!0)("maxLength",15),d.R7$(1),d.Y8G("ngIf",(null==(H=F.profileForm.get("contactNumber"))?null:H.invalid)&&((null==(H=F.profileForm.get("contactNumber"))?null:H.touched)||F.formSubmitted)),d.R7$(6),d.Y8G("ngClass",d.eq3(57,wt,F.isFieldInvalid("customerType")))("readonly",!0),d.R7$(1),d.Y8G("ngIf",F.isFieldInvalid("customerType")),d.R7$(6),d.Y8G("ngClass",d.eq3(59,wt,F.isFieldInvalid("address"))),d.R7$(1),d.Y8G("ngIf",F.isFieldInvalid("address")),d.R7$(6),d.Y8G("items",F.countries)("ngModel",F.profileForm.value.country)("searchable",!0)("clearable",!0)("ngClass",d.eq3(61,wt,F.isFieldInvalid("country")))("readonly",!0),d.R7$(1),d.Y8G("ngIf",F.isFieldInvalid("country")),d.R7$(6),d.Y8G("items",F.states)("ngModel",F.profileForm.value.state)("searchable",!0)("clearable",!0)("ngClass",d.eq3(63,wt,F.isFieldInvalid("state"))),d.R7$(1),d.Y8G("ngIf",F.isFieldInvalid("state")),d.R7$(6),d.Y8G("items",F.cities)("ngModel",F.profileForm.value.city)("searchable",!0)("clearable",!0)("ngClass",d.eq3(65,wt,F.isFieldInvalid("city"))),d.R7$(1),d.Y8G("ngIf",F.isFieldInvalid("city")),d.R7$(4),d.Y8G("disabled",F.profileForm.invalid)}},dependencies:[kt.YU,kt.bT,U.qT,U.me,U.BC,U.cb,U.j4,U.JD,Ft.NA,Ft.ZP,Qt.vr]})}}return T})();var Ii=at(3418),Ni=at(9045);const Os=["logoutModal"];function Zt(T,Y){1&T&&(d.j41(0,"div",23)(1,"h3"),d.EFF(2,"Notification"),d.k0s(),d.j41(3,"div",24)(4,"div",12)(5,"label",13),d.EFF(6,"Push Notification :"),d.k0s(),d.j41(7,"p"),d.EFF(8,"Receive notifications from Rakaz on your PC."),d.k0s()(),d.j41(9,"div",25)(10,"label",26),d.EFF(11,"OFF"),d.k0s(),d.nrm(12,"input",27),d.j41(13,"label",28),d.EFF(14,"ON"),d.k0s()()()())}function Di(T,Y){if(1&T&&(d.j41(0,"div",47),d.EFF(1),d.k0s()),2&T){const P=d.XpG(2);d.R7$(1),d.SpI(" ",P.getFieldError("currentPassword")," ")}}function Ri(T,Y){if(1&T&&(d.j41(0,"div",47),d.EFF(1),d.k0s()),2&T){const P=d.XpG(2);d.R7$(1),d.SpI(" ",P.getFieldError("newPassword")," ")}}function Ls(T,Y){if(1&T&&(d.j41(0,"div",48)(1,"small",49),d.nrm(2,"i",50),d.EFF(3),d.k0s()()),2&T){const P=d.XpG(2);d.R7$(3),d.SpI(" Password must contain: ",P.getFirstUnmetRequirement()," ")}}function G(T,Y){1&T&&(d.j41(0,"div",51)(1,"small",52),d.nrm(2,"i",53),d.EFF(3," Password meets all requirements "),d.k0s()())}function Fs(T,Y){if(1&T&&(d.j41(0,"div",47),d.EFF(1),d.k0s()),2&T){const P=d.XpG(2);d.R7$(1),d.SpI(" ",P.getFieldError("confirmPassword")," ")}}function Ie(T,Y){1&T&&(d.j41(0,"div",47),d.EFF(1," Passwords do not match "),d.k0s())}function Bi(T,Y){if(1&T&&(d.j41(0,"div",54)(1,"small"),d.nrm(2,"i",55),d.EFF(3),d.k0s()()),2&T){const P=d.XpG(2);d.R7$(1),d.AVh("text-success",P.passwordsMatch())("text-danger",!P.passwordsMatch()),d.R7$(1),d.AVh("bi-check-circle-fill",P.passwordsMatch())("bi-x-circle-fill",!P.passwordsMatch()),d.R7$(1),d.SpI(" ",P.passwordsMatch()?"Passwords match":"Passwords do not match"," ")}}const Ne=function(T){return{"is-invalid":T}};function ri(T,Y){if(1&T){const P=d.RV6();d.j41(0,"form",29),d.bIt("ngSubmit",function(){d.eBV(P);const F=d.XpG();return d.Njj(F.changePassword())}),d.j41(1,"div",30)(2,"div",31)(3,"div",12)(4,"label",32),d.EFF(5,"Current Password "),d.j41(6,"span",33),d.EFF(7,"*"),d.k0s()(),d.nrm(8,"input",34),d.DNE(9,Di,2,1,"div",35),d.k0s()(),d.j41(10,"div",31)(11,"div",12)(12,"label",36),d.EFF(13,"New Password "),d.j41(14,"span",33),d.EFF(15,"*"),d.k0s()(),d.nrm(16,"input",37),d.DNE(17,Ri,2,1,"div",35),d.DNE(18,Ls,4,1,"div",38),d.DNE(19,G,4,0,"div",39),d.k0s()(),d.j41(20,"div",31)(21,"div",12)(22,"label",40),d.EFF(23,"Confirm Password "),d.j41(24,"span",33),d.EFF(25,"*"),d.k0s()(),d.nrm(26,"input",41),d.DNE(27,Fs,2,1,"div",35),d.DNE(28,Ie,2,0,"div",35),d.DNE(29,Bi,4,9,"div",42),d.k0s()(),d.j41(30,"div",43)(31,"div",44)(32,"button",45),d.EFF(33,"Cancel"),d.k0s(),d.j41(34,"button",46),d.EFF(35,"Submit"),d.k0s()()()()()}if(2&T){const P=d.XpG();let A,F,H,Q,rt;d.Y8G("formGroup",P.changePasswordForm),d.R7$(8),d.Y8G("ngClass",d.eq3(11,Ne,P.isFieldInvalid("currentPassword"))),d.R7$(1),d.Y8G("ngIf",P.isFieldInvalid("currentPassword")),d.R7$(7),d.Y8G("ngClass",d.eq3(13,Ne,P.isFieldInvalid("newPassword"))),d.R7$(1),d.Y8G("ngIf",P.isFieldInvalid("newPassword")),d.R7$(1),d.Y8G("ngIf",(null==(A=P.changePasswordForm.get("newPassword"))?null:A.value)&&!P.allRequirementsMet()),d.R7$(1),d.Y8G("ngIf",(null==(F=P.changePasswordForm.get("newPassword"))?null:F.value)&&P.allRequirementsMet()),d.R7$(7),d.Y8G("ngClass",d.eq3(15,Ne,P.isFieldInvalid("confirmPassword")||(null==P.changePasswordForm.errors?null:P.changePasswordForm.errors.passwordMismatch)&&(null==(H=P.changePasswordForm.get("confirmPassword"))?null:H.touched))),d.R7$(1),d.Y8G("ngIf",P.isFieldInvalid("confirmPassword")),d.R7$(1),d.Y8G("ngIf",(null==P.changePasswordForm.errors?null:P.changePasswordForm.errors.passwordMismatch)&&(null==(Q=P.changePasswordForm.get("confirmPassword"))?null:Q.touched)&&!P.isFieldInvalid("confirmPassword")),d.R7$(1),d.Y8G("ngIf",(null==(rt=P.changePasswordForm.get("confirmPassword"))?null:rt.value)&&(null==(rt=P.changePasswordForm.get("newPassword"))?null:rt.value)&&!P.isFieldInvalid("confirmPassword")&&!(null!=P.changePasswordForm.errors&&P.changePasswordForm.errors.passwordMismatch))}}function ji(T,Y){if(1&T){const P=d.RV6();d.j41(0,"div",56)(1,"form",57)(2,"h6"),d.EFF(3,"Are you sure want to Logout?"),d.k0s()()(),d.j41(4,"div",58)(5,"button",59),d.bIt("click",function(){const H=d.eBV(P).$implicit;return d.Njj(H.close("Save click"))}),d.EFF(6,"No"),d.k0s(),d.j41(7,"button",60),d.bIt("click",function(){d.eBV(P);const F=d.XpG();return d.Njj(F.logout())}),d.EFF(8,"Yes"),d.k0s()()}}let ai=(()=>{class T{constructor(P,A,F,H,Q,rt,ft){this.modalService=P,this.authService=A,this.router=F,this.customerService=H,this.appStateService=Q,this.fb=rt,this.toastService=ft,this.formSubmitted=!1,this.activeTab=1}ngOnInit(){this.userId=this.appStateService.getUser().user.customer_id,this.getCustomerAdminById(),this.changePasswordForm=this.fb.group({currentPassword:["",U.k0.required],newPassword:["",[U.k0.required,this.passwordStrengthValidator]],confirmPassword:["",U.k0.required]},{validators:this.passwordMatchValidator})}updateProfile(P,A){document.body.classList.add("modal-open-scroll-lock");const F=this.modalService.open(oi,{centered:!0,backdrop:"static",size:"lg",windowClass:"custom-modal-class"});F.componentInstance.mode=P,F.componentInstance.data=A||null,F.componentInstance.modalRef=F,F.result.then(H=>{"saved"===H&&(console.log("Customer profile updated."),setTimeout(()=>{this.getCustomerAdminById()},80)),document.body.classList.remove("modal-open-scroll-lock")}).catch(()=>{document.body.classList.remove("modal-open-scroll-lock")})}passwordStrengthValidator(P){const A=P.value;if(!A)return null;const F=/[A-Z]/.test(A),H=/[a-z]/.test(A),Q=/[0-9]/.test(A),rt=/[!@#$%^&*(),.?":{}|<>]/.test(A),Gt={};return A.length>=8||(Gt.minLength=!0),F||(Gt.noUpperCase=!0),H||(Gt.noLowerCase=!0),Q||(Gt.noNumeric=!0),rt||(Gt.noSpecialChar=!0),Object.keys(Gt).length>0?Gt:null}passwordMatchValidator(P){const A=P.get("newPassword"),F=P.get("confirmPassword");return A&&F&&A.value!==F.value?{passwordMismatch:!0}:null}openModal(P,A){this.modalService.open(P,{size:A})}getCustomerAdminById(){this.customerService.getCustomerAdminById(this.userId).subscribe(P=>{this.userDataForEdit=P.data,this.userData={UserId:P.data.customer_id,OrgName:P.data.organization_name,ContactPersonName:P.data.contact_person_name,BusinessType:P.data.customer_type_name,MobileNumber:P.data.contact_number,Currency:P.data.currency,Email:P.data.email,Address:P.data.address}})}logout(){this.authService.logout(),this.router.navigate(["/login"]),this.modalService.dismissAll()}isFieldInvalid(P){const A=this.changePasswordForm.get(P);return!(!A||!A.touched&&!this.formSubmitted||!A.invalid)}getFieldError(P){const A=this.changePasswordForm.get(P);if(!A||!A.errors||!A.touched&&!this.formSubmitted)return"";if(A.errors.required)return("currentPassword"===P?"Current":"newPassword"===P?"New":"Confirm")+" password is required";if("newPassword"===P){if(A.errors.minLength)return"Password must be at least 8 characters long";if(A.errors.noUpperCase)return"Password must contain at least one uppercase letter";if(A.errors.noLowerCase)return"Password must contain at least one lowercase letter";if(A.errors.noNumeric)return"Password must contain at least one number";if(A.errors.noSpecialChar)return"Password must contain at least one special character"}return""}getFirstUnmetRequirement(){const P=this.changePasswordForm.get("newPassword")?.value||"";return P?P.length<8?"At least 8 characters":/[A-Z]/.test(P)?/[a-z]/.test(P)?/[0-9]/.test(P)?/[!@#$%^&*(),.?":{}|<>]/.test(P)?"":"One special character":"One number":"One lowercase letter":"One uppercase letter":""}allRequirementsMet(){const P=this.changePasswordForm.get("newPassword")?.value||"";return P.length>=8&&/[A-Z]/.test(P)&&/[a-z]/.test(P)&&/[0-9]/.test(P)&&/[!@#$%^&*(),.?":{}|<>]/.test(P)}passwordsMatch(){return this.changePasswordForm.get("newPassword")?.value===this.changePasswordForm.get("confirmPassword")?.value}getPasswordRequirements(){const P=this.changePasswordForm.get("newPassword")?.value||"",A=[];return P.length<8&&A.push("At least 8 characters"),/[A-Z]/.test(P)||A.push("One uppercase letter"),/[a-z]/.test(P)||A.push("One lowercase letter"),/[0-9]/.test(P)||A.push("One number"),/[!@#$%^&*(),.?":{}|<>]/.test(P)||A.push("One special character"),A}hasMinLength(){return(this.changePasswordForm.get("newPassword")?.value||"").length>=8}hasUpperCase(){const P=this.changePasswordForm.get("newPassword")?.value||"";return/[A-Z]/.test(P)}hasLowerCase(){const P=this.changePasswordForm.get("newPassword")?.value||"";return/[a-z]/.test(P)}hasNumeric(){const P=this.changePasswordForm.get("newPassword")?.value||"";return/[0-9]/.test(P)}hasSpecialChar(){const P=this.changePasswordForm.get("newPassword")?.value||"";return/[!@#$%^&*(),.?":{}|<>]/.test(P)}changePassword(){if(this.formSubmitted=!0,this.changePasswordForm.markAllAsTouched(),this.changePasswordForm.invalid)return;const A={password:Ii.Y8(this.changePasswordForm.value.newPassword,10)};this.customerService.changePassword(this.userId,A).subscribe(F=>{F.success?this.toastService.showSuccess("Password changed successfully"):this.toastService.showError("Failed to change password")},F=>{this.toastService.showError(F.error.message)})}static{this.\u0275fac=function(A){return new(A||T)(d.rXU(ot.Bq),d.rXU(Oe.u),d.rXU(qt.Ix),d.rXU(me),d.rXU(Ni.i),d.rXU(U.ok),d.rXU(jt.f))}}static{this.\u0275cmp=d.VBU({type:T,selectors:[["app-profile"]],viewQuery:function(A,F){if(1&A&&d.GBs(Os,5),2&A){let H;d.mGM(H=d.lsd())&&(F.logoutModal=H.first)}},decls:87,vars:12,consts:[[1,"headingBlock","headingprofile"],[1,"headingprofile-left"],[1,"bi","bi-person-circle"],[2,"text-transform","capitalize"],[1,"headingprofile-right"],[1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-pencil-square"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-door-closed"],[1,"bodyContent"],[1,"row","profileRow"],[1,"col-md-6"],[1,"form-group"],["for","name"],[1,"tabBlock","profileTab"],[1,"card"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink","","href","javascript:void(0)",1,"nav-link"],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],["logoutModal",""],[1,"mt-4"],[1,"pushNotiGroup"],[1,"form-check","form-switch"],[1,"form-check-label"],["type","checkbox","id","customSwitch",1,"form-check-input"],["for","customSwitch",1,"form-check-label"],[1,"formStyle","mt-4",3,"formGroup","ngSubmit"],[1,"row","changePassGroup"],[1,"col-md-4"],["for","currentPassword"],[1,"text-danger"],["type","password","id","currentPassword","placeholder","","formControlName","currentPassword",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","newPassword"],["type","password","id","newPassword","placeholder","","formControlName","newPassword",1,"form-control",3,"ngClass"],["class","password-info mt-2",4,"ngIf"],["class","password-success mt-2",4,"ngIf"],["for","confirmPassword"],["type","password","id","confirmPassword","placeholder","","formControlName","confirmPassword",1,"form-control",3,"ngClass"],["class","password-match-indicator mt-1",4,"ngIf"],[1,"col-md-12","mt-2"],[1,"pull-right"],["type","button",1,"btn","btn-outline-primary"],["type","Submit",1,"btn","btn-primary"],[1,"invalid-feedback"],[1,"password-info","mt-2"],[1,"text-info"],[1,"bi","bi-info-circle"],[1,"password-success","mt-2"],[1,"text-success"],[1,"bi","bi-check-circle-fill"],[1,"password-match-indicator","mt-1"],[1,"bi"],[1,"modal-body"],[1,"formStyle","mt-2"],[1,"modal-footer","justify-content-center"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(A,F){if(1&A){const H=d.RV6();d.j41(0,"div",0)(1,"div",1),d.nrm(2,"i",2),d.j41(3,"h1",3),d.EFF(4),d.k0s()(),d.j41(5,"div",4)(6,"button",5),d.bIt("click",function(){return F.updateProfile("edit",F.userDataForEdit)}),d.nrm(7,"i",6),d.EFF(8," Edit"),d.k0s(),d.j41(9,"button",7),d.bIt("click",function(){d.eBV(H);const rt=d.sdS(86);return d.Njj(F.openModal(rt,"sm"))}),d.nrm(10,"i",8),d.EFF(11," Logout"),d.k0s()()(),d.j41(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"label",13),d.EFF(17,"User ID"),d.k0s(),d.j41(18,"span"),d.EFF(19,":"),d.k0s(),d.j41(20,"h6"),d.EFF(21),d.k0s()(),d.j41(22,"div",12)(23,"label",13),d.EFF(24,"Contact Person "),d.k0s(),d.j41(25,"span"),d.EFF(26,":"),d.k0s(),d.j41(27,"h6"),d.EFF(28),d.k0s()(),d.j41(29,"div",12)(30,"label",13),d.EFF(31,"Mobile Number"),d.k0s(),d.j41(32,"span"),d.EFF(33,":"),d.k0s(),d.j41(34,"h6"),d.EFF(35),d.k0s()(),d.j41(36,"div",12)(37,"label",13),d.EFF(38,"Email"),d.k0s(),d.j41(39,"span"),d.EFF(40,":"),d.k0s(),d.j41(41,"h6"),d.EFF(42),d.k0s()()(),d.j41(43,"div",11)(44,"div",12)(45,"label",13),d.EFF(46,"Organization Name"),d.k0s(),d.j41(47,"span"),d.EFF(48,":"),d.k0s(),d.j41(49,"h6"),d.EFF(50),d.k0s()(),d.j41(51,"div",12)(52,"label",13),d.EFF(53,"Business Type "),d.k0s(),d.j41(54,"span"),d.EFF(55,":"),d.k0s(),d.j41(56,"h6"),d.EFF(57),d.k0s()(),d.j41(58,"div",12)(59,"label",13),d.EFF(60,"Currency"),d.k0s(),d.j41(61,"span"),d.EFF(62,":"),d.k0s(),d.j41(63,"h6"),d.EFF(64),d.k0s()(),d.j41(65,"div",12)(66,"label",13),d.EFF(67,"Address"),d.k0s(),d.j41(68,"span"),d.EFF(69,":"),d.k0s(),d.j41(70,"h6"),d.EFF(71),d.k0s()()()(),d.j41(72,"div",14)(73,"div",15)(74,"ul",16,17)(76,"li",18)(77,"a",19),d.EFF(78,"Settings"),d.k0s(),d.DNE(79,Zt,15,0,"ng-template",20),d.k0s(),d.j41(80,"li",18)(81,"a",19),d.EFF(82,"Change Password"),d.k0s(),d.DNE(83,ri,36,17,"ng-template",20),d.k0s()(),d.nrm(84,"div",21),d.k0s()(),d.DNE(85,ji,9,0,"ng-template",null,22,d.C5r),d.k0s()}if(2&A){const H=d.sdS(75);d.R7$(4),d.JRh(F.userData.ContactPersonName),d.R7$(17),d.JRh(F.userData.UserId),d.R7$(7),d.JRh(F.userData.ContactPersonName),d.R7$(7),d.JRh(F.userData.MobileNumber),d.R7$(7),d.JRh(F.userData.Email),d.R7$(8),d.JRh(F.userData.OrgName),d.R7$(7),d.JRh(F.userData.BusinessType),d.R7$(7),d.JRh(F.userData.Currency),d.R7$(7),d.JRh(F.userData.Address),d.R7$(5),d.Y8G("ngbNavItem",1),d.R7$(4),d.Y8G("ngbNavItem",2),d.R7$(4),d.Y8G("ngbNavOutlet",H)}},dependencies:[kt.YU,kt.bT,ot.Um,ot.X9,ot.sy,ot.Gx,ot.Ri,ot.WA,ot.m_,U.qT,U.me,U.BC,U.cb,U.j4,U.JD,Ft.ZP,U.cV]})}}return T})();function ye(T,Y){1&T&&(d.j41(0,"div",8)(1,"div",9),d.nrm(2,"i",10),d.j41(3,"div",11)(4,"p"),d.EFF(5,'Message: A violation has been recorded against this customer: "hamad" on 19.03.2025.'),d.k0s(),d.j41(6,"h5"),d.EFF(7,"Category: Violation"),d.k0s(),d.j41(8,"h6"),d.EFF(9,"19/03/2025, 06:13:47 PM"),d.k0s()()()(),d.j41(10,"div",8)(11,"div",9),d.nrm(12,"i",10),d.j41(13,"div",11)(14,"p"),d.EFF(15,'Message: A violation has been recorded against this customer: "hamad" on 19.03.2025.'),d.k0s(),d.j41(16,"h5"),d.EFF(17,"Category: Violation"),d.k0s(),d.j41(18,"h6"),d.EFF(19,"19/03/2025, 06:13:47 PM"),d.k0s()()()())}function Is(T,Y){1&T&&(d.j41(0,"div",12)(1,"div",9),d.nrm(2,"i",10),d.j41(3,"div",11)(4,"p"),d.EFF(5,'Message: A violation has been recorded against this customer: "hamad" on 19.03.2025.'),d.k0s(),d.j41(6,"h5"),d.EFF(7,"Category: Violation"),d.k0s(),d.j41(8,"h6"),d.EFF(9,"19/03/2025, 06:13:47 PM"),d.k0s()()()(),d.j41(10,"div",12)(11,"div",9),d.nrm(12,"i",10),d.j41(13,"div",11)(14,"p"),d.EFF(15,'Message: A violation has been recorded against this customer: "hamad" on 19.03.2025.'),d.k0s(),d.j41(16,"h5"),d.EFF(17,"Category: Violation"),d.k0s(),d.j41(18,"h6"),d.EFF(19,"19/03/2025, 06:13:47 PM"),d.k0s()()()())}let Ns=(()=>{class T{constructor(){this.active=1}ngOnInit(){}static{this.\u0275fac=function(A){return new(A||T)}}static{this.\u0275cmp=d.VBU({type:T,selectors:[["app-notification"]],decls:13,vars:4,consts:[[1,"bodyContent"],[1,"tabBlock","notificationTab"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"card"],[1,"card-body"],[1,"bi","bi-exclamation-triangle-fill","alertIcon"],[1,"alert-text"],[1,"card","warningTab"]],template:function(A,F){if(1&A&&(d.j41(0,"div",0)(1,"div",1)(2,"ul",2,3),d.bIt("activeIdChange",function(Q){return F.active=Q}),d.j41(4,"li",4)(5,"button",5),d.EFF(6,"Alert"),d.k0s(),d.DNE(7,ye,20,0,"ng-template",6),d.k0s(),d.j41(8,"li",4)(9,"button",5),d.EFF(10,"Warning"),d.k0s(),d.DNE(11,Is,20,0,"ng-template",6),d.k0s()(),d.nrm(12,"div",7),d.k0s()()),2&A){const H=d.sdS(3);d.R7$(2),d.Y8G("activeId",F.active),d.R7$(2),d.Y8G("ngbNavItem",1),d.R7$(4),d.Y8G("ngbNavItem",2),d.R7$(4),d.Y8G("ngbNavOutlet",H)}},dependencies:[ot.Um,ot.X9,ot.sy,ot.Gx,ot.RI,ot.WA,ot.m_]})}}return T})();function zt(T,Y){1&T&&d.nrm(0,"app-dashboard")}function Ds(T,Y){1&T&&d.nrm(0,"app-reports")}function ni(T,Y){1&T&&d.nrm(0,"app-profile")}function Rs(T,Y){1&T&&d.nrm(0,"app-notification")}function Bs(T,Y){1&T&&(d.j41(0,"div"),d.EFF(1,"Select a module"),d.k0s())}let js=(()=>{class T{constructor(){this.selectedComponent={link:"",header:""}}ngOnInit(){console.log(this.selectedComponent)}static{this.\u0275fac=function(A){return new(A||T)}}static{this.\u0275cmp=d.VBU({type:T,selectors:[["app-content"]],inputs:{selectedComponent:"selectedComponent"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(A,F){1&A&&(d.j41(0,"div",0),d.DNE(1,zt,1,0,"app-dashboard",1),d.DNE(2,Ds,1,0,"app-reports",1),d.DNE(3,ni,1,0,"app-profile",1),d.DNE(4,Rs,1,0,"app-notification",1),d.DNE(5,Bs,2,0,"div",2),d.k0s()),2&A&&(d.Y8G("ngSwitch",F.selectedComponent.link),d.R7$(1),d.Y8G("ngSwitchCase","dashboard"),d.R7$(1),d.Y8G("ngSwitchCase","reports"),d.R7$(1),d.Y8G("ngSwitchCase","profile"),d.R7$(1),d.Y8G("ngSwitchCase","notification"))},dependencies:[kt.ux,kt.e1,kt.fG,ge,Ti,ai,Ns]})}}return T})();const zi=[{path:"",component:(()=>{class T{constructor(){this.selectedComponent={link:"dashboard",header:"Hi Saeed"}}ngOnInit(){}onSidebarSelection(P){console.log(P),this.selectedComponent=P}static{this.\u0275fac=function(A){return new(A||T)}}static{this.\u0275cmp=d.VBU({type:T,selectors:[["app-customer"]],decls:5,vars:2,consts:[[1,"admin-layout","d-flex"],[3,"linkSelected"],[1,"flex-grow-1","content-area"],[3,"selectedHeader"],[3,"selectedComponent"]],template:function(A,F){1&A&&(d.j41(0,"div",0)(1,"app-sidenav",1),d.bIt("linkSelected",function(Q){return F.onSidebarSelection(Q)}),d.k0s(),d.j41(2,"div",2),d.nrm(3,"app-header",3)(4,"app-content",4),d.k0s()()),2&A&&(d.R7$(3),d.Y8G("selectedHeader",F.selectedComponent),d.R7$(1),d.Y8G("selectedComponent",F.selectedComponent))},dependencies:[$e,Ve,js]})}}return T})()}];let zs=(()=>{class T{static{this.\u0275fac=function(A){return new(A||T)}}static{this.\u0275mod=d.$C({type:T})}static{this.\u0275inj=d.G2t({imports:[qt.iI.forChild(zi),qt.iI]})}}return T})();var ut=at(2688),li=at(969),Gs=at(4786);let Ws=(()=>{class T{static{this.\u0275fac=function(A){return new(A||T)}}static{this.\u0275mod=d.$C({type:T})}static{this.\u0275inj=d.G2t({imports:[kt.MD,zs,ot.UN,Ai.q1,ut.$V,ot.zH,U.X1,Ft.s0,Qt.MQ,U.YN,Ke,li.rJ,Gs.z.forRoot({size:"small",color:"rgb(0, 189, 99)",switchColor:"#80FFA2",defaultBgColor:"#00ACFF",defaultBoColor:"#476EFF",checkedLabel:"on",uncheckedLabel:"off"})]})}}return T})()},1264:function(er){var Vt,at;at=()=>(()=>{"use strict";let Vt,at;var kt,qt,d,$e,ot,Oe,Ue,Ve,U,Ft,qe,Ze,Ke,Je,Qe,ti,Le,ei,l,ge={d:(l,t)=>{for(var e in t)ge.o(t,e)&&!ge.o(l,e)&&Object.defineProperty(l,e,{enumerable:!0,get:t[e]})},o:(l,t)=>Object.prototype.hasOwnProperty.call(l,t)},Ti={};ge.d(Ti,{default:()=>yp}),(l=kt||(kt={})).SVG_NS="http://www.w3.org/2000/svg",l.product="Highcharts",l.version="12.4.0",l.win=typeof window<"u"?window:{},l.doc=l.win.document,l.svg=!!l.doc?.createElementNS?.(l.SVG_NS,"svg")?.createSVGRect,l.pageLang=l.doc?.documentElement?.closest("[lang]")?.lang,l.userAgent=l.win.navigator?.userAgent||"",l.isChrome=l.win.chrome,l.isFirefox=-1!==l.userAgent.indexOf("Firefox"),l.isMS=/(edge|msie|trident)/i.test(l.userAgent)&&!l.win.opera,l.isSafari=!l.isChrome&&-1!==l.userAgent.indexOf("Safari"),l.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(l.userAgent),l.isWebKit=-1!==l.userAgent.indexOf("AppleWebKit"),l.deg2rad=2*Math.PI/360,l.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],l.noop=function(){},l.supportsPassiveEvents=function(){let t=!1;if(!l.isMS){let e=Object.defineProperty({},"passive",{get:function(){t=!0}});l.win.addEventListener&&l.win.removeEventListener&&(l.win.addEventListener("testPassive",l.noop,e),l.win.removeEventListener("testPassive",l.noop,e))}return t}(),l.charts=[],l.composed=[],l.dateFormats={},l.seriesTypes={},l.symbolSizes={},l.chartCount=0;let I=kt,{charts:Ai,doc:me,win:jt}=I;function Qt(l,t,e,i){let s=t?"Highcharts error":"Highcharts warning";32===l&&(l=`${s}: Deprecated member`);let o=si(l),r=o?`${s} #${l}: www.highcharts.com/errors/${l}/`:l.toString();if(void 0!==i){let a="";o&&(r+="?"),Zt(i,function(n,h){a+=`\n - ${h}: ${n}`,o&&(r+=encodeURI(h)+"="+encodeURI(n))}),r+=a}Ri(I,"displayError",{chart:e,code:l,message:r,params:i},function(){if(t)throw Error(r);jt.console&&-1===Qt.messages.indexOf(r)&&console.warn(r)}),Qt.messages.push(r)}function Ei(l,t){return parseInt(l,t||10)}function fe(l){return"string"==typeof l}function Fe(l){let t=Object.prototype.toString.call(l);return"[object Array]"===t||"[object Array Iterator]"===t}function te(l,t){return!(!l||"object"!=typeof l||t&&Fe(l))}function ii(l){return te(l)&&"number"==typeof l.nodeType}function Oi(l){let t=l?.constructor;return!(!te(l,!0)||ii(l)||!t?.name||"Object"===t.name)}function si(l){return"number"==typeof l&&!isNaN(l)&&l<1/0&&l>-1/0}function ee(l){return null!=l}function Li(l,t,e){let i,s=fe(t)&&!ee(e),o=(r,a)=>{ee(r)?l.setAttribute(a,r):s?(i=l.getAttribute(a))||"class"!==a||(i=l.getAttribute(a+"Name")):l.removeAttribute(a)};return fe(t)?o(e,t):Zt(t,o),i}function Fi(l){return Fe(l)?l:[l]}function wt(l,t){let e;for(e in l||(l={}),t)l[e]=t[e];return l}function xe(){let l=arguments,t=l.length;for(let e=0;e<t;e++){let i=l[e];if(null!=i)return i}}function oi(l,t){wt(l.style,t)}function Ii(l){return Math.pow(10,Math.floor(Math.log(l)/Math.LN10))}function Ni(l,t){return l>1e14?l:parseFloat(l.toPrecision(t||14))}(Qt||(Qt={})).messages=[],Math.easeInOutSine=function(l){return-.5*(Math.cos(Math.PI*l)-1)};let Os=Array.prototype.find?function(l,t){return l.find(t)}:function(l,t){let e,i=l.length;for(e=0;e<i;e++)if(t(l[e],e))return l[e]};function Zt(l,t,e){for(let i in l)Object.hasOwnProperty.call(l,i)&&t.call(e||l[i],l[i],i,l)}function Di(l,t,e){function i(r,a){let n=l.removeEventListener;n&&n.call(l,r,a,!1)}function s(r){let a,n;l.nodeName&&(t?(a={})[t]=!0:a=r,Zt(a,function(h,p){if(r[p])for(n=r[p].length;n--;)i(p,r[p][n].fn)}))}let o="function"==typeof l&&l.prototype||l;if(Object.hasOwnProperty.call(o,"hcEvents")){let r=o.hcEvents;t?e?(r[t]=(r[t]||[]).filter(function(n){return e!==n.fn}),i(t,e)):(s(r),r[t]=[]):(s(r),delete o.hcEvents)}}function Ri(l,t,e,i){if(e=e||{},me?.createEvent&&(l.dispatchEvent||l.fireEvent&&l!==I)){let s=me.createEvent("Events");s.initEvent(t,!0,!0),e=wt(s,e),l.dispatchEvent?l.dispatchEvent(e):l.fireEvent(t,e)}else if(l.hcEvents){e.target||wt(e,{preventDefault:function(){e.defaultPrevented=!0},target:l,type:t});let s=[],o=l,r=!1;for(;o.hcEvents;)Object.hasOwnProperty.call(o,"hcEvents")&&o.hcEvents[t]&&(s.length&&(r=!0),s.unshift.apply(s,o.hcEvents[t])),o=Object.getPrototypeOf(o);r&&s.sort((a,n)=>a.order-n.order),s.forEach(a=>{!1===a.fn.call(l,e)&&e.preventDefault()})}i&&!e.defaultPrevented&&i.call(l,e)}let Ls=function(){let l=Math.random().toString(36).substring(2,9)+"-",t=0;return function(){return"highcharts-"+(Vt?"":l)+t++}}();jt.jQuery&&(jt.jQuery.fn.highcharts=function(){let l=[].slice.call(arguments);if(this[0])return l[0]?(new(I[fe(l[0])?l.shift():"Chart"])(this[0],l[0],l[1]),this):Ai[Li(this[0],"data-highcharts-chart")]});let G={addEvent:function(l,t,e,i={}){let s="function"==typeof l&&l.prototype||l;Object.hasOwnProperty.call(s,"hcEvents")||(s.hcEvents={});let o=s.hcEvents;I.Point&&l instanceof I.Point&&l.series&&l.series.chart&&(l.series.chart.runTrackerClick=!0);let r=l.addEventListener;return r&&r.call(l,t,e,!!I.supportsPassiveEvents&&{passive:void 0===i.passive?-1!==t.indexOf("touch"):i.passive,capture:!1}),o[t]||(o[t]=[]),o[t].push({fn:e,order:"number"==typeof i.order?i.order:1/0}),o[t].sort((n,h)=>n.order-h.order),function(){Di(l,t,e)}},arrayMax:function(l){let t=l.length,e=l[0];for(;t--;)l[t]>e&&(e=l[t]);return e},arrayMin:function(l){let t=l.length,e=l[0];for(;t--;)l[t]<e&&(e=l[t]);return e},attr:Li,clamp:function(l,t,e){return l>t?l<e?l:e:t},clearTimeout:function(l){ee(l)&&clearTimeout(l)},correctFloat:Ni,createElement:function(l,t,e,i,s){let o=me.createElement(l);return t&&wt(o,t),s&&oi(o,{padding:"0",border:"none",margin:"0"}),e&&oi(o,e),i&&i.appendChild(o),o},crisp:function(l,t=0,e){let i=t%2/2,s=e?-1:1;return(Math.round(l*s-i)+i)*s},css:oi,defined:ee,destroyObjectProperties:function(l,t,e){Zt(l,function(i,s){i!==t&&i?.destroy&&i.destroy(),(i?.destroy||!e)&&delete l[s]})},diffObjects:function(l,t,e,i){let s={};return function o(r,a,n,h){let p=e?a:r;Zt(r,function(c,u){if(!h&&i&&i.indexOf(u)>-1&&a[u]){c=Fi(c),n[u]=[];for(let g=0;g<Math.max(c.length,a[u].length);g++)a[u][g]&&(void 0===c[g]?n[u][g]=a[u][g]:(n[u][g]={},o(c[g],a[u][g],n[u][g],h+1)))}else te(c,!0)&&!c.nodeType?(n[u]=Fe(c)?[]:{},o(c,a[u]||{},n[u],h+1),0===Object.keys(n[u]).length&&("colorAxis"!==u||0!==h)&&delete n[u]):(r[u]!==a[u]||u in r&&!(u in a))&&"__proto__"!==u&&"constructor"!==u&&(n[u]=p[u])})}(l,t,s,0),s},discardElement:function(l){l?.parentElement?.removeChild(l)},erase:function(l,t){let e=l.length;for(;e--;)if(l[e]===t){l.splice(e,1);break}},error:Qt,extend:wt,extendClass:function(l,t){let e=function(){};return wt(e.prototype=new l,t),e},find:Os,fireEvent:Ri,getAlignFactor:(l="")=>({center:.5,right:1,middle:.5,bottom:1}[l]||0),getClosestDistance:function(l,t){let e,i,s,o,r=!t;return l.forEach(a=>{if(a.length>1)for(o=i=a.length-1;o>0;o--)(s=a[o]-a[o-1])<0&&!r?(t?.(),t=void 0):s&&(void 0===e||s<e)&&(e=s)}),e},getMagnitude:Ii,getNestedProperty:function(l,t){let e=l.split(".");for(;e.length&&ee(t);){let i=e.shift();if(void 0===i||"__proto__"===i)return;if("this"===i){let o;return te(t)&&(o=t["@this"]),o??t}let s=t[i.replace(/[\\'"]/g,"")];if(!ee(s)||"function"==typeof s||"number"==typeof s.nodeType||s===jt)return;t=s}return t},getStyle:function l(t,e,i){let s;if("width"===e){let r=Math.min(t.offsetWidth,t.scrollWidth),a=t.getBoundingClientRect?.().width;return a<r&&a>=r-1&&(r=Math.floor(a)),Math.max(0,r-(l(t,"padding-left",!0)||0)-(l(t,"padding-right",!0)||0))}if("height"===e)return Math.max(0,Math.min(t.offsetHeight,t.scrollHeight)-(l(t,"padding-top",!0)||0)-(l(t,"padding-bottom",!0)||0));let o=jt.getComputedStyle(t,void 0);return o&&(s=o.getPropertyValue(e),xe(i,"opacity"!==e)&&(s=Ei(s))),s},insertItem:function(l,t){let e,i=l.options.index,s=t.length;for(e=l.options.isInternal?s:0;e<s+1;e++)if(!t[e]||si(i)&&i<xe(t[e].options.index,t[e]._i)||t[e].options.isInternal){t.splice(e,0,l);break}return e},isArray:Fe,isClass:Oi,isDOMElement:ii,isFunction:function(l){return"function"==typeof l},isNumber:si,isObject:te,isString:fe,merge:function(l,...t){let e,i=[l,...t],s={},o=function(a,n){return"object"!=typeof a&&(a={}),Zt(n,function(h,p){"__proto__"!==p&&"constructor"!==p&&(a[p]=!te(h,!0)||Oi(h)||ii(h)?n[p]:o(a[p]||{},h))}),a};!0===l&&(s=i[1],i=Array.prototype.slice.call(i,2));let r=i.length;for(e=0;e<r;e++)s=o(s,i[e]);return s},normalizeTickInterval:function(l,t,e,i,s){let o,r=l,a=l/(e=xe(e,Ii(l)));for(!t&&(t=s?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===i&&(1===e?t=t.filter(function(n){return n%1==0}):e<=.1&&(t=[1/e]))),o=0;o<t.length&&(r=t[o],(!s||!(r*e>=l))&&(s||!(a<=(t[o]+(t[o+1]||t[o]))/2)));o++);return Ni(r*e,-Math.round(Math.log(.001)/Math.LN10))},objectEach:Zt,offset:function(l){let t=me.documentElement,e=l.parentElement||l.parentNode?l.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:e.top+(jt.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(jt.pageXOffset||t.scrollLeft)-(t.clientLeft||0),width:e.width,height:e.height}},pad:function(l,t,e){return Array((t||2)+1-String(l).replace("-","").length).join(e||"0")+l},pick:xe,pInt:Ei,pushUnique:function(l,t){return 0>l.indexOf(t)&&!!l.push(t)},relativeLength:function(l,t,e){return/%$/.test(l)?t*parseFloat(l)/100+(e||0):parseFloat(l)},removeEvent:Di,replaceNested:function(l,...t){let e,i;do{for(i of(e=l,t))l=l.replace(i[0],i[1])}while(l!==e);return l},splat:Fi,stableSort:function(l,t){let e,i,s=l.length;for(i=0;i<s;i++)l[i].safeI=i;for(l.sort(function(o,r){return 0===(e=t(o,r))?o.safeI-r.safeI:e}),i=0;i<s;i++)delete l[i].safeI},syncTimeout:function(l,t,e){return t>0?setTimeout(l,t,e):(l.call(0,e),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(l){return fe(l)?l.substring(0,1).toUpperCase()+l.substring(1):String(l)},uniqueKey:Ls,useSerialIds:function(l){return Vt=xe(l,Vt)},wrap:function(l,t,e){let i=l[t];l[t]=function(){let s=arguments,o=this;return e.apply(this,[function(){return i.apply(o,arguments.length?arguments:s)}].concat([].slice.call(arguments)))}}},{pageLang:Fs,win:Ie}=I,{defined:Bi,error:Ne,extend:ri,isNumber:ji,isObject:ai,isString:ye,merge:Is,objectEach:Ns,pad:zt,splat:Ds,timeUnits:ni,ucfirst:Rs}=G,Bs=I.isSafari&&Ie.Intl&&!Ie.Intl.DateTimeFormat.prototype.formatRange,ir=class{constructor(l,t){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=Ie.Date,this.update(l),this.lang=t}update(l={}){this.dTLCache={},this.options=l=Is(!0,this.options,l);let{timezoneOffset:t,useUTC:e,locale:i}=l;this.Date=l.Date||Ie.Date||Date;let s=l.timezone;Bi(e)&&(s=e?"UTC":void 0),t&&t%60==0&&(s="Etc/GMT"+(t>0?"+":"")+t/60),this.variableTimezone="UTC"!==s&&0!==s?.indexOf("Etc/GMT"),this.timezone=s,this.lang&&i&&(this.lang.locale=i),["months","shortMonths","weekdays","shortWeekdays"].forEach(o=>{let r=/months/i.test(o),a=/short/.test(o),n={timeZone:"UTC"};n[r?"month":"weekday"]=a?"short":"long",this[o]=(r?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(h=>this.dateFormat(n,24*(r?31:1)*36e5*h))})}toParts(l){let[t,e,i,s,o,r,a]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},l,"es").split(/(?:, | |\/|:)/g);return[s,i-1,e,o,r,a,Math.floor(Number(l)||0)%1e3,"DLMXJVS".indexOf(t)].map(Number)}dateTimeFormat(l,t,e=this.options.locale||Fs){let i=JSON.stringify(l)+e;ye(l)&&(l=this.str2dtf(l));let s=this.dTLCache[i];if(!s){l.timeZone??(l.timeZone=this.timezone);try{s=new Intl.DateTimeFormat(e,l)}catch(o){/Invalid time zone/i.test(o.message)?(Ne(34),l.timeZone="UTC",s=new Intl.DateTimeFormat(e,l)):Ne(o.message,!1)}}return this.dTLCache[i]=s,s?.format(t)||""}str2dtf(l,t={}){let e={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(e).forEach(i=>{-1!==l.indexOf(i)&&ri(t,e[i])}),t}makeTime(l,t,e=1,i=0,s,o,r){let a=this.Date.UTC(l,t,e,i,s||0,o||0,r||0);if("UTC"!==this.timezone){let n=this.getTimezoneOffset(a);if(a+=n,-1!==[2,3,8,9,10,11].indexOf(t)&&(i<5||i>20)){let h=this.getTimezoneOffset(a);n!==h?a+=h-n:n-36e5!==this.getTimezoneOffset(a-36e5)||Bs||(a-=36e5)}}return a}parse(l){if(!ye(l))return l??void 0;let t=(l=l.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(l),e=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(l);t||e||(l+="Z");let i=Date.parse(l);return ji(i)?i+(!t||e?this.getTimezoneOffset(i):0):void 0}getTimezoneOffset(l){if("UTC"!==this.timezone){let[t,e,i,s,o=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},l,"en").split(/(GMT|:)/).map(Number),r=-60*(i+o/60)*6e4;if(ji(r))return r}return 0}dateFormat(l,t,e){let i=this.lang;if(!Bi(t)||isNaN(t))return i?.invalidDate||"";if(ye(l=l??"%Y-%m-%d %H:%M:%S")){let s,o=/%\[([a-zA-Z]+)\]/g;for(;s=o.exec(l);)l=l.replace(s[0],this.dateTimeFormat(s[1],t,i?.locale))}if(ye(l)&&-1!==l.indexOf("%")){let s=this,[o,r,a,n,h,p,c,u]=this.toParts(t),g=i?.weekdays||this.weekdays,m=i?.shortWeekdays||this.shortWeekdays,f=i?.months||this.months,y=i?.shortMonths||this.shortMonths;Ns(ri({a:m?m[u]:g[u].substr(0,3),A:g[u],d:zt(a),e:zt(a,2," "),w:u,v:i?.weekFrom??"",b:y[r],B:f[r],m:zt(r+1),o:r+1,y:o.toString().substr(2,2),Y:o,H:zt(n),k:n,I:zt(n%12||12),l:n%12||12,M:zt(h),p:n<12?"AM":"PM",P:n<12?"am":"pm",S:zt(p),L:zt(c,3)},I.dateFormats),function(x,b){if(ye(l))for(;-1!==l.indexOf("%"+b);)l=l.replace("%"+b,"function"==typeof x?x.call(s,t):x)})}else if(ai(l)){let s=(this.getTimezoneOffset(t)||0)/36e5,o=this.timezone||"Etc/GMT"+(s>=0?"+":"")+s,{prefix:r="",suffix:a=""}=l;l=r+this.dateTimeFormat(ri({timeZone:o},l),t)+a}return e?Rs(l):l}resolveDTLFormat(l){return ai(l,!0)?ai(l,!0)&&(l=>void 0===l.main)(l)?{main:l}:l:{main:(l=Ds(l))[0],from:l[1],to:l[2]}}getDateFormat(l,t,e,i){let s=this.dateFormat("%m-%d %H:%M:%S.%L",t),o="01-01 00:00:00.000",r={millisecond:15,second:12,minute:9,hour:6,day:3},a="millisecond",n=a;for(a in ni){if(l&&l===ni.week&&+this.dateFormat("%w",t)===e&&s.substr(6)===o.substr(6)){a="week";break}if(l&&ni[a]>l){a=n;break}if(r[a]&&s.substr(r[a])!==o.substr(r[a]))break;"week"!==a&&(n=a)}return this.resolveDTLFormat(i[a]).main}},{defined:zi,extend:zs,timeUnits:ut}=G,li=class extends ir{getTimeTicks(l,t,e,i){let y,s=this,o=[],r={},{count:a=1,unitRange:n}=l,[h,p,c,u,g,m]=s.toParts(t),f=(t||0)%1e3;if(i??(i=1),zi(t)){if(f=n>=ut.second?0:a*Math.floor(f/a),n>=ut.second&&(m=n>=ut.minute?0:a*Math.floor(m/a)),n>=ut.minute&&(g=n>=ut.hour?0:a*Math.floor(g/a)),n>=ut.hour&&(u=n>=ut.day?0:a*Math.floor(u/a)),n>=ut.day&&(c=n>=ut.month?1:Math.max(1,a*Math.floor(c/a))),n>=ut.month&&(p=n>=ut.year?0:a*Math.floor(p/a)),n>=ut.year&&(h-=h%a),n===ut.week){a&&(t=s.makeTime(h,p,c,u,g,m,f));let v=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},t,"es"),k="DLMXJVS".indexOf(v);c+=-k+i+(k<i?-7:0)}t=s.makeTime(h,p,c,u,g,m,f),s.variableTimezone&&zi(e)&&(y=e-t>4*ut.month||s.getTimezoneOffset(t)!==s.getTimezoneOffset(e));let x=t,b=1;for(;x<e;)o.push(x),n===ut.year?x=s.makeTime(h+b*a,0):n===ut.month?x=s.makeTime(h,p+b*a):!y||n!==ut.day&&n!==ut.week?y&&n===ut.hour&&a>1?x=s.makeTime(h,p,c,u+b*a):x+=n*a:x=s.makeTime(h,p,c+b*a*(n===ut.day?1:7)),b++;o.push(x),n<=ut.hour&&o.length<1e4&&o.forEach(v=>{v%18e5==0&&"000000000"===s.dateFormat("%H%M%S%L",v)&&(r[v]="day")})}return o.info=zs(l,{higherRanks:r,totalRange:n*a}),o}},{isTouchDevice:Gs}=I,{fireEvent:Ws,merge:T}=G,Y={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:l=>Math.sqrt(1-Math.pow(l-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:Gs?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},P=new li(Y.time,Y.lang),A={defaultOptions:Y,defaultTime:P,getOptions:function(){return Y},setOptions:function(l){return Ws(I,"setOptions",{options:l}),T(!0,Y,l),l.time&&P.update(Y.time),l.lang&&"locale"in l.lang&&P.update({locale:l.lang.locale}),l.lang?.chartTitle&&(Y.title={...Y.title,text:l.lang.chartTitle}),Y}},{win:F}=I,{isNumber:H,isString:Q,merge:rt,pInt:ft,defined:Gt}=G,sr=(l,t,e)=>`color-mix(in srgb,${l},${t} ${100*e}%)`,Xs=l=>Q(l)&&!!l&&"none"!==l;class lt{static parse(t){return t?new lt(t):lt.None}constructor(t){let e,i,s,o;this.rgba=[NaN,NaN,NaN,NaN],this.input=t;let r=I.Color;if(r&&r!==lt)return new r(t);if("object"==typeof t&&void 0!==t.stops)this.stops=t.stops.map(a=>new lt(a[1]));else if("string"==typeof t)for(this.input=t=lt.names[t.toLowerCase()]||t,s=lt.parsers.length;s--&&!i;)(e=(o=lt.parsers[s]).regex.exec(t))&&(i=o.parse(e));i&&(this.rgba=i)}get(t){let e=this.input,i=this.rgba;if(this.output)return this.output;if("object"==typeof e&&void 0!==this.stops){let s=rt(e);return s.stops=[].slice.call(s.stops),this.stops.forEach((o,r)=>{s.stops[r]=[s.stops[r][0],o.get(t)]}),s}return i&&H(i[0])?"rgb"===t||!t&&1===i[3]?"rgb("+i[0]+","+i[1]+","+i[2]+")":"a"===t?`${i[3]}`:"rgba("+i.join(",")+")":e}brighten(t){let e=this.rgba;if(this.stops)this.stops.forEach(function(i){i.brighten(t)});else if(H(t)&&0!==t)if(H(e[0]))for(let i=0;i<3;i++)e[i]+=ft(255*t),e[i]<0&&(e[i]=0),e[i]>255&&(e[i]=255);else lt.useColorMix&&Xs(this.input)&&(this.output=sr(this.input,t>0?"white":"black",Math.abs(t)));return this}setOpacity(t){return this.rgba[3]=t,this}tweenTo(t,e){let i=this.rgba,s=t.rgba;if(!H(i[0])||!H(s[0]))return lt.useColorMix&&Xs(this.input)&&Xs(t.input)&&e<.99?sr(this.input,t.input,e):t.input||"none";let o=1!==s[3]||1!==i[3],r=(n,h)=>n+(i[h]-n)*(1-e),a=s.slice(0,3).map(r).map(Math.round);return o&&a.push(r(s[3],3)),(o?"rgba(":"rgb(")+a.join(",")+")"}}lt.names={white:"#ffffff",black:"#000000"},lt.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(l){return[ft(l[1]),ft(l[2]),ft(l[3]),parseFloat(l[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(l){return[ft(l[1]),ft(l[2]),ft(l[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(l){return[ft(l[1]+l[1],16),ft(l[2]+l[2],16),ft(l[3]+l[3],16),Gt(l[4])?ft(l[4]+l[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(l){return[ft(l[1],16),ft(l[2],16),ft(l[3],16),Gt(l[4])?ft(l[4],16)/255:1]}}],lt.useColorMix=F.CSS?.supports("color","color-mix(in srgb,red,blue 9%)"),lt.None=new lt("");let{parse:or}=lt,{win:bn}=I,{isNumber:_s,objectEach:vn}=G,be=(()=>{class l{constructor(e,i,s){this.pos=NaN,this.options=i,this.elem=e,this.prop=s}dSetter(){let e=this.paths,i=e?.[0],s=e?.[1],o=this.now||0,r=[];if(1!==o&&i&&s)if(i.length===s.length&&o<1)for(let a=0;a<s.length;a++){let n=i[a],h=s[a],p=[];for(let c=0;c<h.length;c++){let u=n[c],g=h[c];p[c]=_s(u)&&_s(g)&&("A"!==h[0]||4!==c&&5!==c)?u+o*(g-u):g}r.push(p)}else r=s;else r=this.toD||[];this.elem.attr("d",r,void 0,!0)}update(){let e=this.elem,i=this.prop,s=this.now,o=this.options.step;this[i+"Setter"]?this[i+"Setter"]():e.attr?e.element&&e.attr(i,s,null,!0):e.style[i]=s+this.unit,o&&o.call(e,s,this)}run(e,i,s){let o=this,r=o.options,a=function(p){return!a.stopped&&o.step(p)},n=bn.requestAnimationFrame||function(p){setTimeout(p,13)},h=function(){for(let p=0;p<l.timers.length;p++)l.timers[p]()||l.timers.splice(p--,1);l.timers.length&&n(h)};e!==i||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=i,this.unit=s,this.now=this.start,this.pos=0,a.elem=this.elem,a.prop=this.prop,a()&&1===l.timers.push(a)&&n(h)):(delete r.curAnim[this.prop],r.complete&&0===Object.keys(r.curAnim).length&&r.complete.call(this.elem))}step(e){let i,s,o=+new Date,r=this.options,a=this.elem,n=r.complete,h=r.duration,p=r.curAnim;return a.attr&&!a.element?i=!1:e||o>=h+this.startTime?(this.now=this.end,this.pos=1,this.update(),p[this.prop]=!0,s=!0,vn(p,function(c){!0!==c&&(s=!1)}),s&&n&&n.call(a),i=!1):(this.pos=r.easing((o-this.startTime)/h),this.now=this.start+(this.end-this.start)*this.pos,this.update(),i=!0),i}initPath(e,i,s){let c,u,g,m,o=e.startX,r=e.endX,a=s.slice(),n=e.isArea,h=n?2:1,p=i&&s.length>i.length&&s.hasStackedCliffs,f=i?.slice();if(!f||p)return[a,a];function y(b,v){for(;b.length<u;){let k=b[0],S=v[u-b.length];if(S&&"M"===k[0]&&(b[0]="C"===S[0]?["C",k[1],k[2],k[1],k[2],k[1],k[2]]:["L",k[1],k[2]]),b.unshift(k),n){let C=b.pop();b.push(b[b.length-1],C)}}}function x(b){for(;b.length<u;){let v=b[Math.floor(b.length/h)-1].slice();if("C"===v[0]&&(v[1]=v[5],v[2]=v[6]),n){let k=b[Math.floor(b.length/h)].slice();b.splice(b.length/2,0,v,k)}else b.push(v)}}if(o&&r&&r.length){for(g=0;g<o.length;g++){if(o[g]===r[0]){c=g;break}if(o[0]===r[r.length-o.length+g]){c=g,m=!0;break}if(o[o.length-1]===r[r.length-o.length+g]){c=o.length-g;break}}void 0===c&&(f=[])}return f.length&&_s(c)&&(u=a.length+c*h,m?(y(f,a),x(a)):(y(a,f),x(f))),[f,a]}fillSetter(){l.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,or(this.start).tweenTo(or(this.end),this.pos),void 0,!0)}}return l.timers=[],l})(),{defined:kn,getStyle:wn,isArray:Cn,isNumber:Mn,isObject:Ys,merge:rr,objectEach:Sn,pick:Pn}=G;function Hs(l){return Ys(l)?rr({duration:500,defer:0},l):{duration:500*!!l,defer:0}}function ar(l,t){let e=be.timers.length;for(;e--;)be.timers[e].elem!==l||t&&t!==be.timers[e].prop||(be.timers[e].stopped=!0)}let vt={animate:function(l,t,e){let i,o,r,a,s="";Ys(e)||(a=arguments,e={duration:a[2],easing:a[3],complete:a[4]}),Mn(e.duration)||(e.duration=400),e.easing="function"==typeof e.easing?e.easing:Math[e.easing]||Math.easeInOutSine,e.curAnim=rr(t),Sn(t,function(n,h){ar(l,h),r=new be(l,e,h),o=void 0,"d"===h&&Cn(t.d)?(r.paths=r.initPath(l,l.pathArray,t.d),r.toD=t.d,i=0,o=1):l.attr?i=l.attr(h):(i=parseFloat(wn(l,h))||0,"opacity"!==h&&(s="px")),o||(o=n),"string"==typeof o&&o.match("px")&&(o=o.replace(/px/g,"")),r.run(i,o,s)})},animObject:Hs,getDeferredAnimation:function(l,t,e){let i=Hs(t),o=0,r=0;return(e?[e]:l.series).forEach(a=>{let n=Hs(a.options.animation);o=Ys(t)&&kn(t.defer)?i.defer:Math.max(o,n.duration+n.defer),r=Math.min(i.duration,n.duration)}),l.renderer.forExport&&(o=0),{defer:Math.max(0,o-r),duration:Math.min(o,r)}},setAnimation:function(l,t){t.renderer.globalAnimation=Pn(l,t.options.chart.animation,!0)},stop:ar},{SVG_NS:nr,win:Tn}=I,{attr:An,createElement:En,css:On,error:lr,isFunction:Ln,isString:hr,objectEach:dr,splat:Fn}=G,{trustedTypes:$s}=Tn,Gi=$s&&Ln($s.createPolicy)&&$s.createPolicy("highcharts",{createHTML:l=>l}),In=Gi?Gi.createHTML(""):"";class nt{static filterUserAttributes(t){return dr(t,(e,i)=>{let s=!0;-1===nt.allowedAttributes.indexOf(i)&&(s=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(i)&&(s=hr(e)&&nt.allowedReferences.some(o=>0===e.indexOf(o))),s||(lr(33,!1,void 0,{"Invalid attribute in config":`${i}`}),delete t[i]),hr(e)&&t[i]&&(t[i]=e.replace(/</g,"&lt;"))}),t}static parseStyle(t){return t.split(";").reduce((e,i)=>{let s=i.split(":").map(r=>r.trim()),o=s.shift();return o&&s.length&&(e[o.replace(/-([a-z])/g,r=>r[1].toUpperCase())]=s.join(":")),e},{})}static setElementHTML(t,e){t.innerHTML=nt.emptyHTML,e&&new nt(e).addToDOM(t)}constructor(t){this.nodes="string"==typeof t?this.parseMarkup(t):t}addToDOM(t){return function e(i,s){let o;return Fn(i).forEach(function(r){let a,n=r.tagName,h=r.textContent?I.doc.createTextNode(r.textContent):void 0,p=nt.bypassHTMLFiltering;if(n)if("#text"===n)a=h;else if(-1!==nt.allowedTags.indexOf(n)||p){let u=I.doc.createElementNS("svg"===n?nr:s.namespaceURI||nr,n),g=r.attributes||{};dr(r,function(m,f){"tagName"!==f&&"attributes"!==f&&"children"!==f&&"style"!==f&&"textContent"!==f&&(g[f]=m)}),An(u,p?g:nt.filterUserAttributes(g)),r.style&&On(u,r.style),h&&u.appendChild(h),e(r.children||[],u),a=u}else lr(33,!1,void 0,{"Invalid tagName in config":n});a&&s.appendChild(a),o=a}),o}(this.nodes,t)}parseMarkup(t){let e,i=[];t=t.trim().replace(/ style=(["'])/g," data-style=$1");try{e=(new DOMParser).parseFromString(Gi?Gi.createHTML(t):t,"text/html")}catch{}if(!e){let o=En("div");o.innerHTML=t,e={body:o}}let s=(o,r)=>{let a=o.nodeName.toLowerCase(),n={tagName:a};"#text"===a&&(n.textContent=o.textContent||"");let h=o.attributes;if(h){let p={};[].forEach.call(h,c=>{"data-style"===c.name?n.style=nt.parseStyle(c.value):p[c.name]=c.value}),n.attributes=p}if(o.childNodes.length){let p=[];[].forEach.call(o.childNodes,c=>{s(c,p)}),p.length&&(n.children=p)}r.push(n)};return[].forEach.call(e.body.childNodes,o=>s(o,i)),i}}nt.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],nt.allowedReferences=["https://","http://","mailto:","/","../","./","#"],nt.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],nt.emptyHTML=In,nt.bypassHTMLFiltering=!1;let{defaultOptions:cr,defaultTime:pr}=A,{pageLang:Nn}=I,{extend:Dn,getNestedProperty:Rn,isArray:Bn,isNumber:ur,isObject:jn,isString:zn,pick:Gn,ucfirst:Wn}=G,Wi={add:(l,t)=>l+t,divide:(l,t)=>0!==t?l/t:"",eq:(l,t)=>l==t,each:function(l){let t=arguments[arguments.length-1];return!!Bn(l)&&l.map((e,i)=>Xi(t.body,Dn(jn(e)?e:{"@this":e},{"@index":i,"@first":0===i,"@last":i===l.length-1}))).join("")},ge:(l,t)=>l>=t,gt:(l,t)=>l>t,if:l=>!!l,le:(l,t)=>l<=t,lt:(l,t)=>l<t,multiply:(l,t)=>l*t,ne:(l,t)=>l!=t,subtract:(l,t)=>l-t,ucfirst:Wn,unless:l=>!l},gr={},mr=l=>/^["'].+["']$/.test(l);function Xi(l="",t,e){let u,g,f,i=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'\u2019= #\(\)]+)\}/g,s=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,o=[],r=/f$/,a=/\.(\d)/,n=e?.options?.lang||cr.lang,h=e?.time||pr,p=e?.numberFormatter||fr.bind(e),c=(y="")=>{let x;return"true"===y||"false"!==y&&((x=Number(y)).toString()===y?x:mr(y)?y.slice(1,-1):Rn(y,t))},m=0;for(;null!==(u=i.exec(l));){let y=u,x=s.exec(u[1]);x&&(u=x,f=!0),g?.isBlock||(g={ctx:t,expression:u[1],find:u[0],isBlock:"#"===u[1].charAt(0),start:u.index,startInner:u.index+u[0].length,length:u[0].length});let b=(g.isBlock?y:u)[1].split(" ")[0].replace("#","");Wi[b]&&(g.isBlock&&b===g.fn&&m++,g.fn||(g.fn=b));let v="else"===u[1];if(g.isBlock&&g.fn&&(u[1]===`/${g.fn}`||v))if(m)!v&&m--;else{let k=g.startInner,S=l.substr(k,u.index-k);void 0===g.body?(g.body=S,g.startInner=u.index+u[0].length):g.elseBody=S,g.find+=S+u[0],v||(o.push(g),g=void 0)}else g.isBlock||o.push(g);if(x&&!g?.isBlock)break}return o.forEach(y=>{let x,b,{body:v,elseBody:k,expression:S,fn:C}=y;if(C){let O,w=[y],M=[],E=S.length,L=0;for(b=0;b<=E;b++){let D=S.charAt(b);O||'"'!==D&&"'"!==D?O===D&&(O=""):O=D,O||" "!==D&&b!==E||(M.push(S.substr(L,b-L)),L=b+1)}for(b=Wi[C].length;b--;)w.unshift(c(M[b+1]));x=Wi[C].apply(t,w),y.isBlock&&"boolean"==typeof x&&(x=Xi(x?v:k,t,e))}else{let w=mr(S)?[S]:S.split(":"),M=(x=c(w.shift()||""))%1!=0;if("number"==typeof x&&(w.length||M)){let E=w.join(":");if(r.test(E)||M){let L=parseInt((E.match(a)||["","-1"])[1],10);null!==x&&(x=p(x,L,n.decimalPoint,E.indexOf(",")>-1?n.thousandsSep:""))}else x=h.dateFormat(E,x)}s.lastIndex=0,s.test(y.find)&&zn(x)&&(x=`"${x}"`)}l=l.replace(y.find,Gn(x,""))}),f?Xi(l,t,e):l}function fr(l,t,e,i){t*=1;let s,o,[r,a]=(l=+l||0).toString().split("e").map(Number),n=this?.options?.lang||cr.lang,h=(l.toString().split(".")[1]||"").split("e")[0].length,p=t,c={};e??(e=n.decimalPoint),i??(i=n.thousandsSep),-1===t?t=Math.min(h,20):ur(t)?t&&a<0&&((o=t+a)>=0?(r=+r.toExponential(o).split("e")[0],t=o):(r=Math.floor(r),l=t<20?+(r*Math.pow(10,a)).toFixed(t):0,a=0)):t=2,a&&(t??(t=2),l=r),ur(t)&&t>=0&&(c.minimumFractionDigits=t,c.maximumFractionDigits=t),""===i&&(c.useGrouping=!1);let u=i||e,g=u?"en":this?.locale||n.locale||Nn,m=JSON.stringify(c)+g;return s=(gr[m]??(gr[m]=new Intl.NumberFormat(g,c))).format(l),u&&(s=s.replace(/([,\.])/g,"_$1").replace(/_\,/g,i??",").replace("_.",e??".")),(t||0!=+s)&&(!(a<0)||p)||(s="0"),a&&0!=+s&&(s+="e"+(a<0?"":"+")+a),s}let Ot={dateFormat:function(l,t,e){return pr.dateFormat(l,t,e)},format:Xi,helpers:Wi,numberFormat:fr};!function(l){let t;l.rendererTypes={},l.getRendererType=function(e=t){return l.rendererTypes[e]||l.rendererTypes[t]},l.registerRendererType=function(e,i,s){l.rendererTypes[e]=i,(!t||s)&&(t=e,I.Renderer=i)}}(qt||(qt={}));let hi=qt,{clamp:Xn,pick:_n,pushUnique:Yn,stableSort:Us}=G;(d||(d={})).distribute=function l(t,e,i){let c,u,g,f,y,b,s=t,o=s.reducedLen||e,r=(v,k)=>v.target-k.target,a=[],n=t.length,h=[],p=a.push,m=!0,x=0;for(c=n;c--;)x+=t[c].size;if(x>o){for(Us(t,(v,k)=>(k.rank||0)-(v.rank||0)),g=(b=t[0].rank===t[t.length-1].rank)?n/2:-1,u=b?g:n-1;g&&x>o;)f=t[c=Math.floor(u)],Yn(h,c)&&(x-=f.size),u+=g,b&&u>=t.length&&(g/=2,u=g);h.sort((v,k)=>k-v).forEach(v=>p.apply(a,t.splice(v,1)))}for(Us(t,r),t=t.map(v=>({size:v.size,targets:[v.target],align:_n(v.align,.5)}));m;){for(c=t.length;c--;)f=t[c],y=(Math.min.apply(0,f.targets)+Math.max.apply(0,f.targets))/2,f.pos=Xn(y-f.size*f.align,0,e-f.size);for(c=t.length,m=!1;c--;)c>0&&t[c-1].pos+t[c-1].size>t[c].pos&&(t[c-1].size+=t[c].size,t[c-1].targets=t[c-1].targets.concat(t[c].targets),t[c-1].align=.5,t[c-1].pos+t[c-1].size>e&&(t[c-1].pos=e-t[c-1].size),t.splice(c,1),m=!0)}return p.apply(s,a),c=0,t.some(v=>{let k=0;return(v.targets||[]).some(()=>(s[c].pos=v.pos+k,void 0!==i&&Math.abs(s[c].pos-s[c].target)>i?(s.slice(0,c+1).forEach(S=>delete S.pos),s.reducedLen=(s.reducedLen||e)-.1*e,s.reducedLen>.1*e&&l(s,e,i),!0):(k+=s[c].size,c++,!1)))}),Us(s,r),s};let _i=d,{animate:Hn,animObject:$n,stop:xr}=vt,{deg2rad:yr,doc:De,svg:Un,SVG_NS:Yi,win:Vn,isFirefox:qn}=I,{addEvent:Zn,attr:Vs,createElement:Kn,crisp:Hi,css:br,defined:Wt,erase:Jn,extend:di,fireEvent:qs,getAlignFactor:Zs,isArray:vr,isFunction:kr,isNumber:Qn,isObject:tl,isString:wr,merge:Ks,objectEach:Re,pick:Kt,pInt:$i,pushUnique:el,replaceNested:il,syncTimeout:sl,uniqueKey:Cr}=G;class xt{_defaultGetter(t){let e=Kt(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0);return/^-?[\d\.]+$/.test(e)&&(e=parseFloat(e)),e}_defaultSetter(t,e,i){i.setAttribute(e,t)}add(t){let e,i=this.renderer,s=this.element;return t&&(this.parentGroup=t),void 0!==this.textStr&&"text"===this.element.nodeName&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(s),this.onAdd&&this.onAdd(),this}addClass(t,e){let i=e?"":this.attr("class")||"";return(t=(t||"").split(/ /g).reduce(function(s,o){return-1===i.indexOf(o)&&s.push(o),s},i?[i]:[]).join(" "))!==i&&this.attr("class",t),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(t,e,i,s=!0){let o=this.renderer,r=o.alignedObjects,a=!!t;t?(this.alignOptions=t,this.alignByTranslate=e,this.alignTo=i):(t=this.alignOptions||{},e=this.alignByTranslate,i=this.alignTo);let n=!i||wr(i)?i||"renderer":void 0;n&&(a&&el(r,this),i=void 0);let h=Kt(i,o[n],o),p=(h.x||0)+(t.x||0)+((h.width||0)-(t.width||0))*Zs(t.align),c=(h.y||0)+(t.y||0)+((h.height||0)-(t.height||0))*Zs(t.verticalAlign),u={"text-align":t?.align};return u[e?"translateX":"x"]=Math.round(p),u[e?"translateY":"y"]=Math.round(c),s&&(this[this.placed?"animate":"attr"](u),this.placed=!0),this.alignAttr=u,this}alignSetter(t){let e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))}animate(t,e,i){let s=$n(Kt(e,this.renderer.globalAnimation,!0)),o=s.defer;return De.hidden&&(s.duration=0),0!==s.duration?(i&&(s.complete=i),sl(()=>{this.element&&Hn(this,t,s)},o)):(this.attr(t,void 0,i||s.complete),Re(t,function(r,a){s.step&&s.step.call(this,r,{prop:a,pos:1,elem:this})},this)),this}applyTextOutline(t){let e=this.element;-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(e.style.fill)));let i=t.indexOf(" "),s=t.substring(i+1),o=t.substring(0,i);if(o&&"none"!==o&&I.svg){this.fakeTS=!0,o=o.replace(/(^[\d\.]+)(.*?)$/g,function(p,c,u){return 2*Number(c)+u}),this.removeTextOutline();let r=De.createElementNS(Yi,"tspan");Vs(r,{class:"highcharts-text-outline",fill:s,stroke:s,"stroke-width":o,"stroke-linejoin":"round"});let a=e.querySelector("textPath")||e;[].forEach.call(a.childNodes,p=>{let c=p.cloneNode(!0);c.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(u=>c.removeAttribute(u)),r.appendChild(c)});let n=0;[].forEach.call(a.querySelectorAll("text tspan"),p=>{n+=Number(p.getAttribute("dy"))});let h=De.createElementNS(Yi,"tspan");h.textContent="\u200b",Vs(h,{x:Number(e.getAttribute("x")),dy:-n}),r.appendChild(h),a.insertBefore(r,a.firstChild)}}attr(t,e,i,s){let a,n,p,{element:o}=this,r=xt.symbolCustomAttribs,h=this;return"string"==typeof t&&void 0!==e&&(a=t,(t={})[a]=e),"string"==typeof t?h=(this[t+"Getter"]||this._defaultGetter).call(this,t,o):(Re(t,function(c,u){p=!1,s||xr(this,u),this.symbolName&&-1!==r.indexOf(u)&&(n||(this.symbolAttr(t),n=!0),p=!0),this.rotation&&("x"===u||"y"===u)&&(this.doTransform=!0),p||(this[u+"Setter"]||this._defaultSetter).call(this,c,u,o)},this),this.afterSetters()),i&&i.call(this),h}clip(t){if(t&&!t.clipPath){let e=Cr()+"-",i=this.renderer.createElement("clipPath").attr({id:e}).add(this.renderer.defs);di(t,{clipPath:i,id:e,count:0}),t.add(i)}return this.attr("clip-path",t?`url(${this.renderer.url}#${t.id})`:"none")}crisp(t,e){e=Math.round(e||t.strokeWidth||0);let i=t.x||this.x||0,s=t.y||this.y||0,o=(t.width||this.width||0)+i,r=(t.height||this.height||0)+s,a=Hi(i,e),n=Hi(s,e);return di(t,{x:a,y:n,width:Hi(o,e)-a,height:Hi(r,e)-n}),Wt(t.strokeWidth)&&(t.strokeWidth=e),t}complexColor(t,e,i){let o,r,a,n,h,p,c,u,g,m,y,s=this.renderer,f=[];qs(this.renderer,"complexColor",{args:arguments},function(){if(t.radialGradient?r="radialGradient":t.linearGradient&&(r="linearGradient"),r){if(a=t[r],h=s.gradients,p=t.stops,g=i.radialReference,vr(a)&&(t[r]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===r&&g&&!Wt(a.gradientUnits)&&(n=a,a=Ks(a,s.getRadialAttr(g,n),{gradientUnits:"userSpaceOnUse"})),Re(a,function(x,b){"id"!==b&&f.push(b,x)}),Re(p,function(x){f.push(x)}),h[f=f.join(",")])m=h[f].attr("id");else{a.id=m=Cr();let x=h[f]=s.createElement(r).attr(a).add(s.defs);x.radAttr=n,x.stops=[],p.forEach(function(b){0===b[1].indexOf("rgba")?(c=(o=lt.parse(b[1])).get("rgb"),u=o.get("a")):(c=b[1],u=1);let v=s.createElement("stop").attr({offset:b[0],"stop-color":c,"stop-opacity":u}).add(x);x.stops.push(v)})}y="url("+s.url+"#"+m+")",i.setAttribute(e,y),i.gradient=f,t.toString=function(){return y}}})}css(t){let o,e=this.styles,i={},s=this.element,r=!e;if(e&&Re(t,function(a,n){e&&e[n]!==a&&(i[n]=a,r=!0)}),r){e&&(t=di(e,i)),null===t.width||"auto"===t.width?delete this.textWidth:"text"===s.nodeName.toLowerCase()&&t.width&&(o=this.textWidth=$i(t.width)),di(this.styles,t),o&&!Un&&this.renderer.forExport&&delete t.width;let a=qn&&t.fontSize||null;a&&(Qn(a)||/^\d+$/.test(a))&&(t.fontSize+="px");let n=Ks(t);s.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(h=>n&&delete n[h]),n.color&&(n.fill=n.color,delete n.color)),br(s,n)}return this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t.textOutline&&this.applyTextOutline(t.textOutline)),this}dashstyleSetter(t){let e,i=this["stroke-width"];if("inherit"===i&&(i=1),t){let s=(t=t.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(e=s.length;e--;)s[e]=""+$i(s[e])*Kt(i,NaN);t=s.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}}destroy(){let r,a,t=this,e=t.element||{},i=t.renderer,s=e.ownerSVGElement,o="SPAN"===e.nodeName&&t.parentGroup||void 0;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,xr(t),t.clipPath&&s){let n=t.clipPath;[].forEach.call(s.querySelectorAll("[clip-path],[CLIP-PATH]"),function(h){h.getAttribute("clip-path").indexOf(n.element.id)>-1&&h.removeAttribute("clip-path")}),t.clipPath=n.destroy()}if(t.stops){for(a=0;a<t.stops.length;a++)t.stops[a].destroy();t.stops.length=0,t.stops=void 0}for(t.safeRemoveChild(e);o?.div&&0===o.div.childNodes.length;)r=o.parentGroup,t.safeRemoveChild(o.div),delete o.div,o=r;t.alignOptions&&Jn(i.alignedObjects,t),Re(t,(n,h)=>{(t[h]?.parentGroup===t||-1!==["connector","foreignObject"].indexOf(h))&&t[h]?.destroy?.(),delete t[h]})}dSetter(t,e,i){vr(t)&&("string"==typeof t[0]&&(t=this.renderer.pathToSegments(t)),this.pathArray=t,t=t.reduce((s,o,r)=>o?.join?(r?s+" ":"")+o.join(" "):(o||"").toString(),"")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)}fillSetter(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.complexColor(t,e,i)}hrefSetter(t,e,i){i.setAttributeNS("http://www.w3.org/1999/xlink",e,t)}getBBox(t,e){let i,s,o,r,{alignValue:a,element:n,renderer:h,styles:p,textStr:c}=this,{cache:u,cacheKeys:g}=h,m=n.namespaceURI===this.SVG_NS,f=Kt(e,this.rotation,0),y=h.styledMode?n&&xt.prototype.getStyle.call(n,"font-size"):p.fontSize;if(Wt(c)&&(-1===(r=c.toString()).indexOf("<")&&(r=r.replace(/\d/g,"0")),r+=["",h.rootFontSize,y,f,this.textWidth,a,p.lineClamp,p.textOverflow,p.fontWeight].join(",")),r&&!t&&(i=u[r]),!i||i.polygon){if(m||h.forExport){try{o=this.fakeTS&&function(b){let v=n.querySelector(".highcharts-text-outline");v&&br(v,{display:b})},kr(o)&&o("none"),i=n.getBBox?di({},n.getBBox()):{width:n.offsetWidth,height:n.offsetHeight,x:0,y:0},kr(o)&&o("")}catch{}(!i||i.width<0)&&(i={x:0,y:0,width:0,height:0})}else i=this.htmlGetBBox();s=i.height,m&&(i.height=s={"11px,17":14,"13px,20":16}[`${y||""},${Math.round(s)}`]||s),f&&(i=this.getRotatedBox(i,f));let x={bBox:i};qs(this,"afterGetBBox",x),i=x.bBox}if(r&&(""===c||i.height>0)){for(;g.length>250;)delete u[g.shift()];u[r]||g.push(r),u[r]=i}return i}getRotatedBox(t,e){let{x:i,y:s,width:o,height:r}=t,{alignValue:a,translateY:n,rotationOriginX:h=0,rotationOriginY:p=0}=this,c=Zs(a),u=Number(this.element.getAttribute("y")||0)-(n?0:s),g=e*yr,m=(e-90)*yr,f=Math.cos(g),y=Math.sin(g),x=o*f,b=o*y,v=Math.cos(m),k=Math.sin(m),[[S,C],[w,M]]=[h,p].map(_=>[_-_*f,_*y]),E=i+c*(o-x)+S+M+u*v,L=E+x,O=L-r*v,D=O-x,j=s+u-c*b-C+w+u*k,z=j+b,R=z-r*k,N=R-b,B=Math.min(E,L,O,D),tt=Math.min(j,z,R,N);return{x:B,y:tt,width:Math.max(E,L,O,D)-B,height:Math.max(j,z,R,N)-tt,polygon:[[E,j],[L,z],[O,R],[D,N]]}}getStyle(t){return Vn.getComputedStyle(this.element||this,"").getPropertyValue(t)}hasClass(t){return-1!==(""+this.attr("class")).split(" ").indexOf(t)}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(t,e){this.onEvents={},this.opacity=1,this.SVG_NS=Yi,this.element="span"===e||"body"===e?Kn(e):De.createElementNS(this.SVG_NS,e),this.renderer=t,this.styles={},qs(this,"afterInit")}on(t,e){let{onEvents:i}=this;return i[t]&&i[t](),i[t]=Zn(this.element,t,e),this}opacitySetter(t,e,i){let s=Number(Number(t).toFixed(3));this.opacity=s,i.setAttribute(e,s)}reAlign(){this.alignOptions?.width&&"left"!==this.alignOptions.align&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(t){return this.attr("class",(""+this.attr("class")).replace(wr(t)?RegExp(`(^| )${t}( |$)`):t," ").replace(/ +/g," ").trim())}removeTextOutline(){let t=this.element.querySelector("tspan.highcharts-text-outline");t&&this.safeRemoveChild(t)}safeRemoveChild(t){let e=t.parentNode;e&&e.removeChild(t)}setRadialReference(t){let e=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=t,e?.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this}shadow(t){let{renderer:e}=this,i=Ks(90===this.parentGroup?.rotation?{offsetX:-1,offsetY:-1}:{},tl(t)?t:{}),s=e.shadowDefinition(i);return this.attr({filter:t?`url(${e.url}#${s})`:"none"})}show(t=!0){return this.attr({visibility:t?"inherit":"visible"})}"stroke-widthSetter"(t,e,i){this[e]=t,i.setAttribute(e,t)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let i,t=this.getStyle("stroke-width"),e=0;return/px$/.test(t)?e=$i(t):""!==t&&(Vs(i=De.createElementNS(Yi,"rect"),{width:t,"stroke-width":0}),this.element.parentNode.appendChild(i),e=i.getBBox().width,i.parentNode.removeChild(i)),e}symbolAttr(t){let e=this;xt.symbolCustomAttribs.forEach(function(i){e[i]=Kt(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})}textSetter(t){t!==this.textStr&&(delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(t){let e=this.element,i=e.getElementsByTagName("title")[0]||De.createElementNS(this.SVG_NS,"title");e.insertBefore?e.insertBefore(i,e.firstChild):e.appendChild(i),i.textContent=il(Kt(t,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let t=this.element;return t.parentNode.appendChild(t),this}translate(t,e){return this.attr({translateX:t,translateY:e})}updateTransform(t="transform"){let{element:e,foreignObject:i,matrix:s,padding:o,rotation:r=0,rotationOriginX:a,rotationOriginY:n,scaleX:h,scaleY:p,text:c,translateX:u=0,translateY:g=0}=this,m=["translate("+u+","+g+")"];Wt(s)&&m.push("matrix("+s.join(",")+")"),r&&(m.push("rotate("+r+" "+(a??e.getAttribute("x")??this.x??0)+" "+(n??e.getAttribute("y")??this.y??0)+")"),"SPAN"!==c?.element.tagName||c?.foreignObject||c.attr({rotation:r,rotationOriginX:(a||0)-o,rotationOriginY:(n||0)-o})),(Wt(h)||Wt(p))&&m.push("scale("+Kt(h,1)+" "+Kt(p,1)+")"),m.length&&!(c||this).textPath&&(i?.element||e).setAttribute(t,m.join(" "))}visibilitySetter(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t}xGetter(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)}zIndexSetter(t,e){let n,h,p,u,m,i=this.renderer,s=this.parentGroup,o=(s||i).element||i.box,r=this.element,a=o===i.box,c=!1,g=this.added;if(Wt(t)?(r.setAttribute("data-z-index",t),this[e]===(t*=1)&&(g=!1)):Wt(this[e])&&r.removeAttribute("data-z-index"),this[e]=t,g){for((t=this.zIndex)&&s&&(s.handleZ=!0),m=(n=o.childNodes).length-1;m>=0&&!c;m--)u=!Wt(p=(h=n[m]).getAttribute("data-z-index")),h!==r&&(t<0&&u&&!a&&!m?(o.insertBefore(r,n[m]),c=!0):($i(p)<=t||u&&(!Wt(t)||t>=0))&&(o.insertBefore(r,n[m+1]),c=!0));c||(o.insertBefore(r,n[3*!!a]),c=!0)}return c}}xt.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],xt.prototype.strokeSetter=xt.prototype.fillSetter,xt.prototype.yGetter=xt.prototype.xGetter,xt.prototype.matrixSetter=xt.prototype.rotationOriginXSetter=xt.prototype.rotationOriginYSetter=xt.prototype.rotationSetter=xt.prototype.scaleXSetter=xt.prototype.scaleYSetter=xt.prototype.translateXSetter=xt.prototype.translateYSetter=xt.prototype.verticalAlignSetter=function(l,t){this[t]=l,this.doTransform=!0};let Xt=xt,{defined:Mr,extend:ol,getAlignFactor:Sr,isNumber:ci,merge:rl,pick:Ui,removeEvent:Pr}=G;class ve extends Xt{constructor(t,e,i,s,o,r,a,n,h,p){let c;super(t,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=e,this.x=i,this.y=s,this.anchorX=r,this.anchorY=a,this.baseline=h,this.className=p,this.addClass("button"===p?"highcharts-no-tooltip":"highcharts-label"),p&&this.addClass("highcharts-"+p),this.text=t.text(void 0,0,0,n).attr({zIndex:1}),"string"==typeof o&&((c=/^url\((.*?)\)$/.test(o))||this.renderer.symbols[o])&&(this.symbolKey=o),this.bBox=ve.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=t.styledMode||c,this.deferredAttr={},this.alignFactor=0}alignSetter(t){let e=Sr(t);this.textAlign=t,e!==this.alignFactor&&(this.alignFactor=e,this.bBox&&ci(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(t,e){this.anchorX=t,this.boxAttr(e,Math.round(t)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(t,e){this.anchorY=t,this.boxAttr(e,t-this.ySetting)}boxAttr(t,e){this.box?this.box.attr(t,e):this.deferredAttr[t]=e}css(t){if(t){let e={};t=rl(t),ve.textProps.forEach(i=>{void 0!==t[i]&&(e[i]=t[i],delete t[i])}),this.text.css(e),"fontSize"in e||"fontWeight"in e?this.updateTextPadding():("width"in e||"textOverflow"in e)&&this.updateBoxSize()}return Xt.prototype.css.call(this,t)}destroy(){Pr(this.element,"mouseenter"),Pr(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Xt.prototype.destroy.call(this)}fillSetter(t,e){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(e,t)}getBBox(t,e){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();let{padding:i,height:s=0,translateX:o=0,translateY:r=0,width:a=0}=this,n=Ui(this.paddingLeft,i),h=e??(this.rotation||0),p={width:a,height:s,x:o+this.bBox.x-n,y:r+this.bBox.y-i+this.baselineOffset};return h&&(p=this.getRotatedBox(p,h)),p}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(t){this.heightSetting=t,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Ui(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&Mr(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(t,e){ci(t)?t!==this[e]&&(this[e]=t,this.updateTextPadding()):this[e]=void 0}rSetter(t,e){this.boxAttr(e,t)}strokeSetter(t,e){this.stroke=t,this.boxAttr(e,t)}"stroke-widthSetter"(t,e){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(e,t)}"text-alignSetter"(t){this.textAlign=this["text-align"]=t,this.updateTextPadding()}textSetter(t){void 0!==t&&this.text.attr({text:t}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let t,e=this.text,i={},s=this.padding,o=this.bBox=ci(this.widthSetting)&&ci(this.heightSetting)&&!this.textAlign||!Mr(e.textStr)?ve.emptyBBox:e.getBBox(void 0,0);this.width=this.getPaddedWidth(),this.height=(this.heightSetting||o.height||0)+2*s;let r=this.renderer.fontMetrics(e);if(this.baselineOffset=s+Math.min((this.text.firstLineMetrics||r).b,o.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-r.h)/2),this.needsBox&&!e.textPath){if(!this.box){let a=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();a.addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),a.add(this)}i.x=t=this.getCrispAdjust(),i.y=(this.baseline?-this.baselineOffset:0)+t,i.width=Math.round(this.width),i.height=Math.round(this.height),this.box.attr(ol(i,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let t=this.text,e=t.styles.textAlign||this.textAlign;if(!t.textPath){this.updateBoxSize();let i=this.baseline?0:this.baselineOffset,s=(this.paddingLeft??this.padding)+Sr(e)*(this.widthSetting??this.bBox.width);(s!==t.x||i!==t.y)&&(t.attr({align:e,x:s}),void 0!==i&&t.attr("y",i)),t.x=s,t.y=i}}widthSetter(t){this.widthSetting=ci(t)?t:void 0,this.doUpdate=!0}getPaddedWidth(){let t=this.padding,e=Ui(this.paddingLeft,t),i=Ui(this.paddingRight,t);return(this.widthSetting||this.bBox.width||0)+e+i}xSetter(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)}ySetter(t){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)}}ve.emptyBBox={width:0,height:0,x:0,y:0},ve.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Tr,isNumber:al,pick:pi}=G;function Ar(l,t,e,i,s){let o=[];if(s){let r=s.start||0,a=s.end||0,n=pi(s.r,e),h=pi(s.r,i||e),p=2e-4/(s.borderRadius?1:Math.max(n,1)),c=Math.abs(a-r-2*Math.PI)<p;c&&(r=Math.PI/2,a=2.5*Math.PI-p);let u=s.innerR,g=pi(s.open,c),m=Math.cos(r),f=Math.sin(r),y=Math.cos(a),x=Math.sin(a),b=pi(s.longArc,a-r-Math.PI<p?0:1),v=["A",n,h,0,b,pi(s.clockwise,1),l+n*y,t+h*x];v.params={start:r,end:a,cx:l,cy:t},o.push(["M",l+n*m,t+h*f],v),Tr(u)&&((v=["A",u,u,0,b,Tr(s.clockwise)?1-s.clockwise:0,l+u*m,t+u*f]).params={start:a,end:r,cx:l,cy:t},o.push(g?["M",l+u*y,t+u*x]:["L",l+u*y,t+u*x],v)),g||o.push(["Z"])}return o}function Er(l,t,e,i,s){return s?.r?Js(l,t,e,i,s):[["M",l,t],["L",l+e,t],["L",l+e,t+i],["L",l,t+i],["Z"]]}function Js(l,t,e,i,s){let o=s?.r||0;return[["M",l+o,t],["L",l+e-o,t],["A",o,o,0,0,1,l+e,t+o],["L",l+e,t+i-o],["A",o,o,0,0,1,l+e-o,t+i],["L",l+o,t+i],["A",o,o,0,0,1,l,t+i-o],["L",l,t+o],["A",o,o,0,0,1,l+o,t],["Z"]]}let Or={arc:Ar,callout:function(l,t,e,i,s){let o=Math.min(s?.r||0,e,i),r=o+6,a=s?.anchorX,n=s?.anchorY||0,h=Js(l,t,e,i,{r:o});if(!al(a)||a<e&&a>0&&n<i&&n>0)return h;if(l+a>e-r)if(n>t+r&&n<t+i-r)h.splice(3,1,["L",l+e,n-6],["L",l+e+6,n],["L",l+e,n+6],["L",l+e,t+i-o]);else if(a<e){let p=n<t+r;h.splice(p?2:5,0,["L",a,n],["L",l+e-o,p?t:t+i])}else h.splice(3,1,["L",l+e,i/2],["L",a,n],["L",l+e,i/2],["L",l+e,t+i-o]);else if(l+a<r)if(n>t+r&&n<t+i-r)h.splice(7,1,["L",l,n+6],["L",l-6,n],["L",l,n-6],["L",l,t+o]);else if(a>0){let p=n<t+r;h.splice(p?1:6,0,["L",a,n],["L",l+o,p?t:t+i])}else h.splice(7,1,["L",l,i/2],["L",a,n],["L",l,i/2],["L",l,t+o]);else n>i&&a<e-r?h.splice(5,1,["L",a+6,t+i],["L",a,t+i+6],["L",a-6,t+i],["L",l+o,t+i]):n<0&&a>r&&h.splice(1,1,["L",a-6,t],["L",a,t-6],["L",a+6,t],["L",e-o,t]);return h},circle:function(l,t,e,i){return Ar(l+e/2,t+i/2,e/2,i/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(l,t,e,i){return[["M",l+e/2,t],["L",l+e,t+i/2],["L",l+e/2,t+i],["L",l,t+i/2],["Z"]]},rect:Er,roundedRect:Js,square:Er,triangle:function(l,t,e,i){return[["M",l+e/2,t],["L",l+e,t+i],["L",l,t+i],["Z"]]},"triangle-down":function(l,t,e,i){return[["M",l,t],["L",l+e,t],["L",l+e/2,t+i],["Z"]]}},{doc:Qs,SVG_NS:nl,win:Lr}=I,{attr:to,extend:ll,fireEvent:hl,isString:dl,objectEach:cl,pick:pl}=G,eo=(l,t)=>l.substring(0,t)+"\u2026",{defaultOptions:gl}=A,{charts:ml,deg2rad:Fr,doc:Be,isFirefox:Ir,isMS:Nr,isWebKit:fl,noop:xl,SVG_NS:yl,symbolSizes:io,win:so}=I,{addEvent:Vi,attr:qi,createElement:bl,crisp:Dr,css:Zi,defined:ke,destroyObjectProperties:vl,extend:we,isArray:kl,isNumber:Ce,isObject:ui,isString:wl,merge:oo,pick:ro,pInt:Cl,replaceNested:Ml,uniqueKey:Sl}=G;class Ki{constructor(t,e,i,s,o,r,a){let n,h;this.x=0,this.y=0;let p=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),c=p.element;a||p.css(this.getStyle(s||{})),t.appendChild(c),qi(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&qi(c,"xmlns",this.SVG_NS),this.box=c,this.boxWrapper=p,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Be.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=r,this.forExport=o,this.styledMode=a,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=p.getStyle("font-size"),this.setSize(e,i,!1),Ir&&t.getBoundingClientRect&&((n=function(){Zi(t,{left:0,top:0}),h=t.getBoundingClientRect(),Zi(t,{left:Math.ceil(h.left)-h.left+"px",top:Math.ceil(h.top)-h.top+"px"})})(),this.unSubPixelFix=Vi(so,"resize",n))}definition(t){return new nt([t]).addToDOM(this.defs.element)}getReferenceURL(){if((Ir||fl)&&Be.getElementsByTagName("base").length){if(!ke(at)){let t=Sl(),e=new nt([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:t},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${t})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Be.body);Zi(e,{position:"fixed",top:0,left:0,zIndex:9e5}),at="hitme"===Be.elementFromPoint(6,6)?.id,Be.body.removeChild(e)}if(at)return Ml(so.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(t){return this.style=we({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},t),this.style}setStyle(t){this.boxWrapper.css(this.getStyle(t))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),vl(this.gradients||{}),this.gradients=null,this.defs=t.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(t){return new this.Element(this,t)}getRadialAttr(t,e){return{cx:t[0]-t[2]/2+(e.cx||0)*t[2],cy:t[1]-t[2]/2+(e.cy||0)*t[2],r:(e.r||0)*t[2]}}shadowDefinition(t){let e=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(t).map(s=>`${s}-${t[s]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),i=oo({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},t);return this.defs.element.querySelector(`#${e}`)||this.definition({tagName:"filter",attributes:{id:e,filterUnits:i.filterUnits},children:this.getShadowFilterContent(i)}),e}getShadowFilterContent(t){return[{tagName:"feDropShadow",attributes:{dx:t.offsetX,dy:t.offsetY,"flood-color":t.color,"flood-opacity":Math.min(5*t.opacity,1),stdDeviation:t.width/2}}]}buildText(t){new class{constructor(l){let t=l.styles;this.renderer=l.renderer,this.svgElement=l,this.width=l.textWidth,this.textLineHeight=t?.lineHeight,this.textOutline=t?.textOutline,this.ellipsis="ellipsis"===t?.textOverflow,this.lineClamp=t?.lineClamp,this.noWrap="nowrap"===t?.whiteSpace}buildSVG(){let l=this.svgElement,t=l.element,e=l.renderer,i=pl(l.textStr,"").toString(),s=-1!==i.indexOf("<"),o=t.childNodes,r=!l.added&&e.box,a=[i,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,l.getStyle("font-size"),l.styles.lineClamp,this.width].join(",");if(a!==l.textCache){l.textCache=a,delete l.actualWidth;for(let n=o.length;n--;)t.removeChild(o[n]);if(s||this.ellipsis||this.width||l.textPath||-1!==i.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(i))){if(""!==i){r&&r.appendChild(t);let n=new nt(i);this.modifyTree(n.nodes),n.addToDOM(t),this.modifyDOM(),this.ellipsis&&-1!==(t.textContent||"").indexOf("\u2026")&&l.attr("title",this.unescapeEntities(l.textStr||"",["&lt;","&gt;"])),r&&r.removeChild(t)}}else t.appendChild(Qs.createTextNode(this.unescapeEntities(i)));dl(this.textOutline)&&l.applyTextOutline&&l.applyTextOutline(this.textOutline)}}modifyDOM(){let l,t=this.svgElement,e=to(t.element,"x");for(t.firstLineMetrics=void 0;(l=t.element.firstChild)&&/^[\s\u200B]*$/.test(l.textContent||" ");)t.element.removeChild(l);[].forEach.call(t.element.querySelectorAll("tspan.highcharts-br"),(r,a)=>{r.nextSibling&&r.previousSibling&&(0===a&&1===r.previousSibling.nodeType&&(t.firstLineMetrics=t.renderer.fontMetrics(r.previousSibling)),to(r,{dy:this.getLineHeight(r.nextSibling),x:e}))});let i=this.width||0;if(!i)return;let s=(r,a)=>{let n=r.textContent||"",h=n.replace(/([^\^])-/g,"$1- ").split(" "),p=!this.noWrap&&(h.length>1||t.element.childNodes.length>1),c=this.getLineHeight(a),u=Math.max(0,i-.8*c),g=0,m=t.actualWidth;if(p){let f=[],y=[];for(;a.firstChild&&a.firstChild!==r;)y.push(a.firstChild),a.removeChild(a.firstChild);for(;h.length;)if(h.length&&!this.noWrap&&g>0&&(f.push(r.textContent||""),r.textContent=h.join(" ").replace(/- /g,"-")),this.truncate(r,void 0,h,0===g&&m||0,i,u,(x,b)=>h.slice(0,b).join(" ").replace(/- /g,"-")),m=t.actualWidth,g++,this.lineClamp&&g>=this.lineClamp){h.length&&(this.truncate(r,r.textContent||"",void 0,0,i,u,eo),r.textContent=r.textContent?.replace("\u2026","")+"\u2026");break}y.forEach(x=>{a.insertBefore(x,r)}),f.forEach(x=>{a.insertBefore(Qs.createTextNode(x),r);let b=Qs.createElementNS(nl,"tspan");b.textContent="\u200b",to(b,{dy:c,x:e}),a.insertBefore(b,r)})}else this.ellipsis&&n&&this.truncate(r,n,void 0,0,i,u,eo)},o=r=>{[].slice.call(r.childNodes).forEach(a=>{a.nodeType===Lr.Node.TEXT_NODE?s(a,r):(-1!==a.className.baseVal.indexOf("highcharts-br")&&(t.actualWidth=0),o(a))})};o(t.element)}getLineHeight(l){let t=l.nodeType===Lr.Node.TEXT_NODE?l.parentElement:l;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(t||this.svgElement.element).h}modifyTree(l){let t=(e,i)=>{let{attributes:s={},children:o,style:r={},tagName:a}=e,n=this.renderer.styledMode;if("b"===a||"strong"===a?n?s.class="highcharts-strong":r.fontWeight="bold":("i"===a||"em"===a)&&(n?s.class="highcharts-emphasized":r.fontStyle="italic"),r?.color&&(r.fill=r.color),"br"===a){s.class="highcharts-br",e.textContent="\u200b";let h=l[i+1];h?.textContent&&(h.textContent=h.textContent.replace(/^ +/gm,""))}else"a"===a&&o&&o.some(h=>"#text"===h.tagName)&&(e.children=[{children:o,tagName:"tspan"}]);"#text"!==a&&"a"!==a&&(e.tagName="tspan"),ll(e,{attributes:s,style:r}),o&&o.filter(h=>"#text"!==h.tagName).forEach(t)};l.forEach(t),hl(this.svgElement,"afterModifyTree",{nodes:l})}truncate(l,t,e,i,s,o,r){let a,n,h=this.svgElement,{rotation:p}=h,c=[],u=e&&!i?1:0,g=(t||e||"").length,m=g;e||(s=o);let f=function(y,x){let b=x||y,v=l.parentNode;if(v&&void 0===c[b]&&v.getSubStringLength)try{c[b]=i+v.getSubStringLength(0,e?b+1:b)}catch{}return c[b]};if(h.rotation=0,i+(n=f(l.textContent.length))>s){for(;u<=g;)m=Math.ceil((u+g)/2),e&&(a=r(e,m)),n=f(m,a&&a.length-1),u===g?u=g+1:n>s?g=m-1:u=m;0===g?l.textContent="":t&&g===t.length-1||(l.textContent=a||r(t||e,m)),this.ellipsis&&n>s&&this.truncate(l,l.textContent||"",void 0,0,s,o,eo)}e&&e.splice(0,m),h.actualWidth=n,h.rotation=p}unescapeEntities(l,t){return cl(this.renderer.escapes,function(e,i){t&&-1!==t.indexOf(e)||(l=l.toString().replace(RegExp(e,"g"),i))}),l}}(t).buildSVG()}getContrast(t){if("transparent"===t)return"#000000";let e=lt.parse(t).rgba,i=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(Ce(e[0])||!lt.useColorMix){let s=e.map(r=>{let a=r/255;return a<=.04?a/12.92:Math.pow((a+.055)/1.055,2.4)}),o=.2126*s[0]+.7152*s[1]+.0722*s[2];return 1.05/(o+.05)>(o+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+t+" srgb"+i+i+i+")"}button(t,e,i,s,o={},r,a,n,h,p){let c=this.label(t,e,i,h,void 0,void 0,p,void 0,"button"),u=this.styledMode,g=arguments,m=0;o=oo(gl.global.buttonTheme,o),u&&(delete o.fill,delete o.stroke,delete o["stroke-width"]);let f=o.states||{},y=o.style||{};delete o.states,delete o.style;let x=[nt.filterUserAttributes(o)],b=[y];return u||["hover","select","disabled"].forEach((v,k)=>{x.push(oo(x[0],nt.filterUserAttributes(g[k+5]||f[v]||{}))),b.push(x[k+1].style),delete x[k+1].style}),Vi(c.element,Nr?"mouseover":"mouseenter",function(){3!==m&&c.setState(1)}),Vi(c.element,Nr?"mouseout":"mouseleave",function(){3!==m&&c.setState(m)}),c.setState=(v=0)=>{if(1!==v&&(c.state=m=v),c.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][v]),!u){c.attr(x[v]);let k=b[v];ui(k)&&c.css(k)}},c.attr(x[0]),!u&&(c.css(we({cursor:"default"},y)),p&&c.text.css({pointerEvents:"none"})),c.on("touchstart",v=>v.stopPropagation()).on("click",function(v){3!==m&&s?.call(c,v)})}crispLine(t,e){let[i,s]=t;return ke(i[1])&&i[1]===s[1]&&(i[1]=s[1]=Dr(i[1],e)),ke(i[2])&&i[2]===s[2]&&(i[2]=s[2]=Dr(i[2],e)),t}path(t){let e=this.styledMode?{}:{fill:"none"};return kl(t)?e.d=t:ui(t)&&we(e,t),this.createElement("path").attr(e)}circle(t,e,i){let s=ui(t)?t:void 0===t?{}:{x:t,y:e,r:i},o=this.createElement("circle");return o.xSetter=o.ySetter=function(r,a,n){n.setAttribute("c"+a,r)},o.attr(s)}arc(t,e,i,s,o,r){let a;ui(t)?(e=(a=t).y,i=a.r,s=a.innerR,o=a.start,r=a.end,t=a.x):a={innerR:s,start:o,end:r};let n=this.symbol("arc",t,e,i,i,a);return n.r=i,n}rect(t,e,i,s,o,r){let a=ui(t)?t:void 0===t?{}:{x:t,y:e,r:o,width:Math.max(i||0,0),height:Math.max(s||0,0)},n=this.createElement("rect");return this.styledMode||(void 0!==r&&(a["stroke-width"]=r,we(a,n.crisp(a))),a.fill="none"),n.rSetter=function(h,p,c){n.r=h,qi(c,{rx:h,ry:h})},n.rGetter=function(){return n.r||0},n.attr(a)}roundedRect(t){return this.symbol("roundedRect").attr(t)}setSize(t,e,i){this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:ro(i,!0)?void 0:0}),this.alignElements()}g(t){let e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e}image(t,e,i,s,o,r){let a={preserveAspectRatio:"none"};Ce(e)&&(a.x=e),Ce(i)&&(a.y=i),Ce(s)&&(a.width=s),Ce(o)&&(a.height=o);let n=this.createElement("image").attr(a),h=function(p){n.attr({href:t}),r.call(n,p)};if(r){n.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let p=new so.Image;Vi(p,"load",h),p.src=t,p.complete&&h({})}else n.attr({href:t});return n}symbol(t,e,i,s,o,r){let a,n,h,p,c=this,u=/^url\((.*?)\)$/,g=u.test(t),m=!g&&(this.symbols[t]?t:"circle"),f=m&&this.symbols[m];if(f)"number"==typeof e&&(n=f.call(this.symbols,e||0,i||0,s||0,o||0,r)),a=this.path(n),c.styledMode||a.attr("fill","none"),we(a,{symbolName:m||void 0,x:e,y:i,width:s,height:o}),r&&we(a,r);else if(g){h=t.match(u)[1];let y=a=this.image(h);y.imgwidth=ro(r?.width,io[h]?.width),y.imgheight=ro(r?.height,io[h]?.height),p=x=>x.attr({width:x.width,height:x.height}),["width","height"].forEach(x=>{y[`${x}Setter`]=function(b,v){this[v]=b;let{alignByTranslate:k,element:S,width:C,height:w,imgwidth:M,imgheight:E}=this,L="width"===v?M:E,O=1;r&&"within"===r.backgroundSize&&C&&w&&M&&E?(O=Math.min(C/M,w/E),qi(S,{width:Math.round(M*O),height:Math.round(E*O)})):S&&L&&S.setAttribute(v,L),!k&&M&&E&&this.translate(((C||0)-M*O)/2,((w||0)-E*O)/2)}}),ke(e)&&y.attr({x:e,y:i}),y.isImg=!0,y.symbolUrl=t,ke(y.imgwidth)&&ke(y.imgheight)?p(y):(y.attr({width:0,height:0}),bl("img",{onload:function(){let x=ml[c.chartIndex];0===this.width&&(Zi(this,{position:"absolute",top:"-999em"}),Be.body.appendChild(this)),io[h]={width:this.width,height:this.height},y.imgwidth=this.width,y.imgheight=this.height,y.element&&p(y),this.parentNode&&this.parentNode.removeChild(this),c.imgCount--,c.imgCount||!x||x.hasLoaded||x.onload()},src:h}),this.imgCount++)}return a}clipRect(t,e,i,s){return this.rect(t,e,i,s,0)}text(t,e,i,s){let o={};if(s&&(this.allowHTML||!this.forExport))return this.html(t,e,i);o.x=Math.round(e||0),i&&(o.y=Math.round(i)),ke(t)&&(o.text=t);let r=this.createElement("text").attr(o);return s&&(!this.forExport||this.allowHTML)||(r.xSetter=function(a,n,h){let p=h.getElementsByTagName("tspan"),c=h.getAttribute(n);for(let g,u=0;u<p.length;u++)(g=p[u]).getAttribute(n)===c&&g.setAttribute(n,a);h.setAttribute(n,a)}),r}fontMetrics(t){let e=Ce(t)?t:Cl(Xt.prototype.getStyle.call(t,"font-size")||0),i=e<24?e+3:Math.round(1.2*e);return{h:i,b:Math.round(.8*i),f:e}}rotCorr(t,e,i){let s=t;return e&&i&&(s=Math.max(s*Math.cos(e*Fr),4)),{x:-t/3*Math.sin(e*Fr),y:s}}pathToSegments(t){let e=[],i=[],s={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let o=0;o<t.length;o++)wl(i[0])&&Ce(t[o])&&i.length===s[i[0].toUpperCase()]&&t.splice(o,0,i[0].replace("M","L").replace("m","l")),"string"==typeof t[o]&&(i.length&&e.push(i.slice(0)),i.length=0),i.push(t[o]);return e.push(i.slice(0)),e}label(t,e,i,s,o,r,a,n,h){return new ve(this,t,e,i,s,o,r,a,n,h)}alignElements(){this.alignedObjects.forEach(t=>t.align())}}we(Ki.prototype,{Element:Xt,SVG_NS:yl,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Or,draw:xl}),hi.registerRendererType("svg",Ki,!0);let{composed:Pl,isFirefox:Tl}=I,{attr:Al,css:ie,createElement:El,defined:Rr,extend:Ol,getAlignFactor:Ll,isNumber:Ji,pInt:Fl,pushUnique:Il}=G;function Br(l,t,e){let i=this.div?.style;Xt.prototype[`${t}Setter`].call(this,l,t,e),i&&(e.style[t]=i[t]=l)}let Nl=(l,t)=>{if(!l.div){let e=Al(l.element,"class"),i=l.css,s=El("div",e?{className:e}:void 0,{position:"absolute",left:`${l.translateX||0}px`,top:`${l.translateY||0}px`,...l.styles,display:l.display,opacity:l.opacity,visibility:l.visibility},l.parentGroup?.div||t);l.classSetter=(o,r,a)=>{a.setAttribute("class",o),s.className=o},l.translateXSetter=l.translateYSetter=(o,r)=>{l[r]=o,s.style["translateX"===r?"left":"top"]=`${o}px`,l.doTransform=!0},l.scaleXSetter=l.scaleYSetter=(o,r)=>{l[r]=o,l.doTransform=!0},l.opacitySetter=l.visibilitySetter=Br,l.css=o=>(i.call(l,o),o.cursor&&(s.style.cursor=o.cursor),o.pointerEvents&&(s.style.pointerEvents=o.pointerEvents),l),l.on=function(){return Xt.prototype.on.apply({element:s,onEvents:l.onEvents},arguments),l},l.div=s}return l.div};class je extends Xt{static compose(t){Il(Pl,this.compose)&&(t.prototype.html=function(e,i,s){return new je(this,"span").attr({text:e,x:Math.round(i),y:Math.round(s)})})}constructor(t,e){super(t,e),je.useForeignObject?this.foreignObject=t.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...t.styledMode?{}:{fontFamily:t.style.fontFamily,fontSize:t.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(t,e,i){this.xCorr=-t*i,this.yCorr=-e}css(t){let e,{element:i}=this,s="SPAN"===i.tagName&&t&&"width"in t,o=s&&t.width;return s&&(delete t.width,this.textWidth=Fl(o)||void 0,e=!0),"ellipsis"===t?.textOverflow&&(t.overflow="hidden",t.whiteSpace="nowrap"),t?.lineClamp&&(t.display="-webkit-box",t.WebkitLineClamp=t.lineClamp,t.WebkitBoxOrient="vertical",t.overflow="hidden"),Ji(Number(t?.fontSize))&&(t.fontSize+="px"),Ol(this.styles,t),ie(i,t),e&&this.updateTransform(),this}htmlGetBBox(){let{element:t}=this;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}updateTransform(){if(!this.added)return void(this.alignOnAdd=!0);let{element:t,foreignObject:e,oldTextWidth:i,renderer:s,rotation:o,rotationOriginX:r,rotationOriginY:a,scaleX:n,scaleY:h,styles:{display:p="inline-block",whiteSpace:c},textAlign:u="left",textWidth:g,translateX:m=0,translateY:f=0,x:y=0,y:x=0}=this;if(e||ie(t,{marginLeft:`${m}px`,marginTop:`${f}px`}),"SPAN"===t.tagName){let b,v=[o,u,t.innerHTML,g,this.textAlign].join(","),k=-1*this.parentGroup?.padding||0;if(g!==i){let M=this.textPxLength?this.textPxLength:(ie(t,{width:"",whiteSpace:c||"nowrap"}),t.offsetWidth),E=g||0,L=!s.styledMode&&""===t.style.textOverflow&&t.style.webkitLineClamp;(E>i||M>E||L)&&(/[\-\s\u00AD]/.test(t.textContent||t.innerText)||"ellipsis"===t.style.textOverflow)&&(ie(t,{width:(o||n||M>E||L)&&Ji(g)?g+"px":"auto",display:p,whiteSpace:c||"normal"}),this.oldTextWidth=g)}e&&(ie(t,{display:"inline-block",verticalAlign:"top"}),e.attr({width:s.width,height:s.height})),v!==this.cTT&&(b=s.fontMetrics(t).b,Rr(o)&&!e&&(o!==(this.oldRotation||0)||u!==this.oldAlign)&&ie(t,{transform:`rotate(${o}deg)`,transformOrigin:`${k}% ${k}px`}),this.getSpanCorrection(!Rr(o)&&!this.textWidth&&this.textPxLength||t.offsetWidth,b,Ll(u)));let{xCorr:S=0,yCorr:C=0}=this,w={left:`${y+S}px`,top:`${x+C}px`,textAlign:u,transformOrigin:`${(r??y)-S-y-k}px ${(a??x)-C-x-k}px`};(n||h)&&(w.transform=`scale(${n??1},${h??1})`),e?(super.updateTransform(),Ji(y)&&Ji(x)?(e.attr({x:y+S,y:x+C,width:t.offsetWidth+3,height:t.offsetHeight,"transform-origin":t.getAttribute("transform-origin")||"0 0"}),ie(t,{display:p,textAlign:u})):Tl&&e.attr({width:0,height:0})):ie(t,w),this.cTT=v,this.oldRotation=o,this.oldAlign=u}}add(t){let{foreignObject:e,renderer:i}=this,s=i.box.parentNode,o=[];if(e)e.add(t),super.add(i.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(e));else{let r;if(this.parentGroup=t,t&&!(r=t.div)){let a=t;for(;a;)o.push(a),a=a.parentGroup;for(let n of o.reverse())r=Nl(n,s)}(r||s).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(t){t!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,nt.setElementHTML(this.element,t??""),this.textStr=t,this.doTransform=!0)}alignSetter(t){this.alignValue=this.textAlign=t,this.doTransform=!0}xSetter(t,e){this[e]=t,this.doTransform=!0}}let Me=je.prototype;Me.visibilitySetter=Me.opacitySetter=Br,Me.ySetter=Me.rotationSetter=Me.rotationOriginXSetter=Me.rotationOriginYSetter=Me.xSetter,function(l){l.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},l.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:t}=this.axis.chart;return t(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}($e||($e={}));let Dl=$e,{addEvent:Rl,isFunction:Bl,objectEach:jl,removeEvent:zl}=G;(ot||(ot={})).registerEventOptions=function(l,t){l.eventOptions=l.eventOptions||{},jl(t.events,function(e,i){l.eventOptions[i]!==e&&(l.eventOptions[i]&&(zl(l,i,l.eventOptions[i]),delete l.eventOptions[i]),Bl(e)&&(l.eventOptions[i]=e,Rl(l,i,e,{order:0})))})};let Qi=ot,{deg2rad:ao}=I,{clamp:Gl,correctFloat:ts,defined:no,destroyObjectProperties:Wl,extend:jr,fireEvent:gi,getAlignFactor:Xl,isNumber:es,merge:_l,objectEach:Yl,pick:_t}=G,ze=class{constructor(l,t,e,i,s){this.isNew=!0,this.isNewLabel=!0,this.axis=l,this.pos=t,this.type=e||"",this.parameters=s||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,gi(this,"init"),e||i||this.addLabel()}addLabel(){let f,y,x,l=this,t=l.axis,e=t.options,i=t.chart,s=t.categories,o=t.logarithmic,r=t.names,a=l.pos,n=_t(l.options?.labels,e.labels),h=t.tickPositions,p=a===h[0],c=a===h[h.length-1],u=(!n.step||1===n.step)&&1===t.tickInterval,g=h.info,m=l.label,b=this.parameters.category||(s?_t(s[a],r[a],a):a);o&&es(b)&&(b=ts(o.lin2log(b))),t.dateTime&&(g?f=(y=i.time.resolveDTLFormat(e.dateTimeLabelFormats[!e.grid?.enabled&&g.higherRanks[a]||g.unitName])).main:es(b)&&(f=t.dateTime.getXDateFormat(b,e.dateTimeLabelFormats||{}))),l.isFirst=p,l.isLast=c;let v={axis:t,chart:i,dateTimeLabelFormat:f,isFirst:p,isLast:c,pos:a,tick:l,tickPositionInfo:g,value:b};gi(this,"labelFormat",v);let k=w=>n.formatter?n.formatter.call(w,w):n.format?(w.text=t.defaultLabelFormatter.call(w),Ot.format(n.format,w,i)):t.defaultLabelFormatter.call(w),S=k.call(v,v),C=y?.list;l.shortenLabel=C?function(){for(x=0;x<C.length;x++)if(jr(v,{dateTimeLabelFormat:C[x]}),m.attr({text:k.call(v,v)}),m.getBBox().width<t.getSlotWidth(l)-2*(n.padding||0))return;m.attr({text:""})}:void 0,u&&t._addedPlotLB&&l.moveLabel(S,n),no(m)||l.movedLabel?m&&m.textStr!==S&&!u&&(!m.textWidth||n.style.width||m.styles.width||m.css({width:null}),m.attr({text:S}),m.textPxLength=m.getBBox().width):(l.label=m=l.createLabel(S,n),l.rotation=0)}createLabel(l,t,e){let i=this.axis,{renderer:s,styledMode:o}=i.chart,r=t.style.whiteSpace,a=no(l)&&t.enabled?s.text(l,e?.x,e?.y,t.useHTML).add(i.labelGroup):void 0;return a&&(o||a.css(_l(t.style)),a.textPxLength=a.getBBox().width,!o&&r&&a.css({whiteSpace:r})),a}destroy(){Wl(this,this.axis)}getPosition(l,t,e,i){let s=this.axis,o=s.chart,r=i&&o.oldChartHeight||o.chartHeight,a={x:l?ts(s.translate(t+e,void 0,void 0,i)+s.transB):s.left+s.offset+(s.opposite?(i&&o.oldChartWidth||o.chartWidth)-s.right-s.left:0),y:l?r-s.bottom+s.offset-(s.opposite?s.height:0):ts(r-s.translate(t+e,void 0,void 0,i)-s.transB)};return a.y=Gl(a.y,-1e9,1e9),gi(this,"afterGetPosition",{pos:a}),a}getLabelPosition(l,t,e,i,s,o,r,a){let n,h,p=this.axis,c=p.transA,u=p.isLinked&&p.linkedParent?p.linkedParent.reversed:p.reversed,g=p.staggerLines,m=p.tickRotCorr||{x:0,y:0},f=i||p.reserveSpaceDefault?0:-p.labelOffset*("center"===p.labelAlign?.5:1),y=s.distance,x={};return n=0===p.side?e.rotation?-y:-e.getBBox().height:2===p.side?m.y+y:Math.cos(e.rotation*ao)*(m.y-e.getBBox(!1,0).height/2),no(s.y)&&(n=0===p.side&&p.horiz?s.y+n:s.y),l=l+_t(s.x,[0,1,0,-1][p.side]*y)+f+m.x-(o&&i?o*c*(u?-1:1):0),t=t+n-(o&&!i?o*c*(u?1:-1):0),g&&(h=r/(a||1)%g,p.opposite&&(h=g-h-1),t+=h*(p.labelOffset/g)),x.x=l,x.y=Math.round(t),gi(this,"afterGetLabelPosition",{pos:x,tickmarkOffset:o,index:r}),x}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(l,t,e,i,s=!1,o){return o.crispLine([["M",l,t],["L",l+(s?0:-e),t+(s?e:0)]],i)}handleOverflow(l){let f,t=this.axis,e=t.options.labels,i=l.x,s=t.chart.chartWidth,o=t.chart.spacing,r=_t(t.labelLeft,Math.min(t.pos,o[3])),a=_t(t.labelRight,Math.max(t.isRadial?0:t.pos+t.len,s-o[1])),n=this.label,h=this.rotation,p=Xl(t.labelAlign||n.attr("align")),c=n.getBBox().width,u=t.getSlotWidth(this),g=u,m=1;h||"justify"!==e.overflow?h<0&&i-p*c<r?f=Math.round(i/Math.cos(h*ao)-r):h>0&&i+p*c>a&&(f=Math.round((s-i)/Math.cos(h*ao))):(i-p*c<r?g=l.x+g*(1-p)-r:i+(1-p)*c>a&&(g=a-l.x+g*p,m=-1),(g=Math.min(u,g))<u&&"center"===t.labelAlign&&(l.x+=m*(u-g-p*(u-Math.min(c,g)))),(c>g||t.autoRotation&&n?.styles?.width)&&(f=g)),f&&n&&(this.shortenLabel?this.shortenLabel():n.css(jr({},{width:Math.floor(f)+"px",lineClamp:+!t.isRadial})))}moveLabel(l,t){let r,e=this,i=e.label,s=e.axis,o=!1;i&&i.textStr===l?(e.movedLabel=i,o=!0,delete e.label):Yl(s.ticks,function(a){o||a.isNew||a===e||!a.label||a.label.textStr!==l||(e.movedLabel=a.label,o=!0,a.labelPos=e.movedLabel.xy,delete a.label)}),!o&&(e.labelPos||i)&&(r=e.labelPos||i.xy,e.movedLabel=e.createLabel(l,t,r),e.movedLabel&&e.movedLabel.attr({opacity:0}))}render(l,t,e){let i=this.axis,s=i.horiz,o=this.pos,r=_t(this.tickmarkOffset,i.tickmarkOffset),a=this.getPosition(s,o,r,t),p=i.pos,c=p+i.len,u=s?a.x:a.y,g=_t(e,this.label?.newOpacity,1);!i.chart.polar&&(ts(u)<p||u>c)&&(e=0),e??(e=1),this.isActive=!0,this.renderGridLine(t,e),this.renderMark(a,e),this.renderLabel(a,t,g,l),this.isNew=!1,gi(this,"afterRender")}renderGridLine(l,t){let p,e=this.axis,i=e.options,s={},o=this.pos,r=this.type,a=_t(this.tickmarkOffset,e.tickmarkOffset),n=e.chart.renderer,h=this.gridLine,c=i.gridLineWidth,u=i.gridLineColor,g=i.gridLineDashStyle;"minor"===this.type&&(c=i.minorGridLineWidth,u=i.minorGridLineColor,g=i.minorGridLineDashStyle),h||(e.chart.styledMode||(s.stroke=u,s["stroke-width"]=c||0,s.dashstyle=g),r||(s.zIndex=1),l&&(t=0),this.gridLine=h=n.path().attr(s).addClass("highcharts-"+(r?r+"-":"")+"grid-line").add(e.gridGroup)),h&&(p=e.getPlotLinePath({value:o+a,lineWidth:h.strokeWidth(),force:"pass",old:l,acrossPanes:!1}))&&h[l||this.isNew?"attr":"animate"]({d:p,opacity:t})}renderMark(l,t){let e=this.axis,i=e.options,s=e.chart.renderer,o=this.type,r=e.tickSize(o?o+"Tick":"tick"),a=l.x,n=l.y,h=_t(i["minor"!==o?"tickWidth":"minorTickWidth"],!o&&e.isXAxis?1:0),p=i["minor"!==o?"tickColor":"minorTickColor"],c=this.mark,u=!c;r&&(e.opposite&&(r[0]=-r[0]),!c&&(this.mark=c=s.path().addClass("highcharts-"+(o?o+"-":"")+"tick").add(e.axisGroup),e.chart.styledMode||c.attr({stroke:p,"stroke-width":h})),c[u?"attr":"animate"]({d:this.getMarkPath(a,n,r[0],c.strokeWidth(),e.horiz,s),opacity:t}))}renderLabel(l,t,e,i){let s=this.axis,o=s.horiz,r=s.options,a=this.label,n=r.labels,h=n.step,p=_t(this.tickmarkOffset,s.tickmarkOffset),c=l.x,u=l.y,g=!0;a&&es(c)&&(a.xy=l=this.getLabelPosition(c,u,a,o,n,p,i,h),this.isFirst&&!this.isLast&&!r.showFirstLabel||this.isLast&&!this.isFirst&&!r.showLastLabel?g=!1:!o||n.step||n.rotation||t||0===e||this.handleOverflow(l),h&&i%h&&(g=!1),g&&es(l.y)?(l.opacity=e,a[this.isNewLabel?"attr":"animate"](l).show(!0),this.isNewLabel=!1):(a.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let l=this.label,t=this.axis;l&&!this.isNew&&(l.animate({opacity:0},void 0,l.destroy),delete this.label),t.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:Hl}=vt,{xAxis:zr,yAxis:$l}=Dl,{defaultOptions:lo}=A,{registerEventOptions:Ul}=Qi,{deg2rad:Vl}=I,{arrayMax:Gr,arrayMin:ql,clamp:ho,correctFloat:Et,defined:et,destroyObjectProperties:Zl,erase:Wr,error:co,extend:is,fireEvent:ht,getClosestDistance:Xr,insertItem:Kl,isArray:_r,isNumber:W,isString:Yr,merge:ss,normalizeTickInterval:Jl,objectEach:os,pick:$,relativeLength:rs,removeEvent:Ql,splat:th,syncTimeout:eh}=G,Hr=(l,t)=>Jl(t,void 0,void 0,$(l.options.allowDecimals,t<.5||void 0!==l.tickAmount),!!l.tickAmount);is(lo,{xAxis:zr,yAxis:ss(zr,$l)});let po=(()=>{class l{constructor(e,i,s){this.init(e,i,s)}init(e,i,s=this.coll){let o="xAxis"===s,r=this.isZAxis||(e.inverted?!o:o);this.chart=e,this.horiz=r,this.isXAxis=o,this.coll=s,ht(this,"init",{userOptions:i}),this.opposite=$(i.opposite,this.opposite),this.side=$(i.side,this.side,r?2*!this.opposite:this.opposite?1:3),this.setOptions(i);let a=this.options,n=a.labels;this.type??(this.type=a.type||"linear"),this.uniqueNames??(this.uniqueNames=a.uniqueNames??!0),ht(this,"afterSetType"),this.userOptions=i,this.minPixelPadding=0,this.reversed=$(a.reversed,this.reversed),this.visible=a.visible,this.zoomEnabled=a.zoomEnabled,this.hasNames="category"===this.type||!0===a.categories,this.categories=_r(a.categories)&&a.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=et(a.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=a.minRange||a.maxZoom,this.range=a.range,this.offset=a.offset||0,this.max=void 0,this.min=void 0;let h=$(a.crosshair,th(e.options.tooltip.crosshairs)[+!o]);this.crosshair=!0===h?{}:h,-1===e.axes.indexOf(this)&&(o?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),Kl(this,e[this.coll])),e.orderItems(this.coll),this.series=this.series||[],e.inverted&&!this.isZAxis&&o&&!et(this.reversed)&&(this.reversed=!0),this.labelRotation=W(n.rotation)?n.rotation:void 0,Ul(this,a),ht(this,"afterInit")}setOptions(e){this.options=ss(this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}},"yAxis"===this.coll?{title:{text:this.chart.options.lang.yAxisTitle}}:{},lo[this.coll],e),ht(this,"afterSetOptions",{userOptions:e})}defaultLabelFormatter(){let g,m,e=this.axis,{numberFormatter:i}=this.chart,s=W(this.value)?this.value:NaN,o=e.chart.time,r=e.categories,a=this.dateTimeLabelFormat,n=lo.lang,h=n.numericSymbols,p=n.numericSymbolMagnitude||1e3,c=e.logarithmic?Math.abs(s):e.tickInterval,u=h?.length;if(r)m=`${this.value}`;else if(a)m=o.dateFormat(a,s,!0);else if(u&&h&&c>=1e3)for(;u--&&void 0===m;)c>=(g=Math.pow(p,u+1))&&10*s%g==0&&null!==h[u]&&0!==s&&(m=i(s/g,-1)+h[u]);return void 0===m&&(m=Math.abs(s)>=1e4?i(s,-1):i(s,-1,void 0,"")),m}getSeriesExtremes(){let e,i=this;ht(this,"getSeriesExtremes",null,function(){i.hasVisibleSeries=!1,i.dataMin=i.dataMax=i.threshold=void 0,i.softThreshold=!i.isXAxis,i.series.forEach(s=>{if(s.reserveSpace()){let r,n,h,o=s.options,a=o.threshold;if(i.hasVisibleSeries=!0,i.positiveValuesOnly&&0>=(a||0)&&(a=void 0),i.isXAxis)(r=s.getColumn("x")).length&&(r=i.logarithmic?r.filter(p=>p>0):r,n=(e=s.getXExtremes(r)).min,h=e.max,W(n)||n instanceof Date||(r=r.filter(W),n=(e=s.getXExtremes(r)).min,h=e.max),r.length&&(i.dataMin=Math.min($(i.dataMin,n),n),i.dataMax=Math.max($(i.dataMax,h),h)));else{let p=s.applyExtremes();W(p.dataMin)&&(n=p.dataMin,i.dataMin=Math.min($(i.dataMin,n),n)),W(p.dataMax)&&(h=p.dataMax,i.dataMax=Math.max($(i.dataMax,h),h)),et(a)&&(i.threshold=a),(!o.softThreshold||i.positiveValuesOnly)&&(i.softThreshold=!1)}}})}),ht(this,"afterGetSeriesExtremes")}translate(e,i,s,o,r,a){let n=this.linkedParent||this,h=o&&n.old?n.old.min:n.min;if(!W(h))return NaN;let p=n.minPixelPadding,c=(n.isOrdinal||n.brokenAxis?.hasBreaks||n.logarithmic&&r)&&!!n.lin2val,u=1,g=0,m=o&&n.old?n.old.transA:n.transA,f=0;return m||(m=n.transA),s&&(u*=-1,g=n.len),n.reversed&&(u*=-1,g-=u*(n.sector||n.len)),i?(f=(e=e*u+g-p)/m+h,c&&(f=n.lin2val(f))):(c&&(e=n.val2lin(e)),f=u*(e-h)*m+g+u*p+(W(a)?m*a:0),n.isRadial||(f=Et(f))),f}toPixels(e,i){return this.translate(this.chart?.time.parse(e)??NaN,!1,!this.horiz,void 0,!0)+(i?0:this.pos)}toValue(e,i){return this.translate(e-(i?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(e){let f,y,x,b,v,i=this,s=i.chart,o=i.left,r=i.top,a=e.old,n=e.value,h=e.lineWidth,p=a&&s.oldChartHeight||s.chartHeight,c=a&&s.oldChartWidth||s.chartWidth,u=i.transB,g=e.translatedValue,m=e.force;function k(C,w,M){return"pass"!==m&&(C<w||C>M)&&(m?C=ho(C,w,M):v=!0),C}let S={value:n,lineWidth:h,old:a,force:m,acrossPanes:e.acrossPanes,translatedValue:g};return ht(this,"getPlotLinePath",S,function(C){f=x=(g=ho(g=$(g,i.translate(n,void 0,void 0,a)),-1e9,1e9))+u,y=b=p-g-u,W(g)?i.horiz?(y=r,b=p-i.bottom+(i.options.isInternal?0:s.scrollablePixelsY||0),f=x=k(f,o,o+i.width)):(f=o,x=c-i.right+(s.scrollablePixelsX||0),y=b=k(y,r,r+i.height)):(v=!0,m=!1),C.path=v&&!m?void 0:s.renderer.crispLine([["M",f,y],["L",x,b]],h||1)}),S.path}getLinearTickPositions(e,i,s){let o,r,a,n=Et(Math.floor(i/e)*e),h=Et(Math.ceil(s/e)*e),p=[];if(Et(n+e)===n&&(a=20),this.single)return[i];for(o=n;o<=h&&(p.push(o),(o=Et(o+e,a))!==r);)r=o;return p}getMinorTickInterval(){let{minorTicks:e,minorTickInterval:i}=this.options;return!0===e?$(i,"auto"):!1!==e?i:void 0}getMinorTickPositions(){let p,e=this.options,i=this.tickPositions,s=this.minorTickInterval,o=this.pointRangePadding||0,r=(this.min||0)-o,a=(this.max||0)+o,n=this.brokenAxis?.hasBreaks?this.brokenAxis.unitLength:a-r,h=[];if(n&&n/s<this.len/3){let c=this.logarithmic;if(c)this.paddedTicks.forEach(function(u,g,m){g&&h.push.apply(h,c.getLogTickPositions(s,m[g-1],m[g],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())h=h.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(s),r,a,e.startOfWeek));else for(p=r+(i[0]-r)%s;p<=a&&p!==h[0];p+=s)h.push(p)}return 0!==h.length&&this.trimTicks(h),h}adjustForMinRange(){let n,h,p,c,e=this.options,i=this.logarithmic,s=this.chart.time,{max:o,min:r,minRange:a}=this;this.isXAxis&&void 0===a&&!i&&(a=et(e.min)||et(e.max)||et(e.floor)||et(e.ceiling)?null:Math.min(5*(Xr(this.series.map(u=>{let g=u.getColumn("x");return u.xIncrement?g.slice(0,2):g}))||0),this.dataMax-this.dataMin)),W(o)&&W(r)&&W(a)&&o-r<a&&(h=this.dataMax-this.dataMin>=a,n=(a-o+r)/2,p=[r-n,s.parse(e.min)??r-n],h&&(p[2]=i?i.log2lin(this.dataMin):this.dataMin),c=[(r=Gr(p))+a,s.parse(e.max)??r+a],h&&(c[2]=i?i.log2lin(this.dataMax):this.dataMax),(o=ql(c))-r<a&&(p[0]=o-a,p[1]=s.parse(e.min)??o-a,r=Gr(p))),this.minRange=a,this.min=r,this.max=o}getClosest(){let e,i;if(this.categories)i=1;else{let s=[];this.series.forEach(function(o){let r=o.closestPointRange,a=o.getColumn("x");1===a.length?s.push(a[0]):o.sorted&&et(r)&&o.reserveSpace()&&(i=et(i)?Math.min(i,r):r)}),s.length&&(s.sort((o,r)=>o-r),e=Xr([s]))}return e&&i?Math.min(e,i):e||i}nameToX(e){let r,i=_r(this.options.categories),s=i?this.categories:this.names,o=e.options.x;return e.series.requireSorting=!1,et(o)||(o=this.uniqueNames&&s?i?s.indexOf(e.name):$(s.keys[e.name],-1):e.series.autoIncrement()),-1===o?!i&&s&&(r=s.length):W(o)&&(r=o),void 0!==r?(this.names[r]=e.name,this.names.keys[e.name]=r):e.x&&(r=e.x),r}updateNames(){let e=this,i=this.names;i.length>0&&(Object.keys(i.keys).forEach(function(s){delete i.keys[s]}),i.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(s=>{s.xIncrement=null,(!s.points||s.isDirtyData)&&(e.max=Math.max(e.max||0,s.dataTable.rowCount-1),s.processData(),s.generatePoints());let o=s.getColumn("x").slice();s.data.forEach((r,a)=>{let n=o[a];r?.options&&void 0!==r.name&&void 0!==(n=e.nameToX(r))&&n!==r.x&&(o[a]=r.x=n)}),s.dataTable.setColumn("x",o)}))}setAxisTranslation(){let n,c,e=this,i=e.max-e.min,s=e.linkedParent,o=!!e.categories,r=e.isXAxis,a=e.axisPointRange||0,h=0,p=0,u=e.transA;(r||o||a)&&(n=e.getClosest(),s?(h=s.minPointOffset,p=s.pointRangePadding):e.series.forEach(function(g){let m=o?1:r?$(g.options.pointRange,n,0):e.axisPointRange||0,f=g.options.pointPlacement;if(a=Math.max(a,m),!e.single||o){let y=g.is("xrange")?!r:r;h=Math.max(h,y&&Yr(f)?0:m/2),p=Math.max(p,y&&"on"===f?0:m)}}),c=e.ordinal?.slope&&n?e.ordinal.slope/n:1,e.minPointOffset=h*=c,e.pointRangePadding=p*=c,e.pointRange=Math.min(a,e.single&&o?1:i),r&&(e.closestPointRange=n)),e.translationSlope=e.transA=u=e.staticScale||e.len/(i+p||1),e.transB=e.horiz?e.left:e.bottom,e.minPixelPadding=u*h,ht(this,"afterSetAxisTranslation")}minFromRange(){let{max:e,min:i}=this;return W(e)&&W(i)&&e-i||void 0}setTickInterval(e){let E,O,D,j,z,{categories:i,chart:s,dataMax:o,dataMin:r,dateTime:a,isXAxis:n,logarithmic:h,options:p,softThreshold:c}=this,u=s.time,g=W(this.threshold)?this.threshold:void 0,m=this.minRange||0,{ceiling:f,floor:y,linkedTo:x,softMax:b,softMin:v}=p,k=W(x)&&s[this.coll]?.[x],S=p.tickPixelInterval,C=p.maxPadding,w=p.minPadding,M=0,L=W(p.tickInterval)&&p.tickInterval>=0?p.tickInterval:void 0;if(a||i||k||this.getTickAmount(),j=$(this.userMin,u.parse(p.min)),z=$(this.userMax,u.parse(p.max)),k?(this.linkedParent=k,E=k.getExtremes(),this.min=$(E.min,E.dataMin),this.max=$(E.max,E.dataMax),this.type!==k.type&&co(11,!0,s)):(c&&et(g)&&W(o)&&W(r)&&(r>=g?(O=g,w=0):o<=g&&(D=g,C=0)),this.min=$(j,O,r),this.max=$(z,D,o)),W(this.max)&&W(this.min)&&(h&&(this.positiveValuesOnly&&!e&&0>=Math.min(this.min,$(r,this.min))&&co(10,!0,s),this.min=Et(h.log2lin(this.min),16),this.max=Et(h.log2lin(this.max),16)),this.range&&W(r)&&(this.userMin=this.min=j=Math.max(r,this.minFromRange()||0),this.userMax=z=this.max,this.range=void 0)),ht(this,"foundExtremes"),this.adjustForMinRange(),W(this.min)&&W(this.max)){if(!W(this.userMin)&&W(v)&&v<this.min&&(this.min=j=v),!W(this.userMax)&&W(b)&&b>this.max&&(this.max=z=b),i||this.axisPointRange||this.stacking?.usePercentage||k||(M=this.max-this.min)&&(!et(j)&&w&&(this.min-=M*w),!et(z)&&C&&(this.max+=M*C)),!W(this.userMin)&&W(y)&&(this.min=Math.max(this.min,y)),!W(this.userMax)&&W(f)&&(this.max=Math.min(this.max,f)),c&&W(r)&&W(o)){let N=g||0;!et(j)&&this.min<N&&r>=N?this.min=p.minRange?Math.min(N,this.max-m):N:!et(z)&&this.max>N&&o<=N&&(this.max=p.minRange?Math.max(N,this.min+m):N)}!s.polar&&this.min>this.max&&(et(p.min)?this.max=this.min:et(p.max)&&(this.min=this.max)),M=this.max-this.min}if(this.tickInterval=this.min!==this.max&&W(this.min)&&W(this.max)?k&&!L&&S===k.options.tickPixelInterval?L=k.tickInterval:$(L,this.tickAmount?M/Math.max(this.tickAmount-1,1):void 0,i?1:M*S/Math.max(this.len,S)):1,n&&!e){let N=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(B){B.forceCrop=B.forceCropping?.(),B.processData(N)}),ht(this,"postProcessData",{hasExtremesChanged:N})}this.setAxisTranslation(),ht(this,"initialAxisTranslation"),this.pointRange&&!L&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let R=$(p.minTickInterval,a&&!this.series.some(N=>!N.sorted)?this.closestPointRange:0);!L&&R&&this.tickInterval<R&&(this.tickInterval=R),a||h||L||(this.tickInterval=Hr(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let p,e=this.options,i=e.tickPositions,s=e.tickPositioner,o=this.getMinorTickInterval(),r=!this.isPanning,a=r&&e.startOnTick,n=r&&e.endOnTick,h=[];if(this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.single=this.min===this.max&&et(this.min)&&!this.tickAmount&&(this.min%1==0||!1!==e.allowDecimals),i)h=i.slice();else if(W(this.min)&&W(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))h=[this.min,this.max],co(19,!1,this.chart);else if(this.dateTime)h=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)h=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let c=this.tickInterval,u=c;for(;u<=2*c&&(h=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&h.length>this.tickAmount);)this.tickInterval=Hr(this,u*=1.1)}h.length>this.len&&(h=[h[0],h[h.length-1]])[0]===h[1]&&(h.length=1),s&&(this.tickPositions=h,(p=s.apply(this,[this.min,this.max]))&&(h=p))}this.tickPositions=h,this.minorTickInterval="auto"===o&&this.tickInterval?this.tickInterval/e.minorTicksPerMajor:o,this.paddedTicks=h.slice(0),this.trimTicks(h,a,n),!this.isLinked&&W(this.min)&&W(this.max)&&(this.single&&h.length<2&&!this.categories&&!this.series.some(c=>c.is("heatmap")&&"between"===c.options.pointPlacement)&&(this.min-=.5,this.max+=.5),i||p||this.adjustTickAmount()),ht(this,"afterSetTickPositions")}trimTicks(e,i,s){let o=e[0],r=e[e.length-1],a=!this.isOrdinal&&this.minPointOffset||0;if(ht(this,"trimTicks"),!this.isLinked||!this.grid){if(i&&o!==-1/0)this.min=o;else for(;this.min-a>e[0];)e.shift();if(s)this.max=r;else for(;this.max+a<e[e.length-1];)e.pop();0===e.length&&et(o)&&!this.options.tickPositions&&e.push((r+o)/2)}}alignToOthers(){let e,i=this,s=i.chart,o=[this],r=i.options,a=s.options.chart,n="yAxis"===this.coll&&a.alignThresholds,h=[];if(i.thresholdAlignment=void 0,(!1!==a.alignTicks&&r.alignTicks||n)&&!1!==r.startOnTick&&!1!==r.endOnTick&&!i.logarithmic){let p=u=>{let{horiz:g,options:m}=u;return[g?m.left:m.top,m.width,m.height,m.pane].join(",")},c=p(this);s[this.coll].forEach(function(u){let{series:g}=u;g.length&&g.some(m=>m.visible)&&u!==i&&p(u)===c&&(e=!0,o.push(u))})}if(e&&n){o.forEach(c=>{let u=c.getThresholdAlignment(i);W(u)&&h.push(u)});let p=h.length>1?h.reduce((c,u)=>c+u,0)/h.length:void 0;o.forEach(c=>{c.thresholdAlignment=p})}return e}getThresholdAlignment(e){if((!W(this.dataMin)||this!==e&&this.series.some(i=>i.isDirty||i.isDirtyData))&&this.getSeriesExtremes(),W(this.threshold)){let i=ho((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(i=1-i),i}}getTickAmount(){let e=this.options,i=e.tickPixelInterval,s=e.tickAmount;et(e.tickInterval)||s||!(this.len<i)||this.isRadial||this.logarithmic||!e.startOnTick||!e.endOnTick||(s=2),!s&&this.alignToOthers()&&(s=Math.ceil(this.len/i)+1),s<4&&(this.finalTickAmt=s,s=5),this.tickAmount=s}adjustTickAmount(){let u,g,f,e=this,{finalTickAmt:i,max:s,min:o,options:r,tickPositions:a,tickAmount:n,thresholdAlignment:h}=e,p=a?.length,c=$(e.threshold,e.softThreshold?0:null),m=e.tickInterval,y=()=>a.push(Et(a[a.length-1]+m)),x=()=>a.unshift(Et(a[0]-m));if(W(h)&&(f=h<.5?Math.ceil(h*(n-1)):Math.floor(h*(n-1)),r.reversed&&(f=n-1-f)),e.hasData()&&W(o)&&W(s)){let b=()=>{e.transA*=(p-1)/(n-1),e.min=r.startOnTick?a[0]:Math.min(o,a[0]),e.max=r.endOnTick?a[a.length-1]:Math.max(s,a[a.length-1])};if(W(f)&&W(e.threshold)){for(;a[f]!==c||a.length!==n||a[0]>o||a[a.length-1]<s;){for(a.length=0,a.push(e.threshold);a.length<n;)void 0===a[f]||a[f]>e.threshold?x():y();if(m>8*e.tickInterval)break;m*=2}b()}else if(p<n){for(;a.length<n;)a.length%2||o===c?y():x();b()}if(et(i)){for(g=u=a.length;g--;)(3===i&&g%2==1||i<=2&&g>0&&g<u-1)&&a.splice(g,1);e.finalTickAmt=void 0}}}setScale(){let{coll:e,stacking:i}=this,s=!1,o=!1;this.series.forEach(a=>{s=s||a.isDirtyData||a.isDirty,o=o||a.xAxis?.isDirty||!1}),this.setAxisSize();let r=this.len!==this.old?.len;r||s||o||this.isLinked||this.forceRedraw||this.userMin!==this.old?.userMin||this.userMax!==this.old?.userMax||this.alignToOthers()?(i&&"yAxis"===e&&i.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),i&&"xAxis"===e&&i.buildStacks(),this.isDirty||(this.isDirty=r||this.min!==this.old?.min||this.max!==this.old?.max)):i&&i.cleanStacks(),s&&delete this.allExtremes,ht(this,"afterSetScale")}setExtremes(e,i,s=!0,o,r){let a=this.chart;this.series.forEach(n=>{delete n.kdTree}),e=a.time.parse(e),i=a.time.parse(i),ht(this,"setExtremes",r=is(r,{min:e,max:i}),n=>{this.userMin=n.min,this.userMax=n.max,this.eventArgs=n,s&&a.redraw(o)})}setAxisSize(){let e=this.chart,i=this.options,s=i.offsets||[0,0,0,0],o=this.horiz,r=this.width=Math.round(rs($(i.width,e.plotWidth-s[3]+s[1]),e.plotWidth)),a=this.height=Math.round(rs($(i.height,e.plotHeight-s[0]+s[2]),e.plotHeight)),n=this.top=Math.round(rs($(i.top,e.plotTop+s[0]),e.plotHeight,e.plotTop)),h=this.left=Math.round(rs($(i.left,e.plotLeft+s[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-a-n,this.right=e.chartWidth-r-h,this.len=Math.max(o?r:a,0),this.pos=o?h:n}getExtremes(){let e=this.logarithmic;return{min:e?Et(e.lin2log(this.min)):this.min,max:e?Et(e.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(e){let i=this.logarithmic,s=i?i.lin2log(this.min):this.min,o=i?i.lin2log(this.max):this.max;return null===e||e===-1/0?e=s:e===1/0?e=o:s>e?e=s:o<e&&(e=o),this.translate(e,0,1,0,1)}autoLabelAlign(e){let i=($(e,0)-90*this.side+720)%360,s={align:"center"};return ht(this,"autoLabelAlign",s,function(o){i>15&&i<165?o.align="right":i>195&&i<345&&(o.align="left")}),s.align}tickSize(e){let r,i=this.options,s=$(i["tick"===e?"tickWidth":"minorTickWidth"],"tick"===e&&this.isXAxis&&!this.categories?1:0),o=i["tick"===e?"tickLength":"minorTickLength"];s&&o&&("inside"===i[e+"Position"]&&(o=-o),r=[o,s]);let a={tickSize:r};return ht(this,"afterTickSize",a),a.tickSize}labelMetrics(){let e=this.chart.renderer,i=this.ticks,s=i[Object.keys(i)[0]]||{};return this.chart.renderer.fontMetrics(s.label||s.movedLabel||e.box)}unsquish(){let u,m,e=this.options.labels,i=e.padding||0,s=this.horiz,o=this.tickInterval,r=this.len/((+!!this.categories+this.max-this.min)/o),a=e.rotation,n=Et(.8*this.labelMetrics().h),h=Math.max(this.max-this.min,0),p=function(f){let y=(f+2*i)/(r||1);return(y=y>1?Math.ceil(y):1)*o>h&&f!==1/0&&r!==1/0&&h&&(y=Math.ceil(h/o)),Et(y*o)},c=o,g=Number.MAX_VALUE;if(s){if(!e.staggerLines&&(W(a)?m=[a]:r<e.autoRotationLimit&&(m=e.autoRotation)),m){let f,y;for(let x of m)(x===a||x&&x>=-90&&x<=90)&&(y=(f=p(Math.abs(n/Math.sin(Vl*x))))+Math.abs(x/360))<g&&(g=y,u=x,c=f)}}else c=p(.75*n);return this.autoRotation=m,this.labelRotation=$(u,W(a)?a:0),e.step?o:c}getSlotWidth(e){let i=this.chart,s=this.horiz,o=this.options.labels,r=Math.max(this.tickPositions.length-!this.categories,1),a=i.margin[3];if(e&&W(e.slotWidth))return e.slotWidth;if(s&&o.step<2&&!this.isRadial)return o.rotation?0:(this.staggerLines||1)*this.len/r;if(!s){let n=o.style.width;if(void 0!==n)return parseInt(String(n),10);if(!this.opposite&&a)return a-i.spacing[3]}return.33*i.chartWidth}renderUnsquish(){let m,e=this.chart,i=e.renderer,s=this.tickPositions,o=this.ticks,r=this.options.labels,a=r.style,n=this.horiz,h=this.getSlotWidth(),p=Math.max(1,Math.round(h-(n?2*(r.padding||0):r.distance||0))),c={},u=this.labelMetrics(),g=a.lineClamp,f=g??(Math.floor(this.len/(s.length*u.h))||1),y=0;Yr(r.rotation)||(c.rotation=r.rotation||0),s.forEach(function(x){let b=o[x];b.movedLabel&&b.replaceMovedLabel();let v=b.label?.textPxLength||0;v>y&&(y=v)}),this.maxLabelLength=y,this.autoRotation?y>p&&y>u.h?c.rotation=this.labelRotation:this.labelRotation=0:h&&(m=p),c.rotation&&(m=y>.5*e.chartHeight?.33*e.chartHeight:y,g||(f=1)),this.labelAlign=r.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(c.align=this.labelAlign),s.forEach(function(x){let b=o[x],v=b?.label,k=a.width,S={};v&&(v.attr(c),b.shortenLabel?b.shortenLabel():m&&!k&&"nowrap"!==a.whiteSpace&&(m<(v.textPxLength||0)||"SPAN"===v.element.tagName)?v.css(is(S,{width:`${m}px`,lineClamp:f})):!v.styles.width||S.width||k||v.css({width:"auto"}),b.rotation=c.rotation)},this),this.tickRotCorr=i.rotCorr(u.b,this.labelRotation||0,0!==this.side)}hasData(){return this.series.some(function(e){return e.hasData()})||this.options.showEmpty&&et(this.min)&&et(this.max)}addTitle(e){let i,r=this.opposite,a=this.options.title,n=this.chart.styledMode;this.axisTitle||((i=a.textAlign)||(i=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[a.align]),this.axisTitle=this.chart.renderer.text(a.text||"",0,0,a.useHTML).attr({zIndex:7,rotation:a.rotation||0,align:i}).addClass("highcharts-axis-title"),n||this.axisTitle.css(ss(a.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),n||a.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[e?"show":"hide"](e)}generateTick(e){let i=this.ticks;i[e]?i[e].addLabel():i[e]=new ze(this,e)}createGroups(){let{axisParent:e,chart:i,coll:s,options:o}=this,r=i.renderer,a=(n,h,p)=>r.g(n).attr({zIndex:p}).addClass(`highcharts-${s.toLowerCase()}${h} `+(this.isRadial?`highcharts-radial-axis${h} `:"")+(o.className||"")).add(e);this.axisGroup||(this.gridGroup=a("grid","-grid",o.gridZIndex),this.axisGroup=a("axis","",o.zIndex),this.labelGroup=a("axis-labels","-labels",o.labels.zIndex))}getOffset(){let b,k,w,M,e=this,{chart:i,horiz:s,options:o,side:r,ticks:a,tickPositions:n,coll:h}=e,p=i.inverted&&!e.isZAxis?[1,0,3,2][r]:r,c=e.hasData(),u=o.title,g=o.labels,m=W(o.crossing),f=i.axisOffset,y=i.clipOffset,x=[-1,1,1,-1][r],v=0,S=0,C=0;if(e.showAxis=b=c||o.showEmpty,e.staggerLines=e.horiz&&g.staggerLines||void 0,e.createGroups(),c||e.isLinked?(n.forEach(function(E){e.generateTick(E)}),e.renderUnsquish(),e.reserveSpaceDefault=0===r||2===r||{1:"left",3:"right"}[r]===e.labelAlign,$(g.reserveSpace,!m&&null,"center"===e.labelAlign||null,e.reserveSpaceDefault)&&n.forEach(function(E){C=Math.max(a[E].getLabelSize(),C)}),e.staggerLines&&(C*=e.staggerLines),e.labelOffset=C*(e.opposite?-1:1)):os(a,function(E,L){E.destroy(),delete a[L]}),u?.text&&!1!==u.enabled&&(e.addTitle(b),b&&!m&&!1!==u.reserveSpace&&(e.titleOffset=v=e.axisTitle.getBBox()[s?"height":"width"],S=et(k=u.offset)?0:$(u.margin,s?5:10))),e.renderLine(),e.offset=x*$(o.offset,f[r]?f[r]+(o.margin||0):0),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},M=0===r?-e.labelMetrics().h:2===r?e.tickRotCorr.y:0,w=Math.abs(C)+S,C&&(w-=M,w+=x*(s?$(g.y,e.tickRotCorr.y+x*g.distance):$(g.x,x*g.distance))),e.axisTitleMargin=$(k,w),e.getMaxLabelDimensions&&(e.maxLabelDimensions=e.getMaxLabelDimensions(a,n)),"colorAxis"!==h&&y){let E=this.tickSize("tick");f[r]=Math.max(f[r],(e.axisTitleMargin||0)+v+x*e.offset,w,n?.length&&E?E[0]+x*e.offset:0);let L=!e.axisLine||o.offset?0:e.axisLine.strokeWidth()/2;y[p]=Math.max(y[p],L)}ht(this,"afterGetOffset")}getLinePath(e){let i=this.chart,s=this.opposite,o=this.offset,r=this.horiz,a=this.left+(s?this.width:0)+o,n=i.chartHeight-this.bottom-(s?this.height:0)+o;return s&&(e*=-1),i.renderer.crispLine([["M",r?this.left:a,r?n:this.top],["L",r?i.chartWidth-this.right:a,r?n:i.chartHeight-this.bottom]],e)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(e){let i=this.horiz,s=this.left,o=this.top,r=this.len,a=this.options.title,n=i?s:o,h=this.opposite,p=this.offset,c=a.x,u=a.y,g=this.chart.renderer.fontMetrics(e),m=e?Math.max(e.getBBox(!1,0).height-g.h-1,0):0,f={low:n+(i?0:r),middle:n+r/2,high:n+(i?r:0)}[a.align],y=(i?o+this.height:s)+(i?1:-1)*(h?-1:1)*(this.axisTitleMargin||0)+[-m,m,g.f,-m][this.side],x={x:i?f+c:y+(h?this.width:0)+p+c,y:i?y+u-(h?this.height:0)+p:f+u};return ht(this,"afterGetTitlePosition",{titlePosition:x}),x}renderMinorTick(e,i){let s=this.minorTicks;s[e]||(s[e]=new ze(this,e,"minor")),i&&s[e].isNew&&s[e].render(null,!0),s[e].render(null,!1,1)}renderTick(e,i,s){let r=this.ticks;(!this.isLinked||e>=this.min&&e<=this.max||this.grid?.isColumn)&&(r[e]||(r[e]=new ze(this,e)),s&&r[e].isNew&&r[e].render(i,!0,-1),r[e].render(i))}render(){let e,i,s=this,o=s.chart,r=s.logarithmic,n=s.options,h=s.isLinked,p=s.tickPositions,c=s.axisTitle,u=s.ticks,g=s.minorTicks,m=s.alternateBands,f=n.stackLabels,y=n.alternateGridColor,x=n.crossing,b=s.tickmarkOffset,v=s.axisLine,k=s.showAxis,S=Hl(o.renderer.globalAnimation);if(s.labelEdge.length=0,s.overlap=!1,[u,g,m].forEach(function(C){os(C,function(w){w.isActive=!1})}),W(x)){let C=this.isXAxis?o.yAxis[0]:o.xAxis[0],w=[1,-1,-1,1][this.side];if(C){let M=C.toPixels(x,!0);s.horiz&&(M=C.len-M),s.offset=w*M}}if(s.hasData()||h){let C=s.chart.hasRendered&&s.old&&W(s.old.min);s.minorTickInterval&&!s.categories&&s.getMinorTickPositions().forEach(function(w){s.renderMinorTick(w,C)}),p.length&&(p.forEach(function(w,M){s.renderTick(w,M,C)}),b&&(0===s.min||s.single)&&(u[-1]||(u[-1]=new ze(s,-1,null,!0)),u[-1].render(-1))),y&&p.forEach(function(w,M){i=void 0!==p[M+1]?p[M+1]+b:s.max-b,M%2==0&&w<s.max&&i<=s.max+(o.polar?-b:b)&&(m[w]||(m[w]=new I.PlotLineOrBand(s,{})),e=w+b,m[w].options={from:r?r.lin2log(e):e,to:r?r.lin2log(i):i,color:y,className:"highcharts-alternate-grid"},m[w].render(),m[w].isActive=!0)}),s._addedPlotLB||(s._addedPlotLB=!0,(n.plotLines||[]).concat(n.plotBands||[]).forEach(function(w){s.addPlotBandOrLine(w)}))}[u,g,m].forEach(function(C){let w=[],M=S.duration;os(C,function(E,L){E.isActive||(E.render(L,!1,0),E.isActive=!1,w.push(L))}),eh(function(){let E=w.length;for(;E--;)C[w[E]]&&!C[w[E]].isActive&&(C[w[E]].destroy(),delete C[w[E]])},C!==m&&o.hasRendered&&M?M:0)}),v&&(v[v.isPlaced?"animate":"attr"]({d:this.getLinePath(v.strokeWidth())}),v.isPlaced=!0,v[k?"show":"hide"](k)),c&&k&&(c[c.isNew?"attr":"animate"](s.getTitlePosition(c)),c.isNew=!1),f?.enabled&&s.stacking&&s.stacking.renderStackTotals(),s.old={len:s.len,max:s.max,min:s.min,transA:s.transA,userMax:s.userMax,userMin:s.userMin},s.isDirty=!1,ht(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(e){e.render()})),this.series.forEach(function(e){e.isDirty=!0})}getKeepProps(){return this.keepProps||l.keepProps}destroy(e){let i=this,s=i.plotLinesAndBands,o=this.eventOptions;if(ht(this,"destroy",{keepEvents:e}),e||Ql(i),[i.ticks,i.minorTicks,i.alternateBands].forEach(function(r){Zl(r)}),s){let r=s.length;for(;r--;)s[r].destroy()}for(let r in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(a){i[a]&&(i[a]=i[a].destroy())}),i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[r]=i.plotLinesAndBandsGroups[r].destroy();os(i,function(r,a){-1===i.getKeepProps().indexOf(a)&&delete i[a]}),this.eventOptions=o}drawCrosshair(e,i){let a,n,h,c,s=this.crosshair,o=s?.snap??!0,r=this.chart,p=this.cross;if(ht(this,"drawCrosshair",{e,point:i}),e||(e=this.cross?.e),s&&!1!==(et(i)||!o)){if(o?et(i)&&(n=$("colorAxis"!==this.coll?i.crosshairPos:null,this.isXAxis?i.plotX:this.len-i.plotY)):n=e&&(this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos),et(n)&&(c={value:i&&(this.isXAxis?i.x:$(i.stackY,i.y)),translatedValue:n},r.polar&&is(c,{isCrosshair:!0,chartX:e?.chartX,chartY:e?.chartY,point:i}),a=this.getPlotLinePath(c)||null),!et(a))return void this.hideCrosshair();h=this.categories&&!this.isRadial,p||(this.cross=p=r.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(h?"category ":"thin ")+(s.className||"")).attr({zIndex:$(s.zIndex,2)}).add(),!r.styledMode&&(p.attr({stroke:s.color||(h?lt.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":$(s.width,1)}).css({"pointer-events":"none"}),s.dashStyle&&p.attr({dashstyle:s.dashStyle}))),p.show().attr({d:a}),h&&!s.width&&p.attr({"stroke-width":this.transA}),this.cross.e=e}else this.hideCrosshair();ht(this,"afterDrawCrosshair",{e,point:i})}hideCrosshair(){this.cross&&this.cross.hide(),ht(this,"afterHideCrosshair")}update(e,i){let s=this.chart;e=ss(this.userOptions,e),this.destroy(!0),this.init(s,e),s.isDirtyBox=!0,$(i,!0)&&s.redraw()}remove(e){let i=this.chart,s=this.coll,o=this.series,r=o.length;for(;r--;)o[r]&&o[r].remove(!1);Wr(i.axes,this),Wr(i[s]||[],this),i.orderItems(s),this.destroy(),i.isDirtyBox=!0,$(e,!0)&&i.redraw()}setTitle(e,i){this.update({title:e},i)}setCategories(e,i){this.update({categories:e},i)}}return l.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"],l})(),{addEvent:ih,getMagnitude:sh,normalizeTickInterval:oh,timeUnits:as}=G;!function(l){function t(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function e(){"datetime"===this.type?this.dateTime||(this.dateTime=new i(this)):this.dateTime=void 0}l.compose=function(s){return s.keepProps.includes("dateTime")||(s.keepProps.push("dateTime"),s.prototype.getTimeTicks=t,ih(s,"afterSetType",e)),s};class i{constructor(o){this.axis=o}normalizeTimeTickInterval(o,r){let c,a=r||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],n=a[a.length-1],h=as[n[0]],p=n[1];for(c=0;c<a.length&&(h=as[(n=a[c])[0]],p=n[1],!(a[c+1]&&o<=(h*p[p.length-1]+as[a[c+1][0]])/2));c++);return h===as.year&&o<5*h&&(p=[1,2,5]),{unitRange:h,count:oh(o/h,p,"year"===n[0]?Math.max(sh(o/h),1):1),unitName:n[0]}}getXDateFormat(o,r){let{axis:a}=this,n=a.chart.time;return a.closestPointRange?n.getDateFormat(a.closestPointRange,o,a.options.startOfWeek,r)||n.resolveDTLFormat(r.year).main:n.resolveDTLFormat(r.day).main}}l.Additions=i}(Oe||(Oe={}));let rh=Oe,{addEvent:$r,normalizeTickInterval:ah,pick:nh}=G;!function(l){function t(){"logarithmic"!==this.type?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new i(this))}function e(){let s=this.logarithmic;s&&(this.lin2val=function(o){return s.lin2log(o)},this.val2lin=function(o){return s.log2lin(o)})}l.compose=function(s){return s.keepProps.includes("logarithmic")||(s.keepProps.push("logarithmic"),$r(s,"afterSetType",t),$r(s,"afterInit",e)),s};class i{constructor(o){this.axis=o}getLogTickPositions(o,r,a,n){let h=this.axis,p=h.len,c=h.options,u=[];if(n||(this.minorAutoInterval=void 0),o>=.5)o=Math.round(o),u=h.getLinearTickPositions(o,r,a);else if(o>=.08){let g,m,f,y,x,b,v;for(g=o>.3?[1,2,4]:o>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],m=Math.floor(r);m<a+1&&!v;m++)for(f=0,y=g.length;f<y&&!v;f++)(x=this.log2lin(this.lin2log(m)*g[f]))>r&&(!n||b<=a)&&void 0!==b&&u.push(b),b>a&&(v=!0),b=x}else{let g=this.lin2log(r),m=this.lin2log(a),f=n?h.getMinorTickInterval():c.tickInterval;o=ah(o=nh("auto"===f?null:f,this.minorAutoInterval,c.tickPixelInterval/(n?5:1)*(m-g)/((n?p/h.tickPositions.length:p)||1))),u=h.getLinearTickPositions(o,g,m).map(this.log2lin),n||(this.minorAutoInterval=o/5)}return n||(h.tickInterval=o),u}lin2log(o){return Math.pow(10,o)}log2lin(o){return Math.log(o)/Math.LN10}}l.Additions=i}(Ue||(Ue={}));let lh=Ue,{erase:hh,extend:dh,isNumber:Ur}=G;!function(l){let t;function e(h){return this.addPlotBandOrLine(h,"plotBands")}function i(h,p){let c=this.userOptions,u=new t(this,h);if(this.visible&&(u=u.render()),u){if(this._addedPlotLB||(this._addedPlotLB=!0,(c.plotLines||[]).concat(c.plotBands||[]).forEach(g=>{this.addPlotBandOrLine(g)})),p){let g=c[p]||[];g.push(h),c[p]=g}this.plotLinesAndBands.push(u)}return u}function s(h){return this.addPlotBandOrLine(h,"plotLines")}function o(h,p,c){let x,v,u=this.getPlotLinePath({value:p,force:!0,acrossPanes:(c=c||this.options).acrossPanes}),g=[],m=this.horiz,f=!Ur(this.min)||!Ur(this.max)||h<this.min&&p<this.min||h>this.max&&p>this.max,y=this.getPlotLinePath({value:h,force:!0,acrossPanes:c.acrossPanes}),b=1;if(y&&u)for(f&&(v=y.toString()===u.toString(),b=0),x=0;x<y.length;x+=2){let k=y[x],S=y[x+1],C=u[x],w=u[x+1];("M"===k[0]||"L"===k[0])&&("M"===S[0]||"L"===S[0])&&("M"===C[0]||"L"===C[0])&&("M"===w[0]||"L"===w[0])&&(m&&C[1]===k[1]?(C[1]+=b,w[1]+=b):m||C[2]!==k[2]||(C[2]+=b,w[2]+=b),g.push(["M",k[1],k[2]],["L",S[1],S[2]],["L",w[1],w[2]],["L",C[1],C[2]],["Z"])),g.isFlat=v}return g}function r(h){this.removePlotBandOrLine(h)}function a(h){let p=this.plotLinesAndBands,c=this.options,u=this.userOptions;if(p){let g=p.length;for(;g--;)p[g].id===h&&p[g].destroy();[c.plotLines||[],u.plotLines||[],c.plotBands||[],u.plotBands||[]].forEach(function(m){for(g=m.length;g--;)m[g]?.id===h&&hh(m,m[g])})}}function n(h){this.removePlotBandOrLine(h)}l.compose=function(h,p){let c=p.prototype;return c.addPlotBand||(t=h,dh(c,{addPlotBand:e,addPlotLine:s,addPlotBandOrLine:i,getPlotBandPath:o,removePlotBand:r,removePlotLine:n,removePlotBandOrLine:a})),p}}(Ve||(Ve={}));let ch=Ve,{addEvent:ph,arrayMax:Vr,arrayMin:qr,defined:Yt,destroyObjectProperties:uh,erase:gh,fireEvent:mh,merge:Zr,objectEach:fh,pick:xh}=G;class ns{static compose(t,e){return ph(t,"afterInit",function(){this.labelCollectors.push(()=>{let i=[];for(let s of this.axes)for(let{label:o,options:r}of s.plotLinesAndBands)o&&!r?.label?.allowOverlap&&i.push(o);return i})}),ch.compose(ns,e)}constructor(t,e){this.axis=t,this.options=e,this.id=e.id}render(){mh(this,"render");let v,{axis:t,options:e}=this,{horiz:i,logarithmic:s}=t,{color:o,events:r,zIndex:a=0}=e,{renderer:n,time:h}=t.chart,p={},c=h.parse(e.to),u=h.parse(e.from),g=h.parse(e.value),m=e.borderWidth,f=e.label,{label:y,svgElem:x}=this,b=[],k=Yt(u)&&Yt(c),S=Yt(g),C=!x,w={class:"highcharts-plot-"+(k?"band ":"line ")+(e.className||"")},M=k?"bands":"lines";if(!t.chart.styledMode&&(S?(w.stroke=o||"#999999",w["stroke-width"]=xh(e.width,1),e.dashStyle&&(w.dashstyle=e.dashStyle)):k&&(w.fill=o||"#e6e9ff",m&&(w.stroke=e.borderColor,w["stroke-width"]=m))),p.zIndex=a,M+="-"+a,(v=t.plotLinesAndBandsGroups[M])||(t.plotLinesAndBandsGroups[M]=v=n.g("plot-"+M).attr(p).add()),x||(this.svgElem=x=n.path().attr(w).add(v)),Yt(g))b=t.getPlotLinePath({value:s?.log2lin(g)??g,lineWidth:x.strokeWidth(),acrossPanes:e.acrossPanes});else{if(!Yt(u)||!Yt(c))return;b=t.getPlotBandPath(s?.log2lin(u)??u,s?.log2lin(c)??c,e)}return!this.eventsAdded&&r&&(fh(r,(E,L)=>{x?.on(L,O=>{r[L].apply(this,[O])})}),this.eventsAdded=!0),!C&&x.d||!b?.length?x&&(b?(x.show(),x.animate({d:b})):x.d&&(x.hide(),y&&(this.label=y=y.destroy()))):x.attr({d:b}),f&&(Yt(f.text)||Yt(f.formatter))&&b?.length&&t.width>0&&t.height>0&&!b.isFlat?(f=Zr({align:i&&k?"center":void 0,x:i?!k&&4:10,verticalAlign:!i&&k?"middle":void 0,y:i?k?16:10:k?6:-4,rotation:i&&!k?90:0,...k?{inside:!0}:{}},f),this.renderLabel(f,b,k,a)):y&&y.hide(),this}renderLabel(t,e,i,s){let o=this.axis,r=o.chart.renderer,a=t.inside,n=this.label;n||(this.label=n=r.text(this.getLabelText(t),0,0,t.useHTML).attr({align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(i?"band":"line")+"-label "+(t.className||""),zIndex:s}),o.chart.styledMode||n.css(Zr({color:o.chart.options.title?.style?.color,fontSize:"0.8em",textOverflow:i&&!a?"":"ellipsis"},t.style)),n.add());let h=e.xBounds||[e[0][1],e[1][1],i?e[2][1]:e[0][1]],p=e.yBounds||[e[0][2],e[1][2],i?e[2][2]:e[0][2]],c=qr(h),u=qr(p),g=Vr(h)-c;n.align(t,!1,{x:c,y:u,width:g,height:Vr(p)-u}),n.alignAttr.y-=r.fontMetrics(n).b,(!n.alignValue||"left"===n.alignValue||Yt(a))&&n.css({width:(t.style?.width||(i&&a?g:90===n.rotation?o.height-(n.alignAttr.y-o.top):(t.clip?o.width:o.chart.chartWidth)-(n.alignAttr.x-o.left)))+"px"}),n.show(!0)}getLabelText(t){return Yt(t.formatter)?t.formatter.call(this):t.text}destroy(){gh(this.axis.plotLinesAndBands,this),delete this.axis,uh(this)}}let{animObject:yh}=vt,{format:Kr}=Ot,{composed:bh,dateFormats:vh,doc:Jr,isSafari:kh}=I,{distribute:wh}=_i,{addEvent:Ch,clamp:Ge,css:Qr,discardElement:Mh,extend:Sh,fireEvent:uo,getAlignFactor:ta,isArray:Ph,isNumber:Th,isObject:Ah,isString:go,merge:Eh,pick:We,pushUnique:Oh,splat:mo,syncTimeout:Lh}=G;class fo{constructor(t,e,i){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=t,this.init(t,e),this.pointer=i}bodyFormatter(t){return t.map(e=>{let i=e.series.tooltipOptions,s=e.formatPrefix||"point";return(i[s+"Formatter"]||e.tooltipFormatter).call(e,i[s+"Format"]||"")})}cleanSplit(t){this.chart.series.forEach(function(e){let i=e?.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)})}defaultFormatter(t){let e,i=this.points||mo(this);return(e=(e=[t.headerFooterFormatter(i[0])]).concat(t.bodyFormatter(i))).push(t.headerFooterFormatter(i[0],!0)),e}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),Mh(this.container)),G.clearTimeout(this.hideTimer)}getAnchor(t,e){let i,{chart:s,pointer:o}=this,r=s.inverted,a=s.plotTop,n=s.plotLeft;if(t=mo(t),t[0].series?.yAxis&&!t[0].series.yAxis.options.reversedStacks&&(t=t.slice().reverse()),this.followPointer&&e)void 0===e.chartX&&(e=o.normalize(e)),i=[e.chartX-n,e.chartY-a];else if(t[0].tooltipPos)i=t[0].tooltipPos;else{let p=0,c=0;t.forEach(function(u){let g=u.pos(!0);g&&(p+=g[0],c+=g[1])}),p/=t.length,c/=t.length,this.shared&&t.length>1&&e&&(r?p=e.chartX:c=e.chartY),i=[p-n,c-a]}let h={point:t[0],ret:i};return uo(this,"getAnchor",h),h.ret.map(Math.round)}getClassName(t,e,i){let o=t.series,r=o.options;return[this.options.className,"highcharts-label",i&&"highcharts-tooltip-header",e?"highcharts-tooltip-box":"highcharts-tooltip",!i&&"highcharts-color-"+We(t.colorIndex,o.colorIndex),r?.className].filter(go).join(" ")}getLabel({anchorX:t,anchorY:e}={anchorX:0,anchorY:0}){let i=this,s=this.chart.styledMode,o=this.options,r=this.split&&this.allowShared,a=this.container,n=this.chart.renderer;if(this.label){let h=!this.label.hasClass("highcharts-label");(!r&&h||r&&!h)&&this.destroy()}if(!this.label){if(this.outside){let h=this.chart,p=h.options.chart.style,c=hi.getRendererType();this.container=a=I.doc.createElement("div"),a.className="highcharts-tooltip-container "+(h.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),Qr(a,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(p?.zIndex||0)+3)}),this.renderer=n=new c(a,0,0,p,void 0,void 0,n.styledMode)}if(r?this.label=n.g("tooltip"):(this.label=n.label("",t,e,o.shape||"callout",void 0,void 0,o.useHTML,void 0,"tooltip").attr({padding:o.padding,r:o.borderRadius}),s||this.label.attr({fill:o.backgroundColor,"stroke-width":o.borderWidth||0}).css(o.style).css({pointerEvents:o.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),i.outside){let h=this.label;[h.xSetter,h.ySetter].forEach((p,c)=>{h[c?"ySetter":"xSetter"]=u=>{p.call(h,i.distance),h[c?"y":"x"]=u,a&&(a.style[c?"top":"left"]=`${u}px`)}})}this.label.attr({zIndex:8}).shadow(o.shadow??!o.fixed).add()}return a&&!a.parentElement&&I.doc.body.appendChild(a),this.label}getPlayingField(){let{body:t,documentElement:e}=Jr,{chart:i,distance:s,outside:o}=this;return{width:o?Math.max(t.scrollWidth,e.scrollWidth,t.offsetWidth,e.offsetWidth,e.clientWidth)-2*s-2:i.chartWidth,height:o?Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,e.clientHeight):i.chartHeight}}getPosition(t,e,i){let M,{distance:s,chart:o,outside:r,pointer:a}=this,{inverted:n,plotLeft:h,plotTop:p,polar:c}=o,{plotX:u=0,plotY:g=0}=i,m={},f=n&&i.h||0,{height:y,width:x}=this.getPlayingField(),b=a.getChartPosition(),v=R=>R*b.scaleX,k=R=>R*b.scaleY,S=R=>{let N="x"===R;return[R,N?x:y,N?t:e].concat(r?[N?v(t):k(e),N?b.left-s+v(u+h):b.top-s+k(g+p),0,N?x:y]:[N?t:e,N?u+h:g+p,N?h:p,N?h+o.plotWidth:p+o.plotHeight])},C=S("y"),w=S("x"),E=!!i.negative;!c&&o.hoverSeries?.yAxis?.reversed&&(E=!E);let L=!this.followPointer&&We(i.ttBelow,!c&&!n===E),O=function(R,N,B,tt,q,Mt,_){let X=r?"y"===R?k(s):v(s):s,K=(B-tt)/2,V=tt<q-s,it=q+s+tt<N,st=q-X-B+K,J=q+X-K;if(L&&it)m[R]=J;else if(!L&&V)m[R]=st;else if(V)m[R]=Math.min(_-tt,st-f<0?st:st-f);else{if(!it)return m[R]=0,!1;m[R]=Math.max(Mt,J+f+B>N?J:J+f)}},D=function(R,N,B,tt,q){if(q<s||q>N-s)return!1;m[R]=q<B/2?1:q>N-tt/2?N-tt-2:q-B/2},j=function(R){[C,w]=[w,C],M=R},z=()=>{!1!==O.apply(0,C)?!1!==D.apply(0,w)||M||(j(!0),z()):M?m.x=m.y=0:(j(!0),z())};return(n&&!c||this.len>1)&&j(),z(),m}getFixedPosition(t,e,i){let s=i.series,{chart:o,options:r,split:a}=this,n=r.position,h=n.relativeTo,p=r.shared||s?.yAxis?.isRadial&&("pane"===h||!h)?"plotBox":h,c="chart"===p?o.renderer:o[p]||o.getClipBox(s,!0);return{x:c.x+(c.width-t)*ta(n.align)+n.x,y:c.y+(c.height-e)*ta(n.verticalAlign)+(!a&&n.y||0)}}hide(t){let e=this;G.clearTimeout(this.hideTimer),t=We(t,this.options.hideDelay),this.isHidden||(this.hideTimer=Lh(function(){let i=e.getLabel();e.getLabel().animate({opacity:0},{duration:t&&150,complete:()=>{i.hide(),e.container&&e.container.remove()}}),e.isHidden=!0},t))}init(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.isHidden=!0,this.split=e.split&&!t.inverted&&!t.polar,this.shared=e.shared||this.split,this.outside=We(e.outside,!(!t.scrollablePixelsX&&!t.scrollablePixelsY))}shouldStickOnContact(t){return!(this.followPointer||!this.options.stickOnContact||t&&!this.pointer.inClass(t.target,"highcharts-tooltip"))}move(t,e,i,s){let{followPointer:o,options:r}=this,a=yh(!o&&!this.isHidden&&!r.fixed&&r.animation),h={x:t,y:e};o||(this.len||0)>1?h.anchorX=h.anchorY=NaN:(h.anchorX=i,h.anchorY=s),a.step=()=>this.drawTracker(),this.getLabel().animate(h,a)}refresh(t,e){let{chart:i,options:s,pointer:o,shared:r}=this,a=mo(t),n=a[0],h=s.format,p=s.formatter||this.defaultFormatter,c=i.styledMode,u=this.allowShared;if(!s.enabled||!n.series)return;G.clearTimeout(this.hideTimer),this.allowShared=!(!Ph(t)&&t.series&&t.series.noSharedTooltip),u=u&&!this.allowShared,this.followPointer=!this.split&&n.series.tooltipOptions.followPointer;let g=this.getAnchor(t,e),m=g[0],f=g[1];r&&this.allowShared&&(o.applyInactiveState(a),a.forEach(b=>b.setState("hover")),n.points=a),this.len=a.length;let y=go(h)?Kr(h,n,i):p.call(n,this);n.points=void 0;let x=n.series;if(this.distance=We(x.tooltipOptions.distance,16),!1===y)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(y,a);else{let b=m,v=f;if(e&&o.isDirectTouch&&(b=e.chartX-i.plotLeft,v=e.chartY-i.plotTop),!i.polar&&!1!==x.options.clip&&!a.some(k=>o.isDirectTouch||k.series.shouldShowTooltip(b,v)))return void this.hide();{let k=this.getLabel(u&&this.tt||{});(!s.style.width||c)&&k.css({width:(this.outside?this.getPlayingField():i.spacingBox).width+"px"}),k.attr({class:this.getClassName(n),text:y&&y.join?y.join(""):y}),this.outside&&k.attr({x:Ge(k.x||0,0,this.getPlayingField().width-(k.width||0)-1)}),c||k.attr({stroke:s.borderColor||n.color||x.color||"#666666"}),this.updatePosition({plotX:m,plotY:f,negative:n.negative,ttBelow:n.ttBelow,series:x,h:g[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}uo(this,"refresh")}renderSplit(t,e){let i=this,{chart:s,chart:{chartWidth:o,chartHeight:r,plotHeight:a,plotLeft:n,plotTop:h,scrollablePixelsY:p=0,scrollablePixelsX:c,styledMode:u},distance:g,options:m,options:{fixed:f,position:y,positioner:x},pointer:b}=i,{scrollLeft:v=0,scrollTop:k=0}=s.scrollablePlotArea?.scrollingContainer||{},S=i.outside&&"number"!=typeof c?Jr.documentElement.getBoundingClientRect():{left:v,right:v+o,top:k,bottom:k+r},C=i.getLabel(),w=this.renderer||s.renderer,M=!!s.xAxis[0]?.opposite,{left:E,top:L}=b.getChartPosition(),O=x||f,D=h+k,j=0,z=a-p,R=function(_,X,K,V=[0,0],it=!0){let st,J;if(K.isHeader)J=M?0:z,st=Ge(V[0]-_/2,S.left,S.right-_-(i.outside?E:0));else if(f&&K){let pt=i.getFixedPosition(_,X,K);st=pt.x,J=pt.y-D}else J=V[1]-D,st=Ge(st=it?V[0]-_-g:V[0]+g,it?st:S.left,S.right);return{x:st,y:J}};go(t)&&(t=[!1,t]);let N=t.slice(0,e.length+1).reduce(function(_,X,K){if(!1!==X&&""!==X){let V=e[K-1]||{isHeader:!0,plotX:e[0].plotX,plotY:a,series:{}},it=V.isHeader,st=it?i:V.series,J=st.tt=function(Rt,Pt,Ut){let ue=Rt,{isHeader:Ee,series:Pi}=Pt,Bt=Pi.tooltipOptions||m;if(!ue){let He={padding:Bt.padding,r:Bt.borderRadius};u||(He.fill=Bt.backgroundColor,He["stroke-width"]=Bt.borderWidth??(f&&!Ee?0:1)),ue=w.label("",0,0,Bt[Ee?"headerShape":"shape"]||(f&&!Ee?"rect":"callout"),void 0,void 0,Bt.useHTML).addClass(i.getClassName(Pt,!0,Ee)).attr(He).add(C)}return ue.isActive=!0,ue.attr({text:Ut}),u||ue.css(Bt.style).attr({stroke:Bt.borderColor||Pt.color||Pi.color||"#333333"}),ue}(st.tt,V,X.toString()),pt=J.getBBox(),St=pt.width+J.strokeWidth();it&&(j=pt.height,z+=j,M&&(D-=j));let{anchorX:At,anchorY:pe}=function(Rt){let Pt,Ut,{isHeader:ue,plotX:Ee=0,plotY:Pi=0,series:Bt}=Rt;if(ue)Pt=Math.max(n+Ee,n),Ut=h+a/2;else{let{xAxis:He,yAxis:yn}=Bt;Pt=He.pos+Ge(Ee,-g,He.len+g),Bt.shouldShowTooltip(0,yn.pos-h+Pi,{ignoreX:!0})&&(Ut=yn.pos+Pi)}return{anchorX:Pt=Ge(Pt,S.left-g,S.right+g),anchorY:Ut}}(V);if("number"==typeof pe){let Rt=pt.height+1,Pt=(x||R).call(i,St,Rt,V,[At,pe]);_.push({align:O?0:void 0,anchorX:At,anchorY:pe,boxWidth:St,point:V,rank:We(Pt.rank,+!!it),size:Rt,target:Pt.y,tt:J,x:Pt.x})}else J.isActive=!1}return _},[]);!O&&N.some(_=>{let{outside:X}=i,K=(X?E:0)+_.anchorX;return K<S.left&&K+_.boxWidth<S.right||K<E-S.left+_.boxWidth&&S.right-K>K})&&(N=N.map(_=>{let{x:X,y:K}=R.call(this,_.boxWidth,_.size,_.point,[_.anchorX,_.anchorY],!1);return Sh(_,{target:K,x:X})})),i.cleanSplit(),wh(N,z);let B={left:E,right:E};N.forEach(function(_){let{x:X,boxWidth:K,isHeader:V}=_;!V&&(i.outside&&E+X<B.left&&(B.left=E+X),!V&&i.outside&&B.left+K>B.right&&(B.right=E+X))}),N.forEach(function(_){let{x:X,anchorX:K,anchorY:V,pos:it,point:{isHeader:st}}=_,J={visibility:void 0===it?"hidden":"inherit",x:X,y:(it||0)+D+(f&&y.y||0),anchorX:K,anchorY:V};if(i.outside&&X<K){let pt=E-B.left;pt>0&&(st||(J.x=X+pt,J.anchorX=K+pt),st&&(J.x=(B.right-B.left)/2,J.anchorX=K+pt))}_.tt.attr(J)});let{container:tt,outside:q,renderer:Mt}=i;if(q&&tt&&Mt){let{width:_,height:X,x:K,y:V}=C.getBBox();Mt.setSize(_+K,X+V,!1),tt.style.left=B.left+"px",tt.style.top=L+"px"}kh&&C.attr({opacity:1===C.opacity?.999:1})}drawTracker(){if(!this.shouldStickOnContact())return void(this.tracker&&(this.tracker=this.tracker.destroy()));let t=this.chart,e=this.label,i=this.shared?t.hoverPoints:t.hoverPoint;if(!e||!i)return;let s={x:0,y:0,width:0,height:0},o=this.getAnchor(i),r=e.getBBox();o[0]+=t.plotLeft-(e.translateX||0),o[1]+=t.plotTop-(e.translateY||0),s.x=Math.min(0,o[0]),s.y=Math.min(0,o[1]),s.width=o[0]<0?Math.max(Math.abs(o[0]),r.width-o[0]):Math.max(Math.abs(o[0]),r.width),s.height=o[1]<0?Math.max(Math.abs(o[1]),r.height-Math.abs(o[1])):Math.max(Math.abs(o[1]),r.height),this.tracker?this.tracker.attr(s):(this.tracker=e.renderer.rect(s).addClass("highcharts-tracker").add(e),t.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(t){return t.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(t,e){let i=t.series,s=i.tooltipOptions,o=i.xAxis,r=o?.dateTime,a={isFooter:e,point:t},n=s.xDateFormat||"",h=s[e?"footerFormat":"headerFormat"];return uo(this,"headerFormatter",a,function(p){if(r&&!n&&Th(t.key)&&(n=r.getXDateFormat(t.key,s.dateTimeLabelFormats)),r&&n){if(Ah(n)){let c=n;vh[0]=u=>i.chart.time.dateFormat(c,u),n="%0"}(t.tooltipDateKeys||["key"]).forEach(c=>{h=h.replace(RegExp("point\\."+c+"([ \\)}])"),`(point.${c}:${n})$1`)})}i.chart.styledMode&&(h=this.styledModeFormat(h)),p.text=Kr(h,t,this.chart)}),a.text||""}update(t){this.destroy(),this.init(this.chart,Eh(!0,this.options,t))}updatePosition(t){let k,{chart:e,container:i,distance:s,options:o,pointer:r,renderer:a}=this,{height:n=0,width:h=0}=this.getLabel(),{fixed:p,positioner:c}=o,{left:u,top:g,scaleX:m,scaleY:f}=r.getChartPosition(),y=(c||p&&this.getFixedPosition||this.getPosition).call(this,h,n,t),x=I.doc,b=(t.plotX||0)+e.plotLeft,v=(t.plotY||0)+e.plotTop;if(a&&i){if(c||p){let{scrollLeft:S=0,scrollTop:C=0}=e.scrollablePlotArea?.scrollingContainer||{};y.x+=S+u-s,y.y+=C+g-s}k=(o.borderWidth||0)+2*s+2,a.setSize(Ge(h+k,0,x.documentElement.clientWidth)-1,n+k,!1),(1!==m||1!==f)&&(Qr(i,{transform:`scale(${m}, ${f})`}),b*=m,v*=f),b+=u-y.x,v+=g-y.y}this.move(Math.round(y.x),Math.round(y.y||0),b,v)}}!function(l){l.compose=function(t){Oh(bh,"Core.Tooltip")&&Ch(t,"afterInit",function(){let e=this.chart;e.options.tooltip&&(e.tooltip=new l(e,e.options.tooltip,this))})}}(fo||(fo={}));let ea=fo,{animObject:Fh}=vt,{defaultOptions:Ih}=A,{format:Nh}=Ot,{addEvent:Dh,crisp:Rh,erase:Bh,extend:ls,fireEvent:xo,getNestedProperty:jh,isArray:zh,isFunction:Gh,isNumber:se,isObject:hs,merge:ia,pick:oe,syncTimeout:Wh,removeEvent:sa,uniqueKey:Xh}=G;class mi{animateBeforeDestroy(){let t=this,e={x:t.startXPos,opacity:0},i=t.getGraphicalProps();i.singular.forEach(function(s){t[s]=t[s].animate("dataLabel"===s?{x:t[s].startXPos,y:t[s].startYPos,opacity:0}:e)}),i.plural.forEach(function(s){t[s].forEach(function(o){o.element&&o.animate(ls({x:t.startXPos},o.startYPos?{x:o.startXPos,y:o.startYPos}:{}))})})}applyOptions(t,e){let i=this.series,s=i.options.pointValKey||i.pointValKey;return ls(this,t=mi.prototype.optionsToObject.call(this,t)),this.options=this.options?ls(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,s&&(this.y=mi.prototype.getNestedProperty.call(this,s)),this.selected&&(this.state="select"),"name"in this&&void 0===e&&i.xAxis&&i.xAxis.hasNames&&(this.x=i.xAxis.nameToX(this)),void 0===this.x&&i?this.x=e??i.autoIncrement():se(t.x)&&i.options.relativeXValue?this.x=i.autoIncrement(t.x):"string"==typeof this.x&&(e??(e=i.chart.time.parse(this.x)),se(e)&&(this.x=e)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let t=this,e=t.series,i=e.chart,s=e.options.dataSorting,o=i.hoverPoints,r=Fh(t.series.chart.renderer.globalAnimation),a=()=>{for(let n in(t.graphic||t.graphics||t.dataLabel||t.dataLabels)&&(sa(t),t.destroyElements()),t)delete t[n]};t.legendItem&&i.legend.destroyItem(t),o&&(t.setState(),Bh(o,t),o.length||(i.hoverPoints=null)),t===i.hoverPoint&&t.onMouseOut(),s?.enabled?(this.animateBeforeDestroy(),Wh(a,r.duration)):a(),i.pointCount--}this.destroyed=!0}destroyElements(t){let e=this,i=e.getGraphicalProps(t);i.singular.forEach(function(s){e[s]=e[s].destroy()}),i.plural.forEach(function(s){e[s].forEach(function(o){o?.element&&o.destroy()}),delete e[s]})}firePointEvent(t,e,i){let s=this,o=this.series.options;s.manageEvent(t),"click"===t&&o.allowPointSelect&&(i=function(r){!s.destroyed&&s.select&&s.select(null,r.ctrlKey||r.metaKey||r.shiftKey)}),xo(s,t,e,i)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone?.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(t){let e,i,s=this,o=[],r={singular:[],plural:[]};for((t=t||{graphic:1,dataLabel:1}).graphic&&o.push("graphic","connector"),t.dataLabel&&o.push("dataLabel","dataLabelPath","dataLabelUpper"),i=o.length;i--;)s[e=o[i]]&&r.singular.push(e);return["graphic","dataLabel"].forEach(function(a){let n=a+"s";t[a]&&s[n]&&r.plural.push(n)}),r}getNestedProperty(t){if(t)return 0===t.indexOf("custom.")?jh(t,this.options):this[t]}getZone(){let s,t=this.series,e=t.zones,i=t.zoneAxis||"y",o=0;for(s=e[0];this[i]>=s.value;)s=e[++o];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=s?.color&&!this.options.color?s.color:this.nonZonedColor,s}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(t,e,i){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=t,this.applyOptions(e,i),this.id??(this.id=Xh()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=t.options.nullInteraction),t.chart.pointCount++,xo(this,"afterInit")}isValid(){return(se(this.x)||this.x instanceof Date)&&se(this.y)}optionsToObject(t){let a,e=this.series,i=e.options.keys,s=i||e.pointArrayMap||["y"],o=s.length,r={},n=0,h=0;if(se(t)||null===t)r[s[0]]=t;else if(zh(t))for(!i&&t.length>o&&("string"==(a=typeof t[0])?e.xAxis?.dateTime?r.x=e.chart.time.parse(t[0]):r.name=t[0]:"number"===a&&(r.x=t[0]),n++);h<o;)i&&void 0===t[n]||(s[h].indexOf(".")>0?mi.prototype.setNestedProperty(r,t[n],s[h]):r[s[h]]=t[n]),n++,h++;else"object"==typeof t&&(r=t,t.dataLabels&&(e.hasDataLabels=()=>!0),t.marker&&(e._hasPointMarkers=!0));return r}pos(t,e=this.plotY){if(!this.destroyed){let{plotX:i,series:s}=this,{chart:o,xAxis:r,yAxis:a}=s,n=0,h=0;if(se(i)&&se(e))return t&&(n=r?r.pos:o.plotLeft,h=a?a.pos:o.plotTop),o.inverted&&r&&a?[a.len-e+h,r.len-i+n]:[i+n,e+h]}}resolveColor(){let s,o,a,t=this.series,i=t.chart.styledMode,r=t.chart.options.chart.colorCount;delete this.nonZonedColor,t.options.colorByPoint?(i||(s=(o=t.options.colors||t.chart.options.colors)[t.colorCounter],r=o.length),a=t.colorCounter,t.colorCounter++,t.colorCounter===r&&(t.colorCounter=0)):(i||(s=t.color),a=t.colorIndex),this.colorIndex=oe(this.options.colorIndex,a),this.color=oe(this.options.color,s)}setNestedProperty(t,e,i){return i.split(".").reduce(function(s,o,r,a){return s[o]=a.length-1===r?e:hs(s[o],!0)?s[o]:{},s[o]},t),t}shouldDraw(){return!this.isNull}tooltipFormatter(t){let{chart:e,pointArrayMap:i=["y"],tooltipOptions:s}=this.series,{valueDecimals:o="",valuePrefix:r="",valueSuffix:a=""}=s;return e.styledMode&&(t=e.tooltip?.styledModeFormat(t)||t),i.forEach(n=>{n="{point."+n,(r||a)&&(t=t.replace(RegExp(n+"}","g"),r+n+"}"+a)),t=t.replace(RegExp(n+"}","g"),n+":,."+o+"f}")}),Nh(t,this,e)}update(t,e,i,s){let o,r=this,a=r.series,n=r.graphic,h=a.chart,p=a.options;function c(){r.applyOptions(t);let u=n&&r.hasMockGraphic;n&&(null===r.y?!u:u)&&(r.graphic=n.destroy(),delete r.hasMockGraphic),hs(t,!0)&&(n?.element&&t&&t.marker&&void 0!==t.marker.symbol&&(r.graphic=n.destroy()),t?.dataLabels&&r.dataLabel&&(r.dataLabel=r.dataLabel.destroy())),o=r.index;let m={};for(let f of a.dataColumnKeys())m[f]=r[f];a.dataTable.setRow(m,o),p.data[o]=hs(p.data[o],!0)||hs(t,!0)?r.options:oe(t,p.data[o]),a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(h.isDirtyBox=!0),"point"===p.legendType&&(h.isDirtyLegend=!0),e&&h.redraw(i)}e=oe(e,!0),!1===s?c():r.firePointEvent("update",{options:t},c)}remove(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)}select(t,e){let i=this,s=i.series,o=s.chart;t=oe(t,!i.selected),this.selectedStaging=t,i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,s.options.data[s.data.indexOf(i)]=i.options,i.setState(t&&"select"),e||o.getSelectedPoints().forEach(function(r){let a=r.series;r.selected&&r!==i&&(r.selected=r.options.selected=!1,a.options.data[a.data.indexOf(r)]=r.options,r.setState(o.hoverPoints&&a.options.inactiveOtherPoints?"inactive":""),r.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(t){let{inverted:e,pointer:i}=this.series.chart;i&&(t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e),i.runPointActions(t,this))}onMouseOut(){let t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach(function(e){e.setState()}),t.hoverPoints=t.hoverPoint=null}manageEvent(t){let e=ia(this.series.options.point,this.options),i=e.events?.[t];!Gh(i)||this.hcEvents?.[t]&&-1!==this.hcEvents?.[t]?.map(s=>s.fn).indexOf(i)?this.importedUserEvent&&!i&&this.hcEvents?.[t]&&this.hcEvents?.[t].userEvent&&(sa(this,t),delete this.hcEvents[t],Object.keys(this.hcEvents)||delete this.importedUserEvent):(this.importedUserEvent?.(),this.importedUserEvent=Dh(this,t,i),this.hcEvents&&(this.hcEvents[t].userEvent=!0))}setState(t,e){let m,f,y,b,i=this.series,s=this.state,o=i.options.states[t||"normal"]||{},r=Ih.plotOptions[i.type].marker&&i.options.marker,a=r&&!1===r.enabled,n=r?.states?.[t||"normal"]||{},p=this.marker||{},c=i.chart,u=r&&i.markerAttribs,g=i.halo,x=i.stateMarkerGraphic;if((t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===o.enabled||t&&(!1===n.enabled||a&&!1===n.enabled)||t&&p.states&&p.states[t]&&!1===p.states[t].enabled)return;if(this.state=t,u&&(m=i.markerAttribs(this,t)),this.graphic&&!this.hasMockGraphic){if(s&&this.graphic.removeClass("highcharts-point-"+s),t&&this.graphic.addClass("highcharts-point-"+t),!c.styledMode){f=i.pointAttribs(this,t),y=oe(c.options.chart.animation,o.animation);let C=f.opacity;i.options.inactiveOtherPoints&&se(C)&&(this.dataLabels||[]).forEach(function(w){w&&!w.hasClass("highcharts-data-label-hidden")&&(w.animate({opacity:C},y),w.connector&&w.connector.animate({opacity:C},y))}),this.graphic.animate(f,y)}m&&this.graphic.animate(m,oe(c.options.chart.animation,n.animation,r.animation)),x&&x.hide()}else t&&n&&(b=p.symbol||i.symbol,x&&x.currentSymbol!==b&&(x=x.destroy()),m&&(x?x[e?"animate":"attr"]({x:m.x,y:m.y}):b&&(i.stateMarkerGraphic=x=c.renderer.symbol(b,m.x,m.y,m.width,m.height,ia(r,n)).add(i.markerGroup),x.currentSymbol=b)),!c.styledMode&&x&&"inactive"!==this.state&&x.attr(i.pointAttribs(this,t))),x&&(x[t&&this.isInside?"show":"hide"](),x.element.point=this,x.addClass(this.getClassName(),!0));let v=o.halo,k=this.graphic||x,S=k?.visibility||"inherit";v?.size&&k&&"hidden"!==S&&!this.isCluster?(g||(i.halo=g=c.renderer.path().add(k.parentGroup)),g.show()[e?"animate":"attr"]({d:this.haloPath(v.size)}),g.attr({class:"highcharts-halo highcharts-color-"+oe(this.colorIndex,i.colorIndex)+(this.className?" "+this.className:""),visibility:S,zIndex:-1}),g.point=this,c.styledMode||g.attr(ls({fill:this.color||i.color,"fill-opacity":v.opacity},nt.filterUserAttributes(v.attributes||{})))):g?.point?.haloPath&&!g.point.destroyed&&g.animate({d:g.point.haloPath(0)},null,g.hide),xo(this,"afterSetState",{state:t})}haloPath(t){let e=this.pos();return e?this.series.chart.renderer.symbols.circle(Rh(e[0],1)-t,e[1]-t,2*t,2*t):[]}}let re=mi,{parse:_h}=lt,{charts:yo,composed:Yh,isTouchDevice:Hh}=I,{addEvent:Lt,attr:$h,css:bo,extend:vo,find:oa,fireEvent:ae,isNumber:ds,isObject:cs,objectEach:Uh,offset:Vh,pick:Ht,pushUnique:qh,splat:ra}=G;class yt{applyInactiveState(t=[]){let e=[];for(let i of(t.forEach(s=>{let o=s.series;e.push(o),o.linkedParent&&e.push(o.linkedParent),o.linkedSeries&&e.push.apply(e,o.linkedSeries),o.navigatorSeries&&e.push(o.navigatorSeries),o.boosted&&o.markerGroup&&e.push.apply(e,this.chart.series.filter(r=>r.markerGroup===o.markerGroup))}),this.chart.series)){let s=i.options;!1!==s.states?.inactive?.enabled&&(-1===e.indexOf(i)?i.setState("inactive",!0):s.inactiveOtherPoints&&i.setAllPointsToState("inactive"))}}destroy(){let t=this;this.eventsToUnbind.forEach(e=>e()),this.eventsToUnbind=[],!I.chartCount&&(yt.unbindDocumentMouseUp.forEach(e=>e.unbind()),yt.unbindDocumentMouseUp.length=0,yt.unbindDocumentTouchEnd&&(yt.unbindDocumentTouchEnd=yt.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),Uh(t,function(e,i){t[i]=void 0})}getSelectionMarkerAttrs(t,e){let i={args:{chartX:t,chartY:e},attrs:{},shapeType:"rect"};return ae(this,"getSelectionMarkerAttrs",i,s=>{let o,{chart:r,zoomHor:a,zoomVert:n}=this,{mouseDownX:h=0,mouseDownY:p=0}=r,c=s.attrs;c.x=r.plotLeft,c.y=r.plotTop,c.width=a?1:r.plotWidth,c.height=n?1:r.plotHeight,a&&(c.width=Math.max(1,Math.abs(o=t-h)),c.x=(o>0?0:o)+h),n&&(c.height=Math.max(1,Math.abs(o=e-p)),c.y=(o>0?0:o)+p)}),i}drag(t){let y,{chart:e}=this,{mouseDownX:i=0,mouseDownY:s=0}=e,{panning:o,panKey:r,selectionMarkerFill:a}=e.options.chart,n=e.plotLeft,h=e.plotTop,p=e.plotWidth,c=e.plotHeight,u=cs(o)?o.enabled:o,g=r&&t[`${r}Key`],m=t.chartX,f=t.chartY,x=this.selectionMarker;if((!x||!x.touch)&&(m<n?m=n:m>n+p&&(m=n+p),f<h?f=h:f>h+c&&(f=h+c),this.hasDragged=Math.sqrt(Math.pow(i-m,2)+Math.pow(s-f,2)),this.hasDragged>10)){y=e.isInsidePlot(i-n,s-h,{visiblePlotOnly:!0});let{shapeType:b,attrs:v}=this.getSelectionMarkerAttrs(m,f);this.hasZoom&&y&&!g&&!x&&(this.selectionMarker=x=e.renderer[b](),x.attr({class:"highcharts-selection-marker",zIndex:7}).add(),e.styledMode||x.attr({fill:a||_h("#334eff").setOpacity(.25).get()})),x&&x.attr(v),y&&!x&&u&&e.pan(t,o)}}dragStart(t){let e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=t.chartX,e.mouseDownY=t.chartY}getSelectionBox(t){let e={args:{marker:t},result:t.getBBox()};return ae(this,"getSelectionBox",e),e.result}drop(t){let e,{chart:i,selectionMarker:s}=this;for(let o of i.axes)o.isPanning&&(o.isPanning=!1,(o.options.startOnTick||o.options.endOnTick||o.series.some(r=>r.boosted))&&(o.forceRedraw=!0,o.setExtremes(o.userMin,o.userMax,!1),e=!0));if(e&&i.redraw(),s&&t){if(this.hasDragged){let o=this.getSelectionBox(s);i.transform({axes:i.axes.filter(r=>r.zoomEnabled&&("xAxis"===r.coll&&this.zoomX||"yAxis"===r.coll&&this.zoomY)),selection:{originalEvent:t,xAxis:[],yAxis:[],...o},from:o})}ds(i.index)&&(this.selectionMarker=s.destroy())}i&&ds(i.index)&&(bo(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(t,e,i){let s;return t.forEach(function(o){let r=!(o.noSharedTooltip&&e)&&0>o.options.findNearestPointBy.indexOf("y"),a=o.searchPoint(i,r);cs(a,!0)&&a.series&&(!cs(s,!0)||function(n,h){let c=n.distX-h.distX,u=n.dist-h.dist,g=h.series.group?.zIndex-n.series.group?.zIndex;return 0!==c&&e?c:0!==u?u:0!==g?g:n.series.index>h.series.index?-1:1}(s,a)>0)&&(s=a)}),s}getChartCoordinatesFromPoint(t,e){let{xAxis:i,yAxis:s}=t.series,o=t.shapeArgs;if(i&&s){let r=t.clientX??t.plotX??0,a=t.plotY||0;return t.isNode&&o&&ds(o.x)&&ds(o.y)&&(r=o.x,a=o.y),e?{chartX:s.len+s.pos-a,chartY:i.len+i.pos-r}:{chartX:r+i.pos,chartY:a+s.pos}}if(o?.x&&o.y)return{chartX:o.x,chartY:o.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:t}=this.chart,e=Vh(t);this.chartPosition={left:e.left,top:e.top,scaleX:1,scaleY:1};let{offsetHeight:i,offsetWidth:s}=t;return s>2&&i>2&&(this.chartPosition.scaleX=e.width/s,this.chartPosition.scaleY=e.height/i),this.chartPosition}getCoordinates(t){let e={xAxis:[],yAxis:[]};for(let i of this.chart.axes)e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])});return e}getHoverData(t,e,i,s,o,r){let p,a=[],n=function(g){return g.visible&&!(!o&&g.directTouch)&&Ht(g.options.enableMouseTracking,!0)},h=e,c={chartX:r?r.chartX:void 0,chartY:r?r.chartY:void 0,shared:o};ae(this,"beforeGetHoverData",c),p=h&&!h.stickyTracking?[h]:i.filter(g=>g.stickyTracking&&(c.filter||n)(g));let u=s&&t||!r?t:this.findNearestKDPoint(p,o,r);return h=u?.series,u&&(o&&!h.noSharedTooltip?(p=i.filter(function(g){return c.filter?c.filter(g):n(g)&&!g.noSharedTooltip})).forEach(function(g){let m=g.options?.nullInteraction,f=oa(g.points,function(y){return!(y.x!==u.x||y.isNull&&!m)});cs(f)&&(g.boosted&&g.boost&&(f=g.boost.getPoint(f)),a.push(f))}):a.push(u)),ae(this,"afterGetHoverData",c={hoverPoint:u}),{hoverPoint:c.hoverPoint,hoverSeries:h,hoverPoints:a}}getPointFromEvent(t){let i,e=t.target;for(;e&&!i;)i=e.point,e=e.parentNode;return i}onTrackerMouseOut(t){let i=t.relatedTarget,s=this.chart.hoverSeries;this.isDirectTouch=!1,!s||!i||s.stickyTracking||this.inClass(i,"highcharts-tooltip")||this.inClass(i,"highcharts-series-"+s.index)&&this.inClass(i,"highcharts-tracker")||s.onMouseOut()}inClass(t,e){let s,i=t;for(;i;){if(s=$h(i,"class")){if(-1!==s.indexOf(e))return!0;if(-1!==s.indexOf("highcharts-container"))return!1}i=i.parentElement}}constructor(t,e){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=e,this.chart=t,this.runChartClick=!!e.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),ae(this,"afterInit")}normalize(t,e){let i=t.touches,s=i?i.length?i.item(0):Ht(i.changedTouches,t.changedTouches)[0]:t;e||(e=this.getChartPosition());let o=s.pageX-e.left,r=s.pageY-e.top;return vo(t,{chartX:Math.round(o/=e.scaleX),chartY:Math.round(r/=e.scaleY)})}onContainerClick(t){let e=this.chart,i=e.hoverPoint,s=this.normalize(t),o=e.plotLeft,r=e.plotTop;!e.cancelClick&&(i&&this.inClass(s.target,"highcharts-tracker")?(ae(i.series,"click",vo(s,{point:i})),e.hoverPoint&&i.firePointEvent("click",s)):(vo(s,this.getCoordinates(s)),e.isInsidePlot(s.chartX-o,s.chartY-r,{visiblePlotOnly:!0})&&ae(e,"click",s)))}onContainerMouseDown(t){let e=1==(1&(t.buttons||t.button));t=this.normalize(t),I.isFirefox&&0!==t.button&&this.onContainerMouseMove(t),(void 0===t.button||e)&&(this.zoomOption(t),e&&t.preventDefault?.(),this.dragStart(t))}onContainerMouseLeave(t){let{pointer:e}=yo[Ht(yt.hoverChartIndex,-1)]||{};t=this.normalize(t),this.onContainerMouseMove(t),e&&!this.inClass(t.relatedTarget,"highcharts-tooltip")&&(e.reset(),e.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(t){let e=this.chart,i=e.tooltip,s=this.normalize(t);this.setHoverChartIndex(t),("mousedown"===e.mouseIsDown||this.touchSelect(s))&&this.drag(s),!e.exporting?.openMenu&&(this.inClass(s.target,"highcharts-tracker")||e.isInsidePlot(s.chartX-e.plotLeft,s.chartY-e.plotTop,{visiblePlotOnly:!0}))&&!i?.shouldStickOnContact(s)&&(this.inClass(s.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(s))}onDocumentTouchEnd(t){this.onDocumentMouseUp(t)}onContainerTouchMove(t){this.touchSelect(t)?this.onContainerMouseMove(t):this.touch(t)}onContainerTouchStart(t){this.touchSelect(t)?this.onContainerMouseDown(t):(this.zoomOption(t),this.touch(t,!0))}onDocumentMouseMove(t){let e=this.chart,i=e.tooltip,s=this.chartPosition,o=this.normalize(t,s);!s||e.isInsidePlot(o.chartX-e.plotLeft,o.chartY-e.plotTop,{visiblePlotOnly:!0})||i?.shouldStickOnContact(o)||o.target!==e.container.ownerDocument&&this.inClass(o.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(t){t?.touches&&this.hasPinchMoved&&t?.preventDefault?.(),yo[Ht(yt.hoverChartIndex,-1)]?.pointer?.drop(t)}pinch(t){let e=this,{chart:i,hasZoom:s,lastTouches:o}=e,r=[].map.call(t.touches||[],c=>e.normalize(c)),a=r.length,n=1===a&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),h=i.tooltip,p=1===a&&Ht(h?.options.followTouchMove,!0);a>1?e.initiated=!0:p&&(e.initiated=!1),s&&e.initiated&&!n&&!1!==t.cancelable&&t.preventDefault(),"touchstart"===t.type?(e.pinchDown=r,e.res=!0,i.mouseDownX=t.chartX):p?this.runPointActions(e.normalize(t)):o&&(ae(i,"touchpan",{originalEvent:t,touches:r},()=>{let c=u=>{let g=u[0],m=u[1]||g;return{x:g.chartX,y:g.chartY,width:m.chartX-g.chartX,height:m.chartY-g.chartY}};i.transform({axes:i.axes.filter(u=>u.zoomEnabled&&(this.zoomHor&&u.horiz||this.zoomVert&&!u.horiz)),to:c(r),from:c(o),trigger:t.type})}),e.res&&(e.res=!1,this.reset(!1,0))),e.lastTouches=r}reset(t,e){let i=this.chart,s=i.hoverSeries,o=i.hoverPoint,r=i.hoverPoints,a=i.tooltip,n=a?.shared?r:o;t&&n&&ra(n).forEach(function(h){h.series.isCartesian&&void 0===h.plotX&&(t=!1)}),t?a&&n&&ra(n).length&&(a.refresh(n),a.shared&&r?r.forEach(function(h){h.setState(h.state,!0),h.series.isCartesian&&(h.series.xAxis.crosshair&&h.series.xAxis.drawCrosshair(null,h),h.series.yAxis.crosshair&&h.series.yAxis.drawCrosshair(null,h))}):o&&(o.setState(o.state,!0),i.axes.forEach(function(h){h.crosshair&&o.series[h.coll]===h&&h.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),r&&r.forEach(function(h){h.setState()}),s&&s.onMouseOut(),a&&a.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),i.axes.forEach(function(h){h.hideCrosshair()}),i.hoverPoints=i.hoverPoint=void 0)}runPointActions(t,e,i){let s=this.chart,o=s.series,r=s.tooltip?.options.enabled?s.tooltip:void 0,a=!!r&&r.shared,n=e||s.hoverPoint,h=n?.series||s.hoverSeries,c=this.getHoverData(n,h,o,(!t||"touchmove"!==t.type)&&(!!e||h?.directTouch&&this.isDirectTouch),a,t);n=c.hoverPoint,h=c.hoverSeries;let u=c.hoverPoints,g=h?.tooltipOptions.followPointer&&!h.tooltipOptions.split,m=a&&h&&!h.noSharedTooltip;if(n&&(i||n!==s.hoverPoint||r?.isHidden)){if((s.hoverPoints||[]).forEach(function(f){-1===u.indexOf(f)&&f.setState()}),s.hoverSeries!==h&&h.onMouseOver(),this.applyInactiveState(u),(u||[]).forEach(function(f){f.setState("hover")}),s.hoverPoint&&s.hoverPoint.firePointEvent("mouseOut"),!n.series)return;s.hoverPoints=u,s.hoverPoint=n,n.firePointEvent("mouseOver",void 0,()=>{r&&n&&r.refresh(m?u:n,t)})}else if(g&&r&&!r.isHidden){let f=r.getAnchor([{}],t);s.isInsidePlot(f[0],f[1],{visiblePlotOnly:!0})&&r.updatePosition({plotX:f[0],plotY:f[1]})}this.unDocMouseMove||(this.unDocMouseMove=Lt(s.container.ownerDocument,"mousemove",f=>yo[yt.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(f)),this.eventsToUnbind.push(this.unDocMouseMove)),s.axes.forEach(function(f){let y,x=f.crosshair?.snap??!0;x&&((y=s.hoverPoint)&&y.series[f.coll]===f||(y=oa(u,b=>b.series?.[f.coll]===f))),y||!x?f.drawCrosshair(t,y):f.hideCrosshair()})}setDOMEvents(){let t=this.chart.container,e=t.ownerDocument;t.onmousedown=this.onContainerMouseDown.bind(this),t.onmousemove=this.onContainerMouseMove.bind(this),t.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Lt(t,"mouseenter",this.onContainerMouseEnter.bind(this)),Lt(t,"mouseleave",this.onContainerMouseLeave.bind(this))),yt.unbindDocumentMouseUp.some(s=>s.doc===e)||yt.unbindDocumentMouseUp.push({doc:e,unbind:Lt(e,"mouseup",this.onDocumentMouseUp.bind(this))});let i=this.chart.renderTo.parentElement;for(;i&&"BODY"!==i.tagName;)this.eventsToUnbind.push(Lt(i,"scroll",()=>{delete this.chartPosition})),i=i.parentElement;this.eventsToUnbind.push(Lt(t,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),Lt(t,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),yt.unbindDocumentTouchEnd||(yt.unbindDocumentTouchEnd=Lt(e,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),Lt(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!Hh)return;let t=this.pointerCaptureEventsToUnbind,e=this.chart,i=e.container,s=Ht(e.options.tooltip?.followTouchMove,!0)&&e.series.some(o=>o.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&s?(t.push(Lt(i,"pointerdown",o=>{o.target?.hasPointerCapture(o.pointerId)&&o.target?.releasePointerCapture(o.pointerId)}),Lt(i,"pointermove",o=>{e.pointer?.getPointFromEvent(o)?.onMouseOver(o)})),e.styledMode||bo(i,{"touch-action":"none"}),i.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!s&&(t.forEach(o=>o()),t.length=0,e.styledMode||bo(i,{"touch-action":Ht(e.options.chart.style?.["touch-action"],"manipulation")}),i.className=i.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(t){let e=this.chart,i=I.charts[Ht(yt.hoverChartIndex,-1)];if(i&&i!==e){let s={relatedTarget:e.container};t&&!t?.relatedTarget&&Object.assign({},t,s),i.pointer?.onContainerMouseLeave(t||s)}i?.mouseIsDown||(yt.hoverChartIndex=e.index)}touch(t,e){let i,{chart:s,pinchDown:o=[]}=this;this.setHoverChartIndex(),1===(t=this.normalize(t)).touches.length?s.isInsidePlot(t.chartX-s.plotLeft,t.chartY-s.plotTop,{visiblePlotOnly:!0})&&!s.exporting?.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(this.hasPinchMoved=i=!!o[0]&&Math.pow(o[0].chartX-t.chartX,2)+Math.pow(o[0].chartY-t.chartY,2)>=16),Ht(i,!0)&&this.pinch(t)):e&&this.reset():2===t.touches.length&&this.pinch(t)}touchSelect(t){return!(!this.chart.zooming.singleTouch||!t.touches||1!==t.touches.length)}zoomOption(t){let o,r,e=this.chart,i=e.inverted,s=e.zooming.type||"";/touch/.test(t.type)&&(s=Ht(e.zooming.pinchType,s)),this.zoomX=o=/x/.test(s),this.zoomY=r=/y/.test(s),this.zoomHor=o&&!i||r&&i,this.zoomVert=r&&!i||o&&i,this.hasZoom=o||r}}yt.unbindDocumentMouseUp=[],function(l){l.compose=function(t){qh(Yh,"Core.Pointer")&&Lt(t,"beforeRender",function(){this.pointer=new l(this,this.options)})}}(yt||(yt={}));let aa=yt;!function(l){l.setLength=function(t,e,i){return Array.isArray(t)?(t.length=e,t):t[i?"subarray":"slice"](0,e)},l.splice=function(t,e,i,s,o=[]){if(Array.isArray(t))return Array.isArray(o)||(o=Array.from(o)),{removed:t.splice(e,i,...o),array:t};let r=Object.getPrototypeOf(t).constructor,a=t[s?"subarray":"slice"](e,e+i),n=new r(t.length-i+o.length);return n.set(t.subarray(0,e),0),n.set(o,e),n.set(t.subarray(e+i),e+o.length),{removed:a,array:n}}}(U||(U={}));let{setLength:Zh,splice:na}=U,{fireEvent:ko,objectEach:fi,uniqueKey:xi}=G,ps=class{constructor(l={}){this.autoId=!l.id,this.columns={},this.id=l.id||xi(),this.modified=this,this.rowCount=0,this.versionTag=xi();let t=0;fi(l.columns||{},(e,i)=>{this.columns[i]=e.slice(),t=Math.max(t,e.length)}),this.applyRowCount(t)}applyRowCount(l){this.rowCount=l,fi(this.columns,(t,e)=>{t.length!==l&&(this.columns[e]=Zh(t,l))})}deleteRows(l,t=1){if(t>0&&l<this.rowCount){let e=0;fi(this.columns,(i,s)=>{this.columns[s]=na(i,l,t).array,e=i.length}),this.rowCount=e}ko(this,"afterDeleteRows",{rowIndex:l,rowCount:t}),this.versionTag=xi()}getColumn(l,t){return this.columns[l]}getColumns(l,t){return(l||Object.keys(this.columns)).reduce((e,i)=>(e[i]=this.columns[i],e),{})}getRow(l,t){return(t||Object.keys(this.columns)).map(e=>this.columns[e]?.[l])}setColumn(l,t=[],e=0,i){this.setColumns({[l]:t},e,i)}setColumns(l,t,e){let i=this.rowCount;fi(l,(s,o)=>{this.columns[o]=s.slice(),i=s.length}),this.applyRowCount(i),e?.silent||(ko(this,"afterSetColumns"),this.versionTag=xi())}setRow(l,t=this.rowCount,e,i){let{columns:s}=this,o=e?this.rowCount+1:t+1;fi(l,(r,a)=>{let n=s[a]||!1!==i?.addColumns&&Array(o);n&&(e?n=na(n,t,0,!0,[r]).array:n[t]=r,s[a]=n)}),o>this.rowCount&&this.applyRowCount(o),i?.silent||(ko(this,"afterSetRows"),this.versionTag=xi())}},{extend:Kh,merge:Jh,pick:la}=G;!function(l){function t(e,i,s){let x,o=this.legendItem=this.legendItem||{},{chart:r,options:a}=this,{baseline:n=0,symbolWidth:h,symbolHeight:p}=e,c=this.symbol||"circle",u=p/2,g=r.renderer,m=o.group,f=n-Math.round((e.fontMetrics?.b||p)*(s?.4:.3)),y={},b=a.marker,v=0;if(r.styledMode||(y["stroke-width"]=Math.min(a.lineWidth||0,24),a.dashStyle?y.dashstyle=a.dashStyle:"square"!==a.linecap&&(y["stroke-linecap"]="round")),o.line=g.path().addClass("highcharts-graph").attr(y).add(m),s&&(o.area=g.path().addClass("highcharts-area").add(m)),y["stroke-linecap"]&&(v=Math.min(o.line.strokeWidth(),h)/2),h){let k=[["M",v,f],["L",h-v,f]];o.line.attr({d:k}),o.area?.attr({d:[...k,["L",h-v,n],["L",v,n]]})}if(b&&!1!==b.enabled&&h){let k=Math.min(la(b.radius,u),u);0===c.indexOf("url")&&(b=Jh(b,{width:p,height:p}),k=0),o.symbol=x=g.symbol(c,h/2-k,f-k,2*k,2*k,Kh({context:"legend"},b)).addClass("highcharts-point").add(m),x.isMarker=!0}}l.areaMarker=function(e,i){t.call(this,e,i,!0)},l.lineMarker=t,l.rectangle=function(e,i){let s=i.legendItem||{},r=e.symbolHeight,a=e.options.squareSymbol;s.symbol=this.chart.renderer.rect(a?(e.symbolWidth-r)/2:0,e.baseline-r+1,a?r:e.symbolWidth,r,la(e.options.symbolRadius,r/2)).addClass("highcharts-point").attr({zIndex:3}).add(s.group)}}(Ft||(Ft={}));let ha=Ft,{defaultOptions:da}=A,{extend:Qh,extendClass:td,merge:ed}=G;!function(l){function t(e,i){let s=da.plotOptions||{},o=i.defaultOptions,r=i.prototype;return r.type=e,r.pointClass||(r.pointClass=re),!l.seriesTypes[e]&&(o&&(s[e]=o),l.seriesTypes[e]=i,!0)}l.seriesTypes=I.seriesTypes,l.registerSeriesType=t,l.seriesType=function(e,i,s,o,r){let a=da.plotOptions||{};if(a[e]=ed(a[i=i||""],s),delete l.seriesTypes[e],t(e,td(l.seriesTypes[i]||Tt,o)),l.seriesTypes[e].prototype.type=e,r){class n extends re{}Qh(n.prototype,r),l.seriesTypes[e].prototype.pointClass=n}return l.seriesTypes[e]}}(qe||(qe={}));let gt=qe,{animObject:ca,setAnimation:id}=vt,{defaultOptions:us}=A,{registerEventOptions:sd}=Qi,{svg:od,win:rd}=I,{seriesTypes:Xe}=gt,{format:ad}=Ot,{arrayMax:wo,arrayMin:pa,clamp:ua,correctFloat:ga,crisp:nd,defined:mt,destroyObjectProperties:ld,diffObjects:hd,erase:ma,error:gs,extend:_e,find:dd,fireEvent:dt,getClosestDistance:cd,getNestedProperty:fa,insertItem:xa,isArray:ya,isNumber:bt,isString:pd,merge:yi,objectEach:Co,pick:ct,removeEvent:ud,syncTimeout:ba}=G;class It{constructor(){this.zoneAxis="y"}init(t,e){let i;dt(this,"init",{options:e}),this.dataTable??(this.dataTable=new ps);let s=t.series;this.eventsToUnbind=[],this.chart=t,this.options=this.setOptions(e);let o=this.options,r=!1!==o.visible;this.linkedSeries=[],this.bindAxes(),_e(this,{name:o.name,state:"",visible:r,selected:!0===o.selected}),sd(this,o),(o.events?.click||o.point?.events?.click||o.allowPointSelect)&&(t.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(t.hasCartesianSeries=!0),s.length&&(i=s[s.length-1]),this._i=ct(i?._i,-1)+1,this.opacity=this.options.opacity,t.orderItems("series",xa(this,s)),o.dataSorting?.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(o.data,!1),dt(this,"afterInit")}is(t){return Xe[t]&&this instanceof Xe[t]}bindAxes(){let t,e=this,i=e.options,s=e.chart;dt(this,"bindAxes",null,function(){(e.axisTypes||[]).forEach(function(o){(s[o]||[]).forEach(function(r){t=r.options,(ct(i[o],0)===r.index||void 0!==i[o]&&i[o]===t.id)&&(xa(e,r.series),e[o]=r,r.isDirty=!0)}),e[o]||e.optionalAxis===o||gs(18,!0,s)})}),dt(this,"afterBindAxes")}hasData(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(t,e){let i=t.marker,s=e.marker||{};return i&&(s.enabled&&!i.enabled||s.symbol!==i.symbol||s.height!==i.height||s.width!==i.width)}autoIncrement(t){let e,i=this.options,{pointIntervalUnit:s,relativeXValue:o}=this.options,r=this.chart.time,a=this.xIncrement??r.parse(i.pointStart)??0;if(this.pointInterval=e=ct(this.pointInterval,i.pointInterval,1),o&&bt(t)&&(e*=t),s){let n=r.toParts(a);"day"===s?n[2]+=e:"month"===s?n[1]+=e:"year"===s&&(n[0]+=e),e=r.makeTime.apply(r,n)-a}return o&&bt(t)?a+e:(this.xIncrement=a+e,a)}setDataSortingOptions(){let t=this.options;_e(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),mt(t.pointRange)||(t.pointRange=1)}setOptions(t){let e,i=this.chart,s=i.options.plotOptions,o=i.userOptions||{},r=yi(t),a=i.styledMode,n={plotOptions:s,userOptions:r};dt(this,"setOptions",n);let h=n.plotOptions[this.type],p=o.plotOptions||{},c=p.series||{},u=us.plotOptions[this.type]||{},g=p[this.type]||{};h.dataLabels=this.mergeArrays(u.dataLabels,h.dataLabels),this.userOptions=n.userOptions;let m=yi(h,s.series,g,r);this.tooltipOptions=yi(us.tooltip,us.plotOptions.series?.tooltip,u?.tooltip,i.userOptions.tooltip,p.series?.tooltip,g.tooltip,r.tooltip),this.stickyTracking=ct(r.stickyTracking,g.stickyTracking,c.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||m.stickyTracking),null===h.marker&&delete m.marker,this.zoneAxis=m.zoneAxis||"y";let f=this.zones=(m.zones||[]).map(y=>({...y}));return(m.negativeColor||m.negativeFillColor)&&!m.zones&&(e={value:m[this.zoneAxis+"Threshold"]||m.threshold||0,className:"highcharts-negative"},a||(e.color=m.negativeColor,e.fillColor=m.negativeFillColor),f.push(e)),f.length&&mt(f[f.length-1].value)&&f.push(a?{}:{color:this.color,fillColor:this.fillColor}),dt(this,"afterSetOptions",{options:m}),m}getName(){return this.options.name??ad(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(t,e,i){let s,o,r=this.chart,a=`${t}Index`,n=`${t}Counter`,h=i?.length||r.options.chart.colorCount;!e&&(mt(o=ct("color"===t?this.options.colorIndex:void 0,this[a]))?s=o:(r.series.length||(r[n]=0),s=r[n]%h,r[n]+=1),i&&(e=i[s])),void 0!==s&&(this[a]=s),this[t]=e}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||us.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}getColumn(t,e){return(e?this.dataTable.modified:this.dataTable).getColumn(t,!0)||[]}findPointIndex(t,e){let i,s,o,{id:r,x:a}=t,n=this.points,h=this.options.dataSorting,p=this.cropStart||0;if(r){let c=this.chart.get(r);c instanceof re&&(i=c)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let c=u=>!u.touched&&u.index===t.index;if(h?.matchByName?c=u=>!u.touched&&u.name===t.name:this.options.relativeXValue&&(c=u=>!u.touched&&u.options.x===t.x),!(i=dd(n,c)))return}return i&&void 0!==(o=i?.index)&&(s=!0),void 0===o&&bt(a)&&(o=this.getColumn("x").indexOf(a,e)),-1!==o&&void 0!==o&&this.cropped&&(o=o>=p?o-p:o),!s&&bt(o)&&n[o]?.touched&&(o=void 0),o}updateData(t,e){let h,p,c,u,{options:i,requireSorting:s}=this,o=i.dataSorting,r=this.points,a=[],n=t.length===r.length,g=!0;if(this.xIncrement=null,t.forEach((f,y)=>{let x,b=mt(f)&&this.pointClass.prototype.optionsToObject.call({series:this},f)||{},{id:v,x:k}=b;v||bt(k)?(-1===(x=this.findPointIndex(b,u))||void 0===x?a.push(f):r[x]&&f!==i.data?.[x]?(r[x].update(f,!1,void 0,!1),r[x].touched=!0,s&&(u=x+1)):r[x]&&(r[x].touched=!0),(!n||y!==x||o?.enabled||this.hasDerivedData)&&(h=!0)):a.push(f)},this),h)for(p=r.length;p--;)(c=r[p])&&!c.touched&&c.remove?.(!1,e);else n&&!o?.enabled?(t.forEach((f,y)=>{f===r[y].y||r[y].destroyed||r[y].update(f,!1,void 0,!1)}),a.length=0):g=!1;if(r.forEach(f=>{f&&(f.touched=!1)}),!g)return!1;a.forEach(f=>{this.addPoint(f,!1,void 0,void 0,!1)},this);let m=this.getColumn("x");return null===this.xIncrement&&m.length&&(this.xIncrement=wo(m),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(t,e=!0,i,s){let x,b,S,o=this.points,r=o?.length||0,a=this.options,n=this.chart,h=a.dataSorting,p=this.xAxis,c=a.turboThreshold,u=this.dataTable,g=this.dataColumnKeys(),m=this.pointValKey||"y",f=(this.pointArrayMap||[]).length,y=a.keys,v=0,k=1;n.options.chart.allowMutatingData||(a.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,S=yi(!0,t));let C=(t=S||t||[]).length;if(h?.enabled&&(t=this.sortData(t)),n.options.chart.allowMutatingData&&!1!==s&&C&&r&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(b=this.updateData(t,i)),!b){this.xIncrement=null,this.colorCounter=0;let w=c&&!a.relativeXValue&&C>c;if(w){let M=this.getFirstValidPoint(t),E=this.getFirstValidPoint(t,C-1,-1),L=O=>!(!ya(O)||!y&&!bt(O[0]));if(bt(M)&&bt(E)){let O=[],D=[];for(let j of t)O.push(this.autoIncrement()),D.push(j);u.setColumns({x:O,[m]:D})}else if(L(M)&&L(E))if(f){let O=+(M.length===f),D=Array(g.length).fill(0).map(()=>[]);for(let j of t){O&&D[0].push(this.autoIncrement());for(let z=O;z<=f;z++)D[z]?.push(j[z-O])}u.setColumns(g.reduce((j,z,R)=>(j[z]=D[R],j),{}))}else{y&&(v=y.indexOf("x"),k=y.indexOf("y"),v=v>=0?v:0,k=k>=0?k:1),1===M.length&&(k=0);let O=[],D=[];if(v===k)for(let j of t)O.push(this.autoIncrement()),D.push(j[k]);else for(let j of t)O.push(j[v]),D.push(j[k]);u.setColumns({x:O,[m]:D})}else w=!1}if(!w){let M=g.reduce((E,L)=>(E[L]=[],E),{});for(x=0;x<C;x++){let E=this.pointClass.prototype.applyOptions.apply({series:this},[t[x]]);for(let L of g)M[L][x]=E[L]}u.setColumns(M)}for(pd(this.getColumn("y")[0])&&gs(14,!0,n),this.data=[],this.options.data=this.userOptions.data=t,x=r;x--;)o[x]?.destroy();p&&(p.minRange=p.userMinRange),this.isDirty=n.isDirtyBox=!0,this.isDirtyData=!!o,i=!1}"point"===a.legendType&&(this.processData(),this.generatePoints()),e&&n.redraw(i)}sortData(t){let e=this,i=e.options.dataSorting.sortKey||"y",s=function(o,r){return mt(r)&&o.pointClass.prototype.optionsToObject.call({series:o},r)||{}};return t.forEach(function(o,r){t[r]=s(e,o),t[r].index=r},this),t.concat().sort((o,r)=>{let a=fa(i,o),n=fa(i,r);return n<a?-1:+(n>a)}).forEach(function(o,r){o.x=r},this),e.linkedSeries&&e.linkedSeries.forEach(function(o){let r=o.options,a=r.data;!r.dataSorting?.enabled&&a&&(a.forEach(function(n,h){a[h]=s(o,n),t[h]&&(a[h].x=t[h].x,a[h].index=h)}),o.setData(a,!1))}),t}getProcessedData(t){let c,u,m,f,y,e=this,{dataTable:i,isCartesian:s,options:o,xAxis:r}=e,a=o.cropThreshold,n=t||e.getExtremesFromAll,h=r?.logarithmic,p=i.rowCount,g=0,x=e.getColumn("x"),b=i,v=!1;return r&&(f=(m=r.getExtremes()).min,y=m.max,v=!(!r.categories||r.names.length),s&&e.sorted&&!n&&(!a||p>a||e.forceCrop)&&(x[p-1]<f||x[0]>y?b=new ps:e.getColumn(e.pointValKey||"y").length&&(x[0]<f||x[p-1]>y)&&(b=(c=this.cropData(i,f,y)).modified,g=c.start,u=!0))),x=b.getColumn("x")||[],{modified:b,cropped:u,cropStart:g,closestPointRange:cd([h?x.map(h.log2lin):x],()=>e.requireSorting&&!v&&gs(15,!1,e.chart))}}processData(t){let i=this.dataTable;if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!t)return!1;let s=this.getProcessedData();i.modified=s.modified,this.cropped=s.cropped,this.cropStart=s.cropStart,this.closestPointRange=this.basePointRange=s.closestPointRange,dt(this,"afterProcessData")}cropData(t,e,i){let a,n,s=t.getColumn("x",!0)||[],o=s.length,r={},h=0,p=o;for(a=0;a<o;a++)if(s[a]>=e){h=Math.max(0,a-1);break}for(n=a;n<o;n++)if(s[n]>i){p=n+1;break}for(let c of this.dataColumnKeys()){let u=t.getColumn(c,!0);u&&(r[c]=u.slice(h,p))}return{modified:new ps({columns:r}),start:h,end:p}}generatePoints(){let f,y,x,b,k,t=this.options,e=this.processedData||t.data,i=this.dataTable.modified,s=this.getColumn("x",!0),o=this.pointClass,r=i.rowCount,a=this.cropStart||0,n=this.hasGroupedData,h=t.keys,p=[],c=t.dataGrouping?.groupAll?a:0,u=this.xAxis?.categories,g=this.pointArrayMap||["y"],m=this.dataColumnKeys(),v=this.data;if(!v&&!n){let S=[];S.length=e?.length||0,v=this.data=S}for(h&&n&&(this.options.keys=!1),b=0;b<r;b++)y=a+b,n?((x=new o(this,i.getRow(b,m)||[])).dataGroup=this.groupMap[c+b],x.dataGroup?.options&&(x.options=x.dataGroup.options,_e(x,x.dataGroup.options),delete x.dataLabels)):(x=v[y],k=e?e[y]:i.getRow(b,g),x||void 0===k||(v[y]=x=new o(this,k,s[b]))),x&&(x.index=n?c+b:y,p[b]=x,x.category=u?.[x.x]??x.x,x.key=x.name??x.category);if(this.options.keys=h,v&&(r!==(f=v.length)||n))for(b=0;b<f;b++)b!==a||n||(b+=r),v[b]&&(v[b].destroyElements(),v[b].plotX=void 0);this.data=v,this.points=p,dt(this,"afterGeneratePoints")}getXExtremes(t){return{min:pa(t),max:wo(t)}}getExtremes(t,e){let f,y,x,{xAxis:i,yAxis:s}=this,o=e||this.getExtremesFromAll||this.options.getExtremesFromAll,r=o&&this.cropped?this.dataTable:this.dataTable.modified,a=r.rowCount,n=t||this.stackedYData,h=n?[n]:(this.keysAffectYAxis||this.pointArrayMap||["y"])?.map(S=>r.getColumn(S,!0)||[])||[],p=this.getColumn("x",!0),c=[],u=this.requireSorting&&!this.is("column")?1:0,g=!!s&&s.positiveValuesOnly,m=o||this.cropped||!i,b=0,v=0;for(i&&(b=(f=i.getExtremes()).min,v=f.max),x=0;x<a;x++)if(y=p[x],m||(p[x+u]||y)>=b&&(p[x-u]||y)<=v)for(let S of h){let C=S[x];bt(C)&&(C>0||!g)&&c.push(C)}let k={activeYData:c,dataMin:pa(c),dataMax:wo(c)};return dt(this,"afterGetExtremes",{dataExtremes:k}),k}applyExtremes(){let t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t}getFirstValidPoint(t,e=0,i=1){let s=t.length,o=e;for(;o>=0&&o<s;){if(mt(t[o]))return t[o];o+=i}}translate(){this.generatePoints();let g,m,f,y,t=this.options,e=t.stacking,i=this.xAxis,s=this.enabledDataSorting,o=this.yAxis,r=this.points,a=r.length,n=this.pointPlacementToXValue(),h=!!n,p=t.threshold,c=t.startFromThreshold?p:0,u=t?.nullInteraction&&o.len,x=Number.MAX_VALUE;function b(v){return ua(v,-1e9,1e9)}for(g=0;g<a;g++){let v,C,w,k=r[g],S=k.x,M=k.y,E=k.low,L=e&&o.stacking?.stacks[(this.negStacks&&M<(c?0:p)?"-":"")+this.stackKey];k.plotX=bt(m=i.translate(S,!1,!1,!1,!0,n))?ga(b(m)):void 0,e&&this.visible&&L&&L[S]&&(y=this.getStackIndicator(y,S,this.index),!k.isNull&&y.key&&(w=(C=L[S]).points[y.key]),C&&ya(w)&&(E=w[0],M=w[1],E===c&&y.key===L[S].base&&(E=ct(bt(p)?p:o.min)),o.positiveValuesOnly&&mt(E)&&E<=0&&(E=void 0),k.total=k.stackTotal=ct(C.total),k.percentage=mt(k.y)&&C.total?k.y/C.total*100:void 0,k.stackY=M,this.irregularWidths||C.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),k.yBottom=mt(E)?b(o.translate(E,!1,!0,!1,!0)):void 0,this.dataModify&&(M=this.dataModify.modifyValue(M,g)),bt(M)&&void 0!==k.plotX?v=bt(v=o.translate(M,!1,!0,!1,!0))?b(v):void 0:!bt(M)&&u&&(v=u),k.plotY=v,k.isInside=this.isPointInside(k),k.clientX=h?ga(i.translate(S,!1,!1,!1,!0,n)):m,k.negative=(k.y||0)<(p||0),k.isNull||!1===k.visible||(void 0!==f&&(x=Math.min(x,Math.abs(m-f))),f=m),k.zone=this.zones.length?k.getZone():void 0,!k.graphic&&this.group&&s&&(k.isNew=!0)}this.closestPointRangePx=x,dt(this,"afterTranslate")}getValidPoints(t,e,i){let s=this.chart;return(t||this.points||[]).filter(function(o){let{plotX:r,plotY:a}=o;return!(!i&&(o.isNull||!bt(a))||e&&!s.isInsidePlot(r,a,{inverted:s.inverted})||!1===o.visible)})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:t,group:e,markerGroup:i}=this,s=t.sharedClips,o=t.renderer,r=t.getClipBox(this),a=this.getSharedClipKey(),n=s[a];n?n.animate(r):s[a]=n=o.clipRect(r),e&&e.clip(!1===this.options.clip?void 0:n),i&&i.clip()}animate(t){let{chart:e,group:i,markerGroup:s}=this,o=e.inverted,r=ca(this.options.animation),a=[this.getSharedClipKey(),r.duration,r.easing,r.defer].join(","),n=e.sharedClips[a],h=e.sharedClips[a+"m"];if(t&&i){let p=e.getClipBox(this);n?n.attr("height",p.height):(p.width=0,o&&(p.x=e.plotHeight),n=e.renderer.clipRect(p),e.sharedClips[a]=n,h=e.renderer.clipRect({x:-99,y:-99,width:o?e.plotWidth+199:99,height:o?99:e.plotHeight+199}),e.sharedClips[a+"m"]=h),i.clip(n),s?.clip(h)}else if(n&&!n.hasClass("highcharts-animating")){let p=e.getClipBox(this),c=r.step;(s?.element.childNodes.length||e.series.length>1)&&(r.step=function(u,g){c&&c.apply(g,arguments),"width"===g.prop&&h?.element&&h.attr(o?"height":"width",u+99)}),n.addClass("highcharts-animating").animate(p,r)}}afterAnimate(){this.setClip(),Co(this.chart.sharedClips,(t,e,i)=>{t&&!this.chart.container.querySelector(`[clip-path="url(#${t.id})"]`)&&(t.destroy(),delete i[e])}),this.finishedAnimating=!0,dt(this,"afterAnimate")}drawPoints(t=this.points){let e,i,s,o,r,a,n,h=this.chart,p=h.styledMode,{colorAxis:c,options:u}=this,g=u.marker,m=u.nullInteraction,f=this[this.specialGroup||"markerGroup"],y=this.xAxis,x=ct(g.enabled,!y||!!y.isRadial||null,this.closestPointRangePx>=g.enabledThreshold*g.radius);if(!1!==g.enabled||this._hasPointMarkers)for(e=0;e<t.length;e++){o=(s=(i=t[e]).graphic)?"animate":"attr",r=i.marker||{},a=!!i.marker;let b=i.isNull;if(!(x&&!mt(r.enabled)||r.enabled)||b&&!m||!1===i.visible)s&&(i.graphic=s.destroy());else{let v=ct(r.symbol,this.symbol,"rect");n=this.markerAttribs(i,i.selected&&"select"),this.enabledDataSorting&&(i.startXPos=y.reversed?-(n.width||0):y.width);let k=!1!==i.isInside;if(!s&&k&&((n.width||0)>0||i.hasImage)&&(i.graphic=s=h.renderer.symbol(v,n.x,n.y,n.width,n.height,a?r:g).add(f),this.enabledDataSorting&&h.hasRendered&&(s.attr({x:i.startXPos}),o="animate")),s&&"animate"===o&&s[k?"show":"hide"](k).animate(n),s){let S=this.pointAttribs(i,p||!i.selected?void 0:"select");p?c&&s.css({fill:S.fill}):s[o](S)}s&&s.addClass(i.getClassName(),!0)}}}markerAttribs(t,e){let n,h,i=this.options,s=i.marker,o=t.marker||{},r=o.symbol||s.symbol,a={},p=ct(o.radius,s?.radius);e&&(n=s.states[e],h=o.states&&o.states[e],p=ct(h?.radius,n?.radius,p&&p+(n?.radiusPlus||0))),t.hasImage=r&&0===r.indexOf("url"),t.hasImage&&(p=0);let c=t.pos();return bt(p)&&c&&(i.crisp&&(c[0]=nd(c[0],t.hasImage?0:"rect"===r?s?.lineWidth||0:1)),a.x=c[0]-p,a.y=c[1]-p),p&&(a.width=a.height=2*p),a}pointAttribs(t,e){let p,c,g,m,i=this.options,s=i.marker,o=t?.options,r=o?.marker||{},a=o?.color,n=t?.color,h=t?.zone?.color,u=this.color,f=ct(r.lineWidth,s.lineWidth),y=t?.isNull&&i.nullInteraction?0:1;return u=a||h||n||u,g=r.fillColor||s.fillColor||u,m=r.lineColor||s.lineColor||u,p=s.states[e=e||"normal"]||{},f=ct((c=r.states&&r.states[e]||{}).lineWidth,p.lineWidth,f+ct(c.lineWidthPlus,p.lineWidthPlus,0)),g=c.fillColor||p.fillColor||g,m=c.lineColor||p.lineColor||m,{stroke:m,"stroke-width":f,fill:g,opacity:y=ct(c.opacity,p.opacity,y)}}destroy(t){let e,i,s=this,o=s.chart,r=/AppleWebKit\/533/.test(rd.navigator.userAgent),a=s.data||[];for(dt(s,"destroy",{keepEventsForUpdate:t}),this.removeEvents(t),(s.axisTypes||[]).forEach(function(n){i=s[n],i?.series&&(ma(i.series,s),i.isDirty=i.forceRedraw=!0)}),s.legendItem&&s.chart.legend.destroyItem(s),e=a.length;e--;)a[e]?.destroy?.();for(let n of s.zones)ld(n,void 0,!0);G.clearTimeout(s.animationTimeout),Co(s,function(n,h){n instanceof Xt&&!n.survive&&n[r&&"group"===h?"hide":"destroy"]()}),o.hoverSeries===s&&(o.hoverSeries=void 0),ma(o.series,s),o.orderItems("series"),Co(s,function(n,h){t&&"hcEvents"===h||delete s[h]})}applyZones(){let{area:t,chart:e,graph:i,zones:s,points:o,xAxis:r,yAxis:a,zoneAxis:n}=this,{inverted:h,renderer:p}=e,c=this[`${n}Axis`],{isXAxis:u,len:g=0,minPointOffset:m=0}=c||{},f=(i?.strokeWidth()||0)/2+1,y=(x,b=0,v=0)=>{h&&(v=g-v);let{translated:k=0,lineClip:S}=x,C=v-k;S?.push(["L",b,Math.abs(C)<f?v-f*(C<=0?-1:1):k])};if(s.length&&(i||t)&&c&&bt(c.min)){let x=c.getExtremes().max+m,b=S=>{S.forEach((C,w)=>{("M"===C[0]||"L"===C[0])&&(S[w]=[C[0],u?g-C[1]:C[1],u?C[2]:g-C[2]])})};if(s.forEach(S=>{S.lineClip=[],S.translated=ua(c.toPixels(ct(S.value,x),!0)||0,0,g)}),i&&!this.showLine&&i.hide(),t&&t.hide(),"y"===n&&o.length<r.len)for(let S of o){let{plotX:C,plotY:w,zone:M}=S,E=M&&s[s.indexOf(M)-1];M&&y(M,C,w),E&&y(E,C,w)}let v=[],k=c.toPixels(c.getExtremes().min-m,!0);s.forEach(S=>{let C=S.lineClip||[],w=Math.round(S.translated||0);r.reversed&&C.reverse();let{clip:M,simpleClip:E}=S,L=0,O=0,D=r.len,j=a.len;u?(L=w,D=k):(O=w,j=k);let z=[["M",L,O],["L",D,O],["L",D,j],["L",L,j],["Z"]],R=[z[0],...C,z[1],z[2],...v,z[3],z[4]];v=C.reverse(),k=w,h&&(b(R),t&&b(z)),M?(M.animate({d:R}),E?.animate({d:z})):(M=S.clip=p.path(R),t&&(E=S.simpleClip=p.path(z))),i&&S.graph?.clip(M),t&&S.area?.clip(E)})}else this.visible&&(i&&i.show(),t&&t.show())}plotGroup(t,e,i,s,o){let r=this[t],a=!r,n={visibility:i,zIndex:s||.1};return mt(this.opacity)&&!this.chart.styledMode&&"inactive"!==this.state&&(n.opacity=this.opacity),r||(this[t]=r=this.chart.renderer.g().add(o)),r.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(mt(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(r.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),r.attr(n)[a?"attr":"animate"](this.getPlotBox(e)),r}getPlotBox(t){let e=this.xAxis,i=this.yAxis,s=this.chart,o=s.inverted&&!s.polar&&e&&this.invertible&&"series"===t;s.inverted&&(e=i,i=this.xAxis);let r={scale:1,translateX:e?e.left:s.plotLeft,translateY:i?i.top:s.plotTop,name:t};dt(this,"getPlotBox",r);let{scale:a,translateX:n,translateY:h}=r;return{translateX:n,translateY:h,rotation:90*!!o,rotationOriginX:o?a*(e.len-i.len)/2:0,rotationOriginY:o?a*(e.len+i.len)/2:0,scaleX:o?-a:a,scaleY:a}}removeEvents(t){let{eventsToUnbind:e}=this;t||ud(this),e.length&&(e.forEach(i=>{i()}),e.length=0)}render(){let t=this,{chart:e,options:i,hasRendered:s}=t,o=ca(i.animation),r=t.visible?"inherit":"hidden",a=i.zIndex,n=e.seriesGroup,h=t.finishedAnimating?0:o.duration;dt(this,"render"),t.plotGroup("group","series",r,a,n),t.markerGroup=t.plotGroup("markerGroup","markers",r,a,n),!1!==i.clip&&t.setClip(),h&&t.animate?.(!0),t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels?.(),t.redrawPoints?.(),i.enableMouseTracking&&t.drawTracker?.(),h&&t.animate?.(),s||(h&&o.defer&&(h+=o.defer),t.animationTimeout=ba(()=>{t.afterAnimate()},h||0)),t.isDirty=!1,t.hasRendered=!0,dt(t,"afterRender")}redraw(){let t=this.isDirty||this.isDirtyData;this.translate(),this.render(),t&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(t,e){let{xAxis:i,yAxis:s}=this,o=this.chart.inverted;return this.searchKDTree({clientX:o?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:o?s.len-t.chartX+s.pos:t.chartY-s.pos},e,t)}buildKDTree(t){this.buildingKdTree=!0;let e=this,i=e.options,s=i.findNearestPointBy.indexOf("y")>-1?2:1;delete e.kdTree,ba(function(){e.kdTree=function o(r,a,n){let h,p,c=r?.length;if(c)return h=e.kdAxisArray[a%n],r.sort((u,g)=>(u[h]||0)-(g[h]||0)),{point:r[p=Math.floor(c/2)],left:o(r.slice(0,p),a+1,n),right:o(r.slice(p+1),a+1,n)}}(e.getValidPoints(void 0,!e.directTouch,i?.nullInteraction),s,s),e.buildingKdTree=!1},i.kdNow||"touchstart"===t?.type?0:1)}searchKDTree(t,e,i,s,o){let r=this,[a,n]=this.kdAxisArray,h=e?"distX":"dist",p=(r.options.findNearestPointBy||"").indexOf("y")>-1?2:1,c=!!r.isBubble,u=s||((m,f,y)=>{let x=m[y]||0,b=f[y]||0;return[x===b&&m.index>f.index||x<b?m:f,!1]}),g=o||((m,f)=>m<f);if(this.kdTree||this.buildingKdTree||this.buildKDTree(i),this.kdTree)return function m(f,y,x,b){let v=y.point,k=r.kdAxisArray[x%b],S=v,C=!1;!function(L,O){let D=L[a],j=O[a],z=mt(D)&&mt(j)?D-j:null,R=L[n],N=O[n],B=mt(R)&&mt(N)?R-N:0,tt=c&&O.marker?.radius||0;O.dist=Math.sqrt((z&&z*z||0)+B*B)-tt,O.distX=mt(z)?Math.abs(z)-tt:Number.MAX_VALUE}(f,v);let w=(f[k]||0)-(v[k]||0)+(c&&v.marker?.radius||0),M=w<0?"left":"right",E=w<0?"right":"left";return y[M]&&([S,C]=u(v,m(f,y[M],x+1,b),h)),y[E]&&g(Math.sqrt(w*w),S[h],C)&&(S=u(S,m(f,y[E],x+1,b),h)[0]),S}(t,this.kdTree,p,p)}pointPlacementToXValue(){let{options:t,xAxis:e}=this,i=t.pointPlacement;return"between"===i&&(i=e.reversed?-.5:.5),bt(i)?i*(t.pointRange||e.pointRange):0}isPointInside(t){let{chart:e,xAxis:i,yAxis:s}=this,{plotX:o=-1,plotY:r=-1}=t;return r>=0&&r<=(s?s.len:e.plotHeight)&&o>=0&&o<=(i?i.len:e.plotWidth)}drawTracker(){let t=this,e=t.options,i=e.trackByArea,s=[].concat((i?t.areaPath:t.graphPath)||[]),o=t.chart,r=o.pointer,a=o.renderer,n=o.options.tooltip?.snap||0,h=()=>{e.enableMouseTracking&&o.hoverSeries!==t&&t.onMouseOver()},p="rgba(192,192,192,"+(od?1e-4:.002)+")",c=t.tracker;c?c.attr({d:s}):t.graph&&(t.tracker=c=a.path(s).attr({visibility:t.visible?"inherit":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),o.styledMode||c.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:p,fill:i?p:"none","stroke-width":t.graph.strokeWidth()+(i?0:2*n)}),[t.tracker,t.markerGroup,t.dataLabelsGroup].forEach(u=>{u&&(u.addClass("highcharts-tracker").on("mouseover",h).on("mouseout",g=>{r?.onTrackerMouseOut(g)}),e.cursor&&!o.styledMode&&u.css({cursor:e.cursor}),u.on("touchstart",h))})),dt(this,"afterDrawTracker")}addPoint(t,e,i,s,o){let r,a,n=this.options,{chart:h,data:p,dataTable:c,xAxis:u}=this,g=u?.hasNames&&u.names,m=n.data,f=this.getColumn("x");e=ct(e,!0);let y={series:this};this.pointClass.prototype.applyOptions.apply(y,[t]);let x=y.x;if(a=f.length,this.requireSorting&&x<f[a-1])for(r=!0;a&&f[a-1]>x;)a--;c.setRow(y,a,!0,{addColumns:!1}),g&&y.name&&(g[x]=y.name),m?.splice(a,0,t),(r||this.processedData)&&(this.data.splice(a,0,null),this.processData()),"point"===n.legendType&&this.generatePoints(),i&&(p[0]&&p[0].remove?p[0].remove(!1):([p,m].filter(mt).forEach(b=>{b.shift()}),c.deleteRows(0))),!1!==o&&dt(this,"addPoint",{point:y}),this.isDirty=!0,this.isDirtyData=!0,e&&h.redraw(s)}removePoint(t,e,i){let s=this,{chart:o,data:r,points:a,dataTable:n}=s,h=r[t],p=function(){[a?.length===r.length?a:void 0,r,s.options.data].filter(mt).forEach(c=>{c.splice(t,1)}),n.deleteRows(t),h?.destroy(),s.isDirty=!0,s.isDirtyData=!0,e&&o.redraw()};id(i,o),e=ct(e,!0),h?h.firePointEvent("remove",null,p):p()}remove(t,e,i,s){let o=this,r=o.chart;function a(){o.destroy(s),r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(s),ct(t,!0)&&r.redraw(e)}!1!==i?dt(o,"remove",null,a):a()}update(t,e){dt(this,"update",{options:t=hd(t,this.userOptions)});let c,u,i=this,s=i.chart,o=i.userOptions,r=i.initialType||i.type,a=s.options.plotOptions,n=Xe[r].prototype,h=i.finishedAnimating&&{animation:!1},p={},g=It.keepProps.slice(),m=t.type||o.type||s.options.chart.type,f=!(this.hasDerivedData||m&&m!==this.type||void 0!==t.keys||void 0!==t.pointStart||void 0!==t.pointInterval||void 0!==t.relativeXValue||t.joinBy||t.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(x=>i.hasOptionChanged(x)));m=m||r,f?(g.push.apply(g,It.keepPropsForPoints),!1!==t.visible&&g.push("area","graph"),i.parallelArrays.forEach(function(x){g.push(x+"Data")}),t.data&&(t.dataSorting&&_e(i.options.dataSorting,t.dataSorting),this.setData(t.data,!1))):this.dataTable.modified=this.dataTable,t=yi(o,{index:void 0===o.index?i.index:o.index,pointStart:a?.series?.pointStart??o.pointStart??i.getColumn("x")[0]},!f&&{data:i.options.data},t,h),f&&t.data&&(t.data=i.options.data),(g=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(g)).forEach(function(x){g[x]=i[x],delete i[x]});let y=!1;if(Xe[m]){if(y=m!==i.type,i.remove(!1,!1,!1,!0),y)if(s.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(i,Xe[m].prototype);else{let x=Object.hasOwnProperty.call(i,"hcEvents")&&i.hcEvents;for(u in n)i[u]=void 0;_e(i,Xe[m].prototype),x?i.hcEvents=x:delete i.hcEvents}}else gs(17,!0,s,{missingModuleFor:m});if(g.forEach(function(x){i[x]=g[x]}),i.init(s,t),f&&this.points)for(let x of(!1===(c=i.options).visible?(p.graphic=1,p.dataLabel=1):(this.hasMarkerChanged(c,o)&&(p.graphic=1),i.hasDataLabels?.()||(p.dataLabel=1)),this.points))x?.series&&(x.resolveColor(),Object.keys(p).length&&x.destroyElements(p),!1===c.showInLegend&&x.legendItem&&s.legend.destroyItem(x));i.initialType=r,s.linkSeries(),s.setSortedData(),y&&i.linkedSeries.length&&(i.isDirtyData=!0),dt(this,"afterUpdate"),ct(e,!0)&&s.redraw(!!f&&void 0)}setName(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}hasOptionChanged(t){let i=this.options[t],s=this.chart.options.plotOptions,o=this.userOptions[t],r=ct(s?.[this.type]?.[t],s?.series?.[t]);return o&&!mt(r)?i!==o:i!==ct(r,i)}onMouseOver(){let t=this.chart,e=t.hoverSeries;t.pointer?.setHoverChartIndex(),e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&dt(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this}onMouseOut(){let t=this.options,e=this.chart,i=e.tooltip,s=e.hoverPoint;e.hoverSeries=null,s&&s.onMouseOut(),this&&t.events.mouseOut&&dt(this,"mouseOut"),i&&!this.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),e.series.forEach(function(o){o.setState("",!0)})}setState(t,e){let i=this,s=i.options,o=i.graph,r=s.inactiveOtherPoints,a=s.states,n=ct(a[t||"normal"]&&a[t||"normal"].animation,i.chart.options.chart.animation),h=s.lineWidth,p=s.opacity;if(i.state!==(t=t||"")&&([i.group,i.markerGroup,i.dataLabelsGroup].forEach(function(c){c&&(i.state&&c.removeClass("highcharts-series-"+i.state),t&&c.addClass("highcharts-series-"+t))}),i.state=t,!i.chart.styledMode)){if(a[t]&&!1===a[t].enabled)return;if(t&&(h=a[t].lineWidth||h+(a[t].lineWidthPlus||0),p=ct(a[t].opacity,p)),o&&!o.dashstyle&&bt(h))for(let c of[o,...this.zones.map(u=>u.graph)])c?.animate({"stroke-width":h},n);r||[i.group,i.markerGroup,i.dataLabelsGroup,i.labelBySeries].forEach(function(c){c&&c.animate({opacity:p},n)})}e&&r&&i.points&&i.setAllPointsToState(t||void 0)}setAllPointsToState(t){this.points.forEach(function(e){e.setState&&e.setState(t)})}setVisible(t,e){let i=this,s=i.chart,o=s.options.chart.ignoreHiddenSeries;i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!i.visible:t;let a=t?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(n=>{i[n]?.[a]()}),(s.hoverSeries===i||s.hoverPoint?.series===i)&&i.onMouseOut(),i.legendItem&&s.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&s.series.forEach(n=>{n.options.stacking&&n.visible&&(n.isDirty=!0)}),i.linkedSeries.forEach(n=>{n.setVisible(t,!1)}),o&&(s.isDirtyBox=!0),dt(i,a),!1!==e&&s.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(t){this.selected=t=this.options.selected=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),dt(this,t?"select":"unselect")}shouldShowTooltip(t,e,i={}){return i.series=this,i.visiblePlotOnly=!0,this.chart.isInsidePlot(t,e,i)}drawLegendSymbol(t,e){ha[this.options.legendSymbol||"rectangle"]?.call(this,t,e)}}It.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:l}=this.series.chart;return"number"!=typeof this.y?"":l(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},It.types=gt.seriesTypes,It.registerType=gt.registerSeriesType,It.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],It.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],_e(It.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:re,requireSorting:!0,sorted:!0}),gt.series=It;let Tt=It,{animObject:gd,setAnimation:md}=vt,{registerEventOptions:va}=Qi,{composed:fd,marginNames:ka}=I,{distribute:xd}=_i,{format:yd}=Ot,{addEvent:ms,createElement:bd,css:vd,defined:Mo,discardElement:kd,find:wd,fireEvent:Jt,isNumber:wa,merge:Se,pick:Nt,pushUnique:Cd,relativeLength:Md,stableSort:Sd,syncTimeout:Pd}=G;class So{constructor(t,e){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=t,this.setOptions(e),e.enabled&&(this.render(),va(this,e),ms(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),ms(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(t){let e=Nt(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=Se(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop,this.itemMarginBottom=t.itemMarginBottom,this.padding=e,this.initialItemY=e-5,this.symbolWidth=Nt(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted,this.baseline=void 0}update(t,e){let i=this.chart;this.setOptions(Se(!0,this.options,t)),"events"in this.options&&va(this,this.options),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,Nt(e,!0)&&i.redraw(),Jt(this,"afterUpdate",{redraw:e})}colorizeItem(t,e){let i=t.color,{area:s,group:o,label:r,line:a,symbol:n}=t.legendItem||{};if((t instanceof Tt||t instanceof re)&&(t.color=t.options?.legendSymbolColor||i),o?.[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:h={}}=this,p=h.color,{fillColor:c,fillOpacity:u,lineColor:g,marker:m}=t.options,f=y=>(!e&&(y.fill&&(y.fill=p),y.stroke&&(y.stroke=p)),y);r?.css(Se(e?this.itemStyle:h)),a?.attr(f({stroke:g||t.color})),n&&n.attr(f(m&&n.isMarker?t.pointAttribs():{fill:t.color})),s?.attr(f({fill:c||t.color,"fill-opacity":c?1:u??.75}))}t.color=i,Jt(this,"afterColorizeItem",{item:t,visible:e})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(t){let{group:e,x:i=0,y:s=0}=t.legendItem||{},o=this.options,r=o.symbolPadding,a=!o.rtl,n=t.checkbox;if(e?.element){let h={translateX:a?i:this.legendWidth-i-2*r-4,translateY:s};e[Mo(e.translateY)?"animate":"attr"](h,void 0,()=>{Jt(this,"afterPositionItem",{item:t})})}n&&(n.x=i,n.y=s)}destroyItem(t){let e=t.legendItem||{};for(let i of["group","label","line","symbol"])e[i]&&(e[i]=e[i].destroy());t.checkbox=kd(t.checkbox),t.legendItem=void 0}destroy(){for(let t of this.getAllItems())this.destroyItem(t);for(let t of["clipRect","up","down","pager","nav","box","title","group"])this[t]&&(this[t]=this[t].destroy());this.display=null}positionCheckboxes(){let t,e=this.group?.alignAttr,i=this.clipHeight||this.legendHeight,s=this.titleHeight;e&&(t=e.translateY,this.allItems.forEach(function(o){let r,a=o.checkbox;a&&(r=t+s+a.y+(this.scrollOffset||0)+3,vd(a,{left:e.translateX+o.checkboxOffset+a.x-20+"px",top:r+"px",display:this.proximate||r>t-6&&r<t+i-6?"":"none"}))},this))}renderTitle(){let s,t=this.options,e=this.padding,i=t.title,o=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,void 0,void 0,void 0,t.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(i.style),this.title.add(this.group)),i.width||this.title.css({width:this.maxLegendWidth+"px"}),o=(s=this.title.getBBox()).height,this.offsetWidth=s.width,this.contentGroup.attr({translateY:o})),this.titleHeight=o}setText(t){let e=this.options;t.legendItem.label.attr({text:e.labelFormat?yd(e.labelFormat,t,this.chart):e.labelFormatter.call(t)})}renderItem(t){let e=t.legendItem=t.legendItem||{},i=this.chart,s=i.renderer,o=this.options,a=this.symbolWidth,n=o.symbolPadding||0,h=this.itemStyle,p=this.itemHiddenStyle,c="horizontal"===o.layout?Nt(o.itemDistance,20):0,u=!o.rtl,g=!t.series,m=!g&&t.series.drawLegendSymbol?t.series:t,f=m.options,y=!!this.createCheckboxForItem&&f&&f.showCheckbox,x=o.useHTML,b=t.options.className,v=e.label,k=a+n+c+20*!!y;!v&&(e.group=s.g("legend-item").addClass("highcharts-"+m.type+"-series highcharts-color-"+t.colorIndex+(b?" "+b:"")+(g?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),e.label=v=s.text("",u?a+n:-n,this.baseline||0,x),i.styledMode||v.css(Se(t.visible?h:p)),v.attr({align:u?"left":"right",zIndex:2}).add(e.group),!this.baseline&&(this.fontMetrics=s.fontMetrics(v),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,v.attr("y",this.baseline),this.symbolHeight=Nt(o.symbolHeight,this.fontMetrics.f),o.squareSymbol&&(this.symbolWidth=Nt(o.symbolWidth,Math.max(this.symbolHeight,16)),k=this.symbolWidth+n+c+20*!!y,u&&v.attr("x",this.symbolWidth+n))),m.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,v,x)),y&&!t.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),(i.styledMode||!h.width)&&v.css({width:(o.itemWidth||this.widthOption||i.spacingBox.width)-k+"px"}),this.setText(t);let S=v.getBBox(),C=this.fontMetrics?.h||0;t.itemWidth=t.checkboxOffset=o.itemWidth||e.labelWidth||S.width+k,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(e.labelHeight||(S.height>1.5*C?S.height:C))}layoutItem(t){let e=this.options,i=this.padding,s="horizontal"===e.layout,o=t.itemHeight,r=this.itemMarginBottom,a=this.itemMarginTop,n=s?Nt(e.itemDistance,20):0,h=this.maxLegendWidth,p=e.alignColumns&&this.totalItemWidth>h?this.maxItemWidth:t.itemWidth,c=t.legendItem||{};s&&this.itemX-i+p>h&&(this.itemX=i,this.lastLineHeight&&(this.itemY+=a+this.lastLineHeight+r),this.lastLineHeight=0),this.lastItemY=a+this.itemY+r,this.lastLineHeight=Math.max(o,this.lastLineHeight),c.x=this.itemX,c.y=this.itemY,s?this.itemX+=p:(this.itemY+=a+o+r,this.lastLineHeight=o),this.offsetWidth=this.widthOption||Math.max((s?this.itemX-i-(t.checkbox?0:n):p)+i,this.offsetWidth)}getAllItems(){let t=[];return this.chart.series.forEach(function(e){let i=e?.options;e&&Nt(i.showInLegend,!Mo(i.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItem?.labels||("point"===i.legendType?e.data:e)))}),Jt(this,"afterGetAllItems",{allItems:t}),t}getAlignment(){let t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)}adjustMargins(t,e){let i=this.chart,s=this.options,o=this.getAlignment();o&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((r,a)=>{r.test(o)&&!Mo(t[a])&&(i[ka[a]]=Math.max(i[ka[a]],i.legend[(a+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][a]*s[a%2?"x":"y"]+(s.margin??12)+e[a]+(i.titleOffset[a]||0)))})}proximatePositions(){let t,e=this.chart,i=[],s="left"===this.options.align;for(let o of(this.allItems.forEach(function(r){let a,n,p,c,h=s;r.yAxis&&(r.xAxis.options.reversed&&(h=!h),r.points&&(a=wd(h?r.points:r.points.slice(0).reverse(),function(u){return wa(u.plotY)})),n=this.itemMarginTop+r.legendItem.label.getBBox().height+this.itemMarginBottom,c=r.yAxis.top-e.plotTop,p=r.visible?(a?a.plotY:r.yAxis.height)+(c-.3*n):c+r.yAxis.height,i.push({target:p,size:n,item:r}))},this),xd(i,e.plotHeight)))t=o.item.legendItem||{},wa(o.pos)&&(t.y=e.plotTop-e.spacing[0]+o.pos)}render(){let r,a,n,p,t=this.chart,e=t.renderer,i=this.options,s=this.padding,o=this.getAllItems(),h=this.group,c=this.box;this.itemX=s,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=Md(i.width,t.spacingBox.width-s),p=t.spacingBox.width-2*s-i.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(p/=2),this.maxLegendWidth=this.widthOption||p,h||(this.group=h=e.g("legend").addClass(i.className||"").attr({zIndex:7}).add(),this.contentGroup=e.g().attr({zIndex:1}).add(h),this.scrollGroup=e.g().add(this.contentGroup)),this.renderTitle(),Sd(o,(u,g)=>(u.options?.legendIndex||0)-(g.options?.legendIndex||0)),i.reversed&&o.reverse(),this.allItems=o,this.display=r=!!o.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,o.forEach(this.renderItem,this),o.forEach(this.layoutItem,this),a=(this.widthOption||this.offsetWidth)+s,n=this.lastItemY+this.lastLineHeight+this.titleHeight,n=this.handleOverflow(n)+s,c||(this.box=c=e.rect().addClass("highcharts-legend-box").attr({r:i.borderRadius}).add(h)),t.styledMode||c.attr({stroke:i.borderColor,"stroke-width":i.borderWidth||0,fill:i.backgroundColor||"none"}).shadow(i.shadow),a>0&&n>0&&c[c.placed?"animate":"attr"](c.crisp.call({},{x:0,y:0,width:a,height:n},c.strokeWidth())),h[r?"show":"hide"](),t.styledMode&&"none"===h.getStyle("display")&&(a=n=0),this.legendWidth=a,this.legendHeight=n,r&&this.align(),this.proximate||this.positionItems(),Jt(this,"afterRender")}align(t=this.chart.spacingBox){let e=this.chart,i=this.options,s=t.y;/(lth|ct|rth)/.test(this.getAlignment())&&e.titleOffset[0]>0?s+=e.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&e.titleOffset[2]>0&&(s-=e.titleOffset[2]),s!==t.y&&(t=Se(t,{y:s})),e.hasRendered||(this.group.placed=!1),this.group.align(Se(i,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":i.verticalAlign}),!0,t)}handleOverflow(t){let x,b,v,k,e=this,i=this.chart,s=i.renderer,o=this.options,r=o.y,a="top"===o.verticalAlign,n=this.padding,h=o.maxHeight,p=o.navigation,c=Nt(p.animation,!0),u=p.arrowSize||12,g=this.pages,m=this.allItems,f=function(M){"number"==typeof M?w.attr({height:M}):w&&(e.clipRect=w.destroy(),e.contentGroup.clip()),e.contentGroup.div&&(e.contentGroup.div.style.clip=M?"rect("+n+"px,9999px,"+(n+M)+"px,0)":"auto")},y=function(M){return e[M]=s.circle(0,0,1.3*u).translate(u/2,u/2).add(C),i.styledMode||e[M].attr("fill","rgba(0,0,0,0.0001)"),e[M]},S=i.spacingBox.height+(a?-r:r)-n,C=this.nav,w=this.clipRect;return"horizontal"!==o.layout||"middle"===o.verticalAlign||o.floating||(S/=2),h&&(S=Math.min(S,h)),g.length=0,t&&S>0&&t>S&&!1!==p.enabled?(this.clipHeight=x=Math.max(S-20-this.titleHeight-n,0),this.currentPage=Nt(this.currentPage,1),this.fullHeight=t,m.forEach((M,E)=>{let L=(v=M.legendItem||{}).y||0,O=Math.round(v.label.getBBox().height),D=g.length;(!D||L-g[D-1]>x&&(b||L)!==g[D-1])&&(g.push(b||L),D++),v.pageIx=D-1,b&&k&&(k.pageIx=D-1),E===m.length-1&&L+O-g[D-1]>x&&L>g[D-1]&&(g.push(L),v.pageIx=D),L!==b&&(b=L),k=v}),w||(w=e.clipRect=s.clipRect(0,n-2,9999,0),e.contentGroup.clip(w)),f(x),C||(this.nav=C=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,u,u).add(C),y("upTracker").on("click",function(){e.scroll(-1,c)}),this.pager=s.text("",15,10).addClass("highcharts-legend-navigation"),!i.styledMode&&p.style&&this.pager.css(p.style),this.pager.add(C),this.down=s.symbol("triangle-down",0,0,u,u).add(C),y("downTracker").on("click",function(){e.scroll(1,c)})),e.scroll(0),t=S):C&&(f(),this.nav=C.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t}scroll(t,e){let i=this.chart,s=this.pages,o=s.length,r=this.clipHeight,a=this.options.navigation,n=this.pager,h=this.padding,p=this.currentPage+t;p>o&&(p=o),p>0&&(void 0!==e&&md(e,i),this.nav.attr({translateX:h,translateY:r+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(c){c.attr({class:1===p?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),n.attr({text:p+"/"+o}),[this.down,this.downTracker].forEach(function(c){c.attr({x:18+this.pager.getBBox().width,class:p===o?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),i.styledMode||(this.up.attr({fill:1===p?a.inactiveColor:a.activeColor}),this.upTracker.css({cursor:1===p?"default":"pointer"}),this.down.attr({fill:p===o?a.inactiveColor:a.activeColor}),this.downTracker.css({cursor:p===o?"default":"pointer"})),this.scrollOffset=-s[p-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=p,this.positionCheckboxes(),Pd(()=>{Jt(this,"afterScroll",{currentPage:p})},gd(Nt(e,i.renderer.globalAnimation,!0)).duration))}setItemEvents(t,e,i){let s=this,o=t.legendItem||{},r=s.chart.renderer.boxWrapper,a=t instanceof re,n=t instanceof Tt,h="highcharts-legend-"+(a?"point":"series")+"-active",p=s.chart.styledMode,c=i?[e,o.symbol]:[o.group],u=g=>{s.allItems.forEach(m=>{t!==m&&[m].concat(m.linkedSeries||[]).forEach(f=>{f.setState(g,!a)})})};for(let g of c)g&&g.on("mouseover",function(){t.visible&&u("inactive"),t.setState("hover"),t.visible&&r.addClass(h),p||e.css(s.options.itemHoverStyle)}).on("mouseout",function(){s.chart.styledMode||e.css(Se(t.visible?s.itemStyle:s.itemHiddenStyle)),u(""),r.removeClass(h),t.setState()}).on("click",function(m){r.removeClass(h),Jt(s,"itemClick",{browserEvent:m,legendItem:t},function(){t.setVisible&&t.setVisible(),u(t.visible?"inactive":"")}),a?t.firePointEvent("legendItemClick",{browserEvent:m}):n&&Jt(t,"legendItemClick",{browserEvent:m})})}createCheckboxForItem(t){t.checkbox=bd("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),ms(t.checkbox,"click",function(e){Jt(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}!function(l){l.compose=function(t){Cd(fd,"Core.Legend")&&ms(t,"beforeMargins",function(){this.legend=new l(this,this.options.legend)})}}(So||(So={}));let Ca=So,{animate:Po,animObject:Td,setAnimation:To}=vt,{defaultOptions:Ao}=A,{numberFormat:Ad}=Ot,{registerEventOptions:Ma}=Qi,{charts:Pe,doc:bi,marginNames:Sa,svg:Ed,win:Pa}=I,{seriesTypes:Eo}=gt,{addEvent:Oo,attr:Ta,createElement:Lo,css:Dt,defined:ne,diffObjects:Aa,discardElement:Od,erase:Ld,error:Fo,extend:le,find:Io,fireEvent:Z,getAlignFactor:Fd,getStyle:No,isArray:Id,isNumber:Ye,isObject:Nd,isString:fs,merge:$t,objectEach:Do,pick:Ct,pInt:Dd,relativeLength:Ea,removeEvent:Oa,splat:xs,syncTimeout:Rd,uniqueKey:Bd}=G;class he{static chart(t,e,i){return new he(t,e,i)}constructor(t,e,i){this.sharedClips={};let s=[...arguments];(fs(t)||t.nodeName)&&(this.renderTo=s.shift()),this.init(s[0],s[1])}setZoomOptions(){let t=this.options.chart,e=t.zooming;this.zooming={...e,type:Ct(t.zoomType,e.type),key:Ct(t.zoomKey,e.key),pinchType:Ct(t.pinchType,e.pinchType),singleTouch:Ct(t.zoomBySingleTouch,e.singleTouch,!1),resetButton:$t(e.resetButton,t.resetZoomButton)}}init(t,e){Z(this,"init",{args:arguments},function(){let i=$t(Ao,t),s=i.chart,o=this.renderTo||s.renderTo;this.userOptions=le({},t),(this.renderTo=fs(o)?bi.getElementById(o):o)||Fo(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=e,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.locale=i.lang.locale??this.renderTo.closest("[lang]")?.lang,this.time=new li(le(i.time||{},{locale:this.locale}),i.lang),i.time=this.time.options,this.numberFormatter=(s.numberFormatter||Ad).bind(this),this.styledMode=s.styledMode,this.hasCartesianSeries=s.showAxes,this.index=Pe.length,Pe.push(this),I.chartCount++,Ma(this,s),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Z(this,"afterInit"),this.firstRender()})}initSeries(t){let i=t.type||this.options.chart.type,s=Eo[i];s||Fo(17,!0,this,{missingModuleFor:i});let o=new s;return"function"==typeof o.init&&o.init(this,t),o}setSortedData(){this.getSeriesOrderByLinks().forEach(function(t){t.points||t.data||!t.enabledDataSorting||t.setData(t.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(t,e){return t.linkedSeries.length||e.linkedSeries.length?e.linkedSeries.length-t.linkedSeries.length:0})}orderItems(t,e=0){let i=this[t],s=this.options[t]=xs(this.options[t]).slice(),o=this.userOptions[t]=this.userOptions[t]?xs(this.userOptions[t]).slice():[];if(this.hasRendered&&(s.splice(e),o.splice(e)),i)for(let r=e,a=i.length;r<a;++r){let n=i[r];n&&(n.index=r,n instanceof Tt&&(n.name=n.getName()),n.options.isInternal||(s[r]=n.options,o[r]=n.userOptions))}}getClipBox(t,e){let i=this.inverted,{xAxis:s,yAxis:o}=t||{},{x:r,y:a,width:n,height:h}=$t(this.clipBox);return t&&(s&&s.len!==this.plotSizeX&&(n=s.len),o&&o.len!==this.plotSizeY&&(h=o.len),i&&!t.invertible&&([n,h]=[h,n])),e&&(r+=(i?o:s)?.pos??this.plotLeft,a+=(i?s:o)?.pos??this.plotTop),{x:r,y:a,width:n,height:h}}isInsidePlot(t,e,i={}){let{inverted:s,plotBox:o,plotLeft:r,plotTop:a,scrollablePlotBox:n}=this,{scrollLeft:h=0,scrollTop:p=0}=i.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},c=i.series,u=i.visiblePlotOnly&&n||o,g=i.inverted?e:t,m=i.inverted?t:e,f={x:g,y:m,isInsidePlot:!0,options:i};if(!i.ignoreX){let y=c&&(s&&!this.polar?c.yAxis:c.xAxis)||{pos:r,len:1/0},x=i.paneCoordinates?y.pos+g:r+g;x>=Math.max(h+r,y.pos)&&x<=Math.min(h+r+u.width,y.pos+y.len)||(f.isInsidePlot=!1)}if(!i.ignoreY&&f.isInsidePlot){let y=!s&&i.axis&&!i.axis.isXAxis&&i.axis||c&&(s?c.xAxis:c.yAxis)||{pos:a,len:1/0},x=i.paneCoordinates?y.pos+m:a+m;x>=Math.max(p+a,y.pos)&&x<=Math.min(p+a+u.height,y.pos+y.len)||(f.isInsidePlot=!1)}return Z(this,"afterIsInsidePlot",f),f.isInsidePlot}redraw(t){Z(this,"beforeRedraw");let p,c,u,f,e=this.hasCartesianSeries?this.axes:this.colorAxis||[],i=this.series,s=this.pointer,o=this.legend,r=this.userOptions.legend,a=this.renderer,n=a.isHidden(),h=[],g=this.isDirtyBox,m=this.isDirtyLegend;for(a.rootFontSize=a.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),To(!!this.hasRendered&&t,this),n&&this.temporaryDisplay(),this.layOutTitles(!1),u=i.length;u--;)if(((f=i[u]).options.stacking||f.options.centerInCategory)&&(c=!0,f.isDirty)){p=!0;break}if(p)for(u=i.length;u--;)(f=i[u]).options.stacking&&(f.isDirty=!0);i.forEach(function(y){y.isDirty&&("point"===y.options.legendType?("function"==typeof y.updateTotals&&y.updateTotals(),m=!0):r&&(r.labelFormatter||r.labelFormat)&&(m=!0)),y.isDirtyData&&Z(y,"updatedData")}),m&&o&&o.options.enabled&&(o.render(),this.isDirtyLegend=!1),c&&this.getStacks(),e.forEach(function(y){y.updateNames(),y.setScale()}),this.getMargins(),e.forEach(function(y){y.isDirty&&(g=!0)}),e.forEach(function(y){let x=y.min+","+y.max;y.extKey!==x&&(y.extKey=x,h.push(function(){Z(y,"afterSetExtremes",le(y.eventArgs,y.getExtremes())),delete y.eventArgs})),(g||c)&&y.redraw()}),g&&this.drawChartBox(),Z(this,"predraw"),i.forEach(function(y){(g||y.isDirty)&&y.visible&&y.redraw(),y.isDirtyData=!1}),s&&s.reset(!0),a.draw(),Z(this,"redraw"),Z(this,"render"),n&&this.temporaryDisplay(!0),h.forEach(function(y){y.call()})}get(t){let e=this.series;function i(o){return o.id===t||o.options&&o.options.id===t}let s=Io(this.axes,i)||Io(this.series,i);for(let o=0;!s&&o<e.length;o++)s=Io(e[o].points||[],i);return s}createAxes(){let t=this.userOptions;for(let e of(Z(this,"createAxes"),["xAxis","yAxis"]))for(let i of t[e]=xs(t[e]||{}))new po(this,i,e);Z(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((t,e)=>(e.getPointsCollection().forEach(i=>{Ct(i.selectedStaging,i.selected)&&t.push(i)}),t),[])}getSelectedSeries(){return this.series.filter(t=>t.selected)}setTitle(t,e,i){this.applyDescription("title",t),this.applyDescription("subtitle",e),this.applyDescription("caption",void 0),this.layOutTitles(i)}applyDescription(t,e){let i=this,s=this.options[t]=$t(this.options[t],e),o=this[t];o&&e&&(this[t]=o=o.destroy()),s&&!o&&((o=this.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,class:"highcharts-"+t,zIndex:s.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(r,a){i.applyDescription(t,r),i.layOutTitles(a)},this.styledMode||o.css(le("title"===t?{fontSize:this.options.isStock?"1em":"1.2em"}:{},s.style)),o.textPxLength=o.getBBox().width,o.css({whiteSpace:s.style?.whiteSpace}),this[t]=o)}layOutTitles(t=!0){let e=[0,0,0],{options:i,renderer:s,spacingBox:o}=this;["title","subtitle","caption"].forEach(a=>{let n=this[a],h=this.options[a],p=$t(o),c=n?.textPxLength||0;if(n&&h){Z(this,"layOutTitle",{alignTo:p,key:a,textPxLength:c});let u=s.fontMetrics(n),g=u.b,m=u.h,f=h.verticalAlign||"top",y="top"===f,x=y&&h.minScale||1,b="title"===a?y?-3:0:y?e[0]+2:0,v=Math.min(p.width/c,1),k=Math.max(x,v),S=$t({y:"bottom"===f?g:b+g},{align:"title"===a?v<x?"left":"center":this.title?.alignValue},h),C=(h.width||(v>x?this.chartWidth:p.width)/k)+"px";n.alignValue!==S.align&&(n.placed=!1);let w=Math.round(n.css({width:C}).getBBox(h.useHTML).height);if(S.height=w,n.align(S,!1,p).attr({align:S.align,scaleX:k,scaleY:k,"transform-origin":`${p.x+c*k*Fd(S.align)} ${m}`}),!h.floating){let M=w*(w<1.2*m?1:k);"top"===f?e[0]=Math.ceil(e[0]+M):"bottom"===f&&(e[2]=Math.ceil(e[2]+M))}}},this),e[0]&&"top"===(i.title?.verticalAlign||"top")&&(e[0]+=i.title?.margin||0),e[2]&&"bottom"===i.caption?.verticalAlign&&(e[2]+=i.caption?.margin||0);let r=!this.titleOffset||this.titleOffset.join(",")!==e.join(",");this.titleOffset=e,Z(this,"afterLayOutTitles"),!this.isDirtyBox&&r&&(this.isDirtyBox=this.isDirtyLegend=r,this.hasRendered&&t&&this.isDirtyBox&&this.redraw())}getContainerBox(){let t=[].map.call(this.renderTo.children,i=>{if(i!==this.container){let s=i.style.display;return i.style.display="none",[i,s]}}),e={width:No(this.renderTo,"width",!0)||0,height:No(this.renderTo,"height",!0)||0};return t.filter(Boolean).forEach(([i,s])=>{i.style.display=s}),e}getChartSize(){let t=this.options.chart,e=t.width,i=t.height,s=this.getContainerBox(),o=s.height<=1||!this.renderTo.parentElement?.style.height&&"100%"===this.renderTo.style.height;this.chartWidth=Math.max(0,e||s.width||600),this.chartHeight=Math.max(0,Ea(i,this.chartWidth)||(o?400:s.height)),this.containerBox=s}temporaryDisplay(t){let i,e=this.renderTo;if(t)for(;e?.style;)e.hcOrigStyle&&(Dt(e,e.hcOrigStyle),delete e.hcOrigStyle),e.hcOrigDetached&&(bi.body.removeChild(e),e.hcOrigDetached=!1),e=e.parentNode;else for(;e?.style&&(bi.body.contains(e)||e.parentNode||(e.hcOrigDetached=!0,bi.body.appendChild(e)),("none"===No(e,"display",!1)||e.hcOricDetached)&&(e.hcOrigStyle={display:e.style.display,height:e.style.height,overflow:e.style.overflow},i={display:"block",overflow:"hidden"},e!==this.renderTo&&(i.height=0),Dt(e,i),e.offsetWidth||e.style.setProperty("display","block","important")),(e=e.parentNode)!==bi.body););}setClassName(t){this.container.className="highcharts-container "+(t||"")}getContainer(){let t,e=this.options,i=e.chart,s="data-highcharts-chart",o=Bd(),r=this.renderTo,a=Dd(Ta(r,s));Ye(a)&&Pe[a]&&Pe[a].hasRendered&&Pe[a].destroy(),Ta(r,s,this.index),r.innerHTML=nt.emptyHTML,i.skipClone||r.offsetWidth||this.temporaryDisplay(),this.getChartSize();let n=this.chartHeight,h=this.chartWidth;Dt(r,{overflow:"hidden"}),this.styledMode||(t=le({position:"relative",overflow:"hidden",width:h+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},i.style||{}));let p=Lo("div",{id:o},t,r);this.container=p,this.getChartSize(),h!==this.chartWidth&&(h=this.chartWidth,this.styledMode||Dt(p,{width:Ct(i.style?.width,h+"px")})),this.containerBox=this.getContainerBox(),this._cursor=p.style.cursor;let c=i.renderer||!Ed?hi.getRendererType(i.renderer):Ki;if(this.renderer=new c(p,h,n,void 0,i.forExport,e.exporting?.allowHTML,this.styledMode),To(void 0,this),this.setClassName(i.className),this.styledMode)for(let u in e.defs)this.renderer.definition(e.defs[u]);else this.renderer.setStyle(i.style);this.renderer.chartIndex=this.index,Z(this,"afterGetContainer")}getMargins(t){let{spacing:e,margin:i,titleOffset:s}=this;this.resetMargins(),s[0]&&!ne(i[0])&&(this.plotTop=Math.max(this.plotTop,s[0]+e[0])),s[2]&&!ne(i[2])&&(this.marginBottom=Math.max(this.marginBottom,s[2]+e[2])),this.legend?.display&&this.legend.adjustMargins(i,e),Z(this,"getMargins"),t||this.getAxisMargins()}getAxisMargins(){let t=this,e=t.axisOffset=[0,0,0,0],i=t.colorAxis,s=t.margin,o=r=>{r.forEach(a=>{a.visible&&a.getOffset()})};t.hasCartesianSeries?o(t.axes):i?.length&&o(i),Sa.forEach((r,a)=>{ne(s[a])||(t[r]+=e[a])}),t.setChartSize()}getOptions(){return Aa(this.userOptions,Ao)}reflow(t){let e=this,i=e.containerBox,s=e.getContainerBox();delete e.pointer?.chartPosition,!e.exporting?.isPrinting&&!e.isResizing&&i&&s.width&&((s.width!==i.width||s.height!==i.height)&&(G.clearTimeout(e.reflowTimeout),e.reflowTimeout=Rd(function(){e.container&&e.setSize(void 0,void 0,!1)},100*!!t)),e.containerBox=s)}setReflow(){let t=this,e=i=>{t.options?.chart.reflow&&t.hasLoaded&&t.reflow(i)};if("function"==typeof ResizeObserver)new ResizeObserver(e).observe(t.renderTo);else{let i=Oo(Pa,"resize",e);Oo(this,"destroy",i)}}setSize(t,e,i){let s=this,o=s.renderer;s.isResizing+=1,To(i,s);let r=o.globalAnimation;s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,void 0!==t&&(s.options.chart.width=t),void 0!==e&&(s.options.chart.height=e),s.getChartSize();let{chartWidth:a,chartHeight:n,scrollablePixelsX:h=0,scrollablePixelsY:p=0}=s;(s.isDirtyBox||a!==s.oldChartWidth||n!==s.oldChartHeight)&&(s.styledMode||(r?Po:Dt)(s.container,{width:`${a+h}px`,height:`${n+p}px`},r),s.setChartSize(!0),o.setSize(a,n,r),s.axes.forEach(function(c){c.isDirty=!0,c.setScale()}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(r),s.oldChartHeight=void 0,Z(s,"resize"),setTimeout(()=>{s&&Z(s,"endResize")},Td(r).duration)),s.isResizing-=1}setChartSize(t){let e,i,s,o,{chartHeight:r,chartWidth:a,inverted:n,spacing:h,renderer:p}=this,c=this.clipOffset,u=Math[n?"floor":"round"];this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=s=Math.max(0,Math.round(a-e-(this.marginRight??0))),this.plotHeight=o=Math.max(0,Math.round(r-i-(this.marginBottom??0))),this.plotSizeX=n?o:s,this.plotSizeY=n?s:o,this.spacingBox=p.spacingBox={x:h[3],y:h[0],width:a-h[3]-h[1],height:r-h[0]-h[2]},this.plotBox=p.plotBox={x:e,y:i,width:s,height:o},c&&(this.clipBox={x:u(c[3]),y:u(c[0]),width:u(this.plotSizeX-c[1]-c[3]),height:u(this.plotSizeY-c[0]-c[2])}),t||(this.axes.forEach(function(g){g.setAxisSize(),g.setAxisTranslation()}),p.alignElements()),Z(this,"afterSetChartSize",{skipAxes:t})}resetMargins(){Z(this,"resetMargins");let t=this,e=t.options.chart,i=e.plotBorderWidth||0,s=Math.round(i)/2;["margin","spacing"].forEach(o=>{let r=e[o],a=Nd(r)?r:[r,r,r,r];["Top","Right","Bottom","Left"].forEach((n,h)=>{t[o][h]=e[`${o}${n}`]??a[h]})}),Sa.forEach((o,r)=>{t[o]=t.margin[r]??t.spacing[r]}),t.axisOffset=[0,0,0,0],t.clipOffset=[s,s,s,s],t.plotBorderWidth=i}drawChartBox(){let k,S,C,t=this.options.chart,e=this.renderer,i=this.chartWidth,s=this.chartHeight,o=this.styledMode,r=this.plotBGImage,a=t.backgroundColor,n=t.plotBackgroundColor,h=t.plotBackgroundImage,p=this.plotLeft,c=this.plotTop,u=this.plotWidth,g=this.plotHeight,m=this.plotBox,f=this.clipRect,y=this.clipBox,x=this.chartBackground,b=this.plotBackground,v=this.plotBorder,w="animate";x||(this.chartBackground=x=e.rect().addClass("highcharts-background").add(),w="attr"),o?k=S=x.strokeWidth():(S=(k=t.borderWidth||0)+8*!!t.shadow,C={fill:a||"none"},(k||x["stroke-width"])&&(C.stroke=t.borderColor,C["stroke-width"]=k),x.attr(C).shadow(t.shadow)),x[w]({x:S/2,y:S/2,width:i-S-k%2,height:s-S-k%2,r:t.borderRadius}),w="animate",b||(w="attr",this.plotBackground=b=e.rect().addClass("highcharts-plot-background").add()),b[w](m),!o&&(b.attr({fill:n||"none"}).shadow(t.plotShadow),h&&(r?(h!==r.attr("href")&&r.attr("href",h),r.animate(m)):this.plotBGImage=e.image(h,p,c,u,g).add())),f?f.animate({width:y.width,height:y.height}):this.clipRect=e.clipRect(y),w="animate",v||(w="attr",this.plotBorder=v=e.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),o||v.attr({stroke:t.plotBorderColor,"stroke-width":t.plotBorderWidth||0,fill:"none"}),v[w](v.crisp(m,-v.strokeWidth())),this.isDirtyBox=!1,Z(this,"afterDrawChartBox")}propFromSeries(){let t,e,i,s=this,o=s.options.chart,r=s.options.series;["inverted","angular","polar"].forEach(function(a){for(e=Eo[o.type],i=o[a]||e&&e.prototype[a],t=r?.length;!i&&t--;)(e=Eo[r[t].type])&&e.prototype[a]&&(i=!0);s[a]=i})}linkSeries(t){let e=this,i=e.series;i.forEach(function(s){s.linkedSeries.length=0}),i.forEach(function(s){let{linkedTo:o}=s.options;if(fs(o)){let r;(r=":previous"===o?e.series[s.index-1]:e.get(o))&&r.linkedParent!==s&&(r.linkedSeries.push(s),s.linkedParent=r,r.enabledDataSorting&&s.setDataSortingOptions(),s.visible=Ct(s.options.visible,r.options.visible,s.visible))}}),Z(this,"afterLinkSeries",{isUpdating:t})}renderSeries(){this.series.forEach(function(t){t.translate(),t.render()})}render(){let n,t=this.axes,e=this.colorAxis,i=this.renderer,s=this.options.chart.axisLayoutRuns||2,o=p=>{p.forEach(c=>{c.visible&&c.render()})},r=0,a=!0,h=0;for(let p of(this.setTitle(),Z(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),t)){let{options:c}=p,{labels:u}=c;if(this.hasCartesianSeries&&p.horiz&&p.visible&&u.enabled&&p.series.length&&"colorAxis"!==p.coll&&!this.polar){r=c.tickLength,p.createGroups();let g=new ze(p,0,"",!0),m=g.createLabel("x",u);if(g.destroy(),m&&Ct(u.reserveSpace,!Ye(c.crossing))&&(r=m.getBBox().height+u.distance+Math.max(c.offset||0,0)),r){m?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-r,0);(a||n||s>1)&&h<s;){let p=this.plotWidth,c=this.plotHeight;for(let u of t)0===h?u.setScale():(u.horiz&&a||!u.horiz&&n)&&u.setTickInterval(!0);0===h?this.getAxisMargins():this.getMargins(),a=p/this.plotWidth>(h?1:1.1),n=c/this.plotHeight>(h?1:1.05),h++}this.drawChartBox(),this.hasCartesianSeries?o(t):e?.length&&o(e),this.seriesGroup||(this.seriesGroup=i.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=i.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(t){let e=this,i=$t(!0,this.options.credits,t);i.enabled&&!this.credits&&(this.credits=this.renderer.text(i.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){i.href&&(Pa.location.href=i.href)}).attr({align:i.position.align,zIndex:8}),e.styledMode||this.credits.css(i.style),this.credits.add().align(i.position),this.credits.update=function(s){e.credits=e.credits.destroy(),e.addCredits(s)})}destroy(){let t,e=this,i=e.axes,s=e.series,o=e.container,r=o?.parentNode;for(Z(e,"destroy"),e.renderer.forExport?Ld(Pe,e):Pe[e.index]=void 0,I.chartCount--,e.renderTo.removeAttribute("data-highcharts-chart"),Oa(e),t=i.length;t--;)i[t]=i[t].destroy();for(this.scroller?.destroy?.(),t=s.length;t--;)s[t]=s[t].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(a=>{e[a]=e[a]?.destroy?.()}),o&&(o.innerHTML=nt.emptyHTML,Oa(o),r&&Od(o)),Do(e,function(a,n){delete e[n]})}firstRender(){let t=this,e=t.options;t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.createAxes();let i=Id(e.series)?e.series:[];e.series=[],i.forEach(function(s){t.initSeries(s)}),t.linkSeries(),t.setSortedData(),Z(t,"beforeRender"),t.render(),t.pointer?.getChartPosition(),t.renderer.imgCount||t.hasLoaded||t.onload(),t.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),Z(this,"load"),Z(this,"render"),ne(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:t,title:e}=this;t&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(e?.element.textContent||"").replace(/</g,"&lt;")}),t.accessibility&&!1===t.accessibility.enabled||Fo('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(t,e,i){let s,o=this;return t&&(e=Ct(e,!0),Z(o,"addSeries",{options:t},function(){s=o.initSeries(t),o.isDirtyLegend=!0,o.linkSeries(),s.enabledDataSorting&&s.setData(t.data,!1),Z(o,"afterAddSeries",{series:s}),e&&o.redraw(i)})),s}addAxis(t,e,i,s){return this.createAxis(e?"xAxis":"yAxis",{axis:t,redraw:i,animation:s})}addColorAxis(t,e,i){return this.createAxis("colorAxis",{axis:t,redraw:e,animation:i})}createAxis(t,e){let i=new po(this,e.axis,t);return Ct(e.redraw,!0)&&this.redraw(e.animation),i}showLoading(t){let e=this,i=e.options,s=i.loading,o=function(){r&&Dt(r,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})},r=e.loadingDiv,a=e.loadingSpan;r||(e.loadingDiv=r=Lo("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container)),a||(e.loadingSpan=a=Lo("span",{className:"highcharts-loading-inner"},null,r),Oo(e,"redraw",o)),r.className="highcharts-loading",nt.setElementHTML(a,Ct(t,i.lang.loading,"")),!e.styledMode&&(Dt(r,le(s.style,{zIndex:10})),Dt(a,s.labelStyle),e.loadingShown||(Dt(r,{opacity:0,display:""}),Po(r,{opacity:s.style.opacity||.5},{duration:s.showDuration||0}))),e.loadingShown=!0,o()}hideLoading(){let t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||Po(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){Dt(e,{display:"none"})}})),this.loadingShown=!1}update(t,e,i,s){let o,r,a,n=this,h={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},p=t.isResponsiveOptions,c=[];Z(n,"update",{options:t}),p||n.setResponsive(!1,!0),t=Aa(t,n.options),n.userOptions=$t(n.userOptions,t);let u=t.chart;u&&($t(!0,n.options.chart,u),this.setZoomOptions(),"className"in u&&n.setClassName(u.className),("inverted"in u||"polar"in u||"type"in u)&&(n.propFromSeries(),o=!0),"alignTicks"in u&&(o=!0),"events"in u&&Ma(this,u),Do(u,function(f,y){-1!==n.propsRequireUpdateSeries.indexOf("chart."+y)&&(r=!0),-1!==n.propsRequireDirtyBox.indexOf(y)&&(n.isDirtyBox=!0),-1!==n.propsRequireReflow.indexOf(y)&&(n.isDirtyBox=!0,p||(a=!0))}),!n.styledMode&&u.style&&n.renderer.setStyle(n.options.chart.style||{})),!n.styledMode&&t.colors&&(this.options.colors=t.colors),Do(t,function(f,y){n[y]&&"function"==typeof n[y].update?n[y].update(f,!1):"function"==typeof n[h[y]]?n[h[y]](f):"colors"!==y&&-1===n.collectionsWithUpdate.indexOf(y)&&$t(!0,n.options[y],t[y]),"chart"!==y&&-1!==n.propsRequireUpdateSeries.indexOf(y)&&(r=!0)}),this.collectionsWithUpdate.forEach(function(f){t[f]&&(xs(t[f]).forEach(function(y,x){let b,v=ne(y.id);v&&(b=n.get(y.id)),!b&&n[f]&&(b=n[f][Ct(y.index,x)])&&(v&&ne(b.options.id)||b.options.isInternal)&&(b=void 0),b&&b.coll===f&&(b.update(y,!1),i&&(b.touched=!0)),!b&&i&&n.collectionsWithInit[f]&&(n.collectionsWithInit[f][0].apply(n,[y].concat(n.collectionsWithInit[f][1]||[]).concat([!1])).touched=!0)}),i&&n[f].forEach(function(y){y.touched||y.options.isInternal?delete y.touched:c.push(y)}))}),c.forEach(function(f){f.chart&&f.remove&&f.remove(!1)}),o&&n.axes.forEach(function(f){f.update({},!1)}),r&&n.getSeriesOrderByLinks().forEach(function(f){f.chart&&f.update({},!1)},this);let g=u?.width,m=u&&(fs(u.height)?Ea(u.height,g||n.chartWidth):u.height);a||Ye(g)&&g!==n.chartWidth||Ye(m)&&m!==n.chartHeight?n.setSize(g,m,s):Ct(e,!0)&&n.redraw(s),Z(n,"afterUpdate",{options:t,redraw:e,animation:s})}setSubtitle(t,e){this.applyDescription("subtitle",t),this.layOutTitles(e)}setCaption(t,e){this.applyDescription("caption",t),this.layOutTitles(e)}showResetZoom(){let t=this,e=Ao.lang,i=t.zooming.resetButton,s=i.theme,o="chart"===i.relativeTo||"spacingBox"===i.relativeTo?null:"plotBox";function r(){t.zoomOut()}Z(this,"beforeShowResetZoom",null,function(){t.resetZoomButton=t.renderer.button(e.resetZoom,null,null,r,s).attr({align:i.position.align,title:e.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,o)}),Z(this,"afterShowResetZoom")}zoomOut(){Z(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(t,e){let i=this,s="object"==typeof e?e:{enabled:e,type:"x"},o=s.type,r=o&&i[{x:"xAxis",xy:"axes",y:"yAxis"}[o]].filter(n=>n.options.panningEnabled&&!n.options.isInternal),a=i.options.chart;a?.panning&&(a.panning=s),Z(this,"pan",{originalEvent:t},()=>{i.transform({axes:r,event:t,to:{x:t.chartX-(i.mouseDownX||0),y:t.chartY-(i.mouseDownY||0)},trigger:"pan"}),Dt(i.container,{cursor:"move"})})}transform(t){let{axes:e=this.axes,event:i,from:s={},reset:o,selection:r,to:a={},trigger:n}=t,{inverted:h,time:p}=this;this.hoverPoints?.forEach(m=>m.setState()),Z(this,"transform",t);let u,g,c=t.hasZoomed||!1;for(let m of e){let{horiz:f,len:y,minPointOffset:x=0,options:b,reversed:v}=m,k=f?"width":"height",S=f?"x":"y",C=Ct(a[k],m.len),w=Ct(s[k],m.len),M=10>Math.abs(C)?1:C/w,E=(s[S]||0)+w/2-m.pos,L=E-((a[S]??m.pos)+C/2-m.pos)/M,O=v&&!h||!v&&h?-1:1;if(!o&&(E<0||E>m.len))continue;let D=m.chart.polar||m.isOrdinal?0:x*O||0,j=m.toValue(L,!0),z=m.toValue(L+y/M,!0),R=j+D,N=z-D,B=m.allExtremes;if(r&&r[m.coll].push({axis:m,min:Math.min(j,z),max:Math.max(j,z)}),R>N&&([R,N]=[N,R]),1===M&&!o&&"yAxis"===m.coll&&!B){for(let Pt of m.series){let Ut=Pt.getExtremes(Pt.getProcessedData(!0).modified.getColumn("y")||[],!0);B??(B={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),Ye(Ut.dataMin)&&Ye(Ut.dataMax)&&(B.dataMin=Math.min(Ut.dataMin,B.dataMin),B.dataMax=Math.max(Ut.dataMax,B.dataMax))}m.allExtremes=B}let{dataMin:tt,dataMax:q,min:Mt,max:_}=le(m.getExtremes(),B||{}),X=p.parse(b.min),K=p.parse(b.max),V=tt??X,it=q??K,st=N-R,J=m.categories?0:Math.min(st,it-V),pt=V-J*(ne(X)?0:b.minPadding),St=it+J*(ne(K)?0:b.maxPadding),At=m.allowZoomOutside||1===M||"zoom"!==n&&M>1,pe=Math.min(X??pt,pt,At?Mt:pt),Rt=Math.max(K??St,St,At?_:St);(!m.isOrdinal||1!==M||o)&&(R<pe&&(R=pe,M>=1&&(N=R+st)),N>Rt&&(N=Rt,M>=1&&(R=N-st)),(o||m.series.length&&(R!==Mt||N!==_)&&R>=pe&&N<=Rt)&&(r?r[m.coll].push({axis:m,min:R,max:N}):(m.isPanning="zoom"!==n,m.isPanning&&(g=!0),m.setExtremes(o?void 0:R,o?void 0:N,!1,!1,{move:L,trigger:n,scale:M}),!o&&(R>pe||N<Rt)&&"mousewheel"!==n&&(u=!0)),c=!0),this.hasCartesianSeries||o||"mousewheel"===n||(u=!0),i&&(this[f?"mouseDownX":"mouseDownY"]=i[f?"chartX":"chartY"]))}return c&&(r?Z(this,"selection",r,()=>{delete t.selection,t.trigger="zoom",this.transform(t)}):(!u||g||this.resetZoomButton?!u&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw("zoom"===n&&(this.options.chart.animation??this.pointCount<100)))),c}}le(he.prototype,{callbacks:[],collectionsWithInit:{xAxis:[he.prototype.addAxis,[!0]],yAxis:[he.prototype.addAxis,[!1]],series:[he.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:jd}=vt,{composed:zd}=I,{addEvent:de,createElement:ys,css:Ro,defined:Bo,erase:Gd,merge:La,pushUnique:Fa}=G;function Wd(){let l=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!l&&(this.scrollablePlotArea=l=new Na(this)),l?.applyFixed()}function Ia(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}let Na=(()=>{class l{static compose(e,i,s){Fa(zd,this.compose)&&(de(e,"afterInit",Ia),de(i,"afterSetChartSize",o=>this.afterSetSize(o.target,o)),de(i,"render",Wd),de(s,"show",Ia))}static afterSetSize(e,i){let s,o,r,{minWidth:a,minHeight:n}=e.options.chart.scrollablePlotArea||{},{clipBox:h,plotBox:p,inverted:c,renderer:u}=e;if(!u.forExport)if(a?(e.scrollablePixelsX=s=Math.max(0,a-e.chartWidth),s&&(e.scrollablePlotBox=La(e.plotBox),p.width=e.plotWidth+=s,h[c?"height":"width"]+=s,r=!0)):n&&(e.scrollablePixelsY=o=Math.max(0,n-e.chartHeight),Bo(o)&&(e.scrollablePlotBox=La(e.plotBox),p.height=e.plotHeight+=o,h[c?"width":"height"]+=o,r=!1)),Bo(r)){if(!i.skipAxes)for(let g of e.axes)(g.horiz===r||e.hasParallelCoordinates&&"yAxis"===g.coll)&&(g.setAxisSize(),g.setAxisTranslation())}else delete e.scrollablePlotBox}constructor(e){let i,s=e.options.chart,o=hi.getRendererType(),r=s.scrollablePlotArea||{},a=this.moveFixedElements.bind(this),n={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};e.scrollablePixelsX&&(n.overflowX="auto"),e.scrollablePixelsY&&(n.overflowY="auto"),this.chart=e;let h=this.parentDiv=ys("div",{className:"highcharts-scrolling-parent"},{position:"relative"},e.renderTo),p=this.scrollingContainer=ys("div",{className:"highcharts-scrolling"},n,h),c=this.innerContainer=ys("div",{className:"highcharts-inner-container"},void 0,p),u=this.fixedDiv=ys("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(s.style?.zIndex||0)+2,top:0},void 0,!0),g=this.fixedRenderer=new o(u,e.chartWidth,e.chartHeight,s.style);this.mask=g.path().attr({fill:s.backgroundColor||"#fff","fill-opacity":r.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),p.parentNode.insertBefore(u,p),Ro(e.renderTo,{overflow:"visible"}),de(e,"afterShowResetZoom",a),de(e,"afterApplyDrilldown",a),de(e,"afterLayOutTitles",a),de(p,"scroll",()=>{let{pointer:m,hoverPoint:f}=e;m&&(delete m.chartPosition,f&&(i=f),m.runPointActions(void 0,i,!0))}),c.appendChild(e.container)}applyFixed(){let{chart:e,fixedRenderer:i,isDirty:s,scrollingContainer:o}=this,{axisOffset:r,chartWidth:a,chartHeight:n,container:h,plotHeight:p,plotLeft:c,plotTop:u,plotWidth:g,scrollablePixelsX:m=0,scrollablePixelsY:f=0}=e,{scrollPositionX:y=0,scrollPositionY:x=0}=e.options.chart.scrollablePlotArea||{},b=a+m,v=n+f;i.setSize(a,n),(s??!0)&&(this.isDirty=!1,this.moveFixedElements()),jd(e.container),Ro(h,{width:`${b}px`,height:`${v}px`}),e.renderer.boxWrapper.attr({width:b,height:v,viewBox:[0,0,b,v].join(" ")}),e.chartBackground?.attr({width:b,height:v}),Ro(o,{width:`${a}px`,height:`${n}px`}),Bo(s)||(o.scrollLeft=m*y,o.scrollTop=f*x);let k=u-r[0]-1,S=c-r[3]-1,C=u+p+r[2]+1,w=c+g+r[1]+1,M=c+g-m,E=u+p-f,L=[["M",0,0]];m?L=[["M",0,k],["L",c-1,k],["L",c-1,C],["L",0,C],["Z"],["M",M,k],["L",a,k],["L",a,C],["L",M,C],["Z"]]:f&&(L=[["M",S,0],["L",S,u-1],["L",w,u-1],["L",w,0],["Z"],["M",S,E],["L",S,n],["L",w,n],["L",w,E],["Z"]]),"adjustHeight"!==e.redrawTrigger&&this.mask.attr({d:L})}moveFixedElements(){let e,{container:i,inverted:s,scrollablePixelsX:o,scrollablePixelsY:r}=this.chart,a=this.fixedRenderer,n=l.fixedSelectors;if(o&&!s?e=".highcharts-yaxis":o&&s||r&&!s?e=".highcharts-xaxis":r&&s&&(e=".highcharts-yaxis"),!e||this.chart.hasParallelCoordinates&&".highcharts-yaxis"===e)for(let h of[".highcharts-xaxis",".highcharts-yaxis"])for(let p of[`${h}:not(.highcharts-radial-axis)`,`${h}-labels:not(.highcharts-radial-axis-labels)`])Gd(n,p);else for(let h of[`${e}:not(.highcharts-radial-axis)`,`${e}-labels:not(.highcharts-radial-axis-labels)`])Fa(n,h);for(let h of n)[].forEach.call(i.querySelectorAll(h),p=>{(p.namespaceURI===a.SVG_NS?a.box:a.box.parentNode).appendChild(p),p.style.pointerEvents="auto"})}}return l.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"],l})(),{format:Xd}=Ot,{series:_d}=gt,{destroyObjectProperties:Yd,fireEvent:Da,getAlignFactor:jo,isNumber:zo,pick:vi}=G,Ra=class{constructor(l,t,e,i,s){let o=l.chart.inverted,r=l.reversed;this.axis=l;let a=this.isNegative=!!e!=!!r;this.options=t=t||{},this.x=i,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=s,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:t.align||(o?a?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":a?"bottom":"top"),y:t.y,x:t.x},this.textAlign=t.textAlign||(o?a?"right":"left":"center")}destroy(){Yd(this,this.axis)}render(l){let t=this.axis.chart,e=this.options,i=e.format,s=i?Xd(i,this,t):e.formatter.call(this);if(this.label)this.label.attr({text:s,visibility:"hidden"});else{this.label=t.renderer.label(s,null,void 0,e.shape,void 0,void 0,e.useHTML,!1,"stack-labels");let o={r:e.borderRadius||0,text:s,padding:vi(e.padding,5),visibility:"hidden"};t.styledMode||(o.fill=e.backgroundColor,o.stroke=e.borderColor,o["stroke-width"]=e.borderWidth,this.label.css(e.style||{})),this.label.attr(o),this.label.added||this.label.add(l)}this.label.labelrank=t.plotSizeY,Da(this,"afterRender")}setOffset(l,t,e,i,s,o){let{alignOptions:r,axis:a,label:n,options:h,textAlign:p}=this,c=a.chart,u=this.getStackBox({xOffset:l,width:t,boxBottom:e,boxTop:i,defaultX:s,xAxis:o}),{verticalAlign:g}=r;if(n&&u){let x,m=n.getBBox(void 0,0),f=n.padding,y="justify"===vi(h.overflow,"justify");r.x=h.x||0,r.y=h.y||0;let{x:b,y:v}=this.adjustStackPosition({labelBox:m,verticalAlign:g,textAlign:p});u.x-=b,u.y-=v,n.align(r,!1,u),(x=c.isInsidePlot(n.alignAttr.x+r.x+b,n.alignAttr.y+r.y+v))||(y=!1),y&&_d.prototype.justifyDataLabel.call(a,n,r,n.alignAttr,m,u),n.attr({x:n.alignAttr.x,y:n.alignAttr.y,rotation:h.rotation,rotationOriginX:m.width*jo(h.textAlign||"center"),rotationOriginY:m.height/2}),vi(!y&&h.crop,!0)&&(x=zo(n.x)&&zo(n.y)&&c.isInsidePlot(n.x-f+(n.width||0),n.y)&&c.isInsidePlot(n.x+f,n.y)),n[x?"show":"hide"]()}Da(this,"afterSetOffset",{xOffset:l,width:t})}adjustStackPosition({labelBox:l,verticalAlign:t,textAlign:e}){return{x:l.width/2+l.width/2*(2*jo(e)-1),y:l.height/2*2*(1-jo(t))}}getStackBox(l){let t=this.axis,e=t.chart,{boxTop:i,defaultX:s,xOffset:o,width:r,boxBottom:a}=l,n=t.stacking.usePercentage?100:vi(i,this.total,0),h=t.toPixels(n),p=l.xAxis||e.xAxis[0],c=vi(s,p.translate(this.x))+o,u=Math.abs(h-t.toPixels(a||zo(t.min)&&t.logarithmic&&t.logarithmic.lin2log(t.min)||0)),m=this.isNegative;return e.inverted?{x:(m?h:h-u)-e.plotLeft,y:p.height-c-r+p.top-e.plotTop,width:u,height:r}:{x:c+p.transB-e.plotLeft,y:(m?h-u:h)-e.plotTop,width:r,height:u}}},{getDeferredAnimation:Hd}=vt,{series:{prototype:$d}}=gt,{addEvent:Ba,correctFloat:ki,defined:ja,destroyObjectProperties:Ud,fireEvent:Vd,isNumber:Go,objectEach:Te,pick:Wo}=G;function qd(){let l=this.inverted;this.axes.forEach(t=>{t.stacking?.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)}),this.series.forEach(t=>{let e=t.xAxis?.options||{};t.options.stacking&&t.reserveSpace()&&(t.stackKey=[t.type,Wo(t.options.stack,""),l?e.top:e.left,l?e.height:e.width].join(","))})}function Zd(){let l=this.stacking;if(l){let t=l.stacks;Te(t,(e,i)=>{Ud(e),delete t[i]}),l.stackTotalGroup?.destroy()}}function Kd(){this.stacking||(this.stacking=new sc(this))}function Jd(l,t,e,i){return!ja(l)||l.x!==t||i&&l.stackKey!==i?l={x:t,index:0,key:i,stackKey:i}:l.index++,l.key=[e,t,l.index].join(","),l}function Qd(){let l,t=this,i=t.stackKey||"",s=t.yAxis.stacking.stacks,o=t.getColumn("x",!0),a=t[t.options.stacking+"Stacker"];a&&[i,"-"+i].forEach(n=>{let p,c,u,h=o.length;for(;h--;)p=o[h],l=t.getStackIndicator(l,p,t.index,n),c=s[n]?.[p],(u=c?.points[l.key||""])&&a.call(t,u,c,h)})}function tc(l,t,e){let i=t.total?100/t.total:0;l[0]=ki(l[0]*i),l[1]=ki(l[1]*i),this.stackedYData[e]=l[1]}function ec(l){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?$d.setStackedPoints.call(this,l,"group"):l.stacking.resetStacks())}function ic(l,t){let e,i,s,o,r,a,n,h=t||this.options.stacking;if(!h||!this.reserveSpace()||({group:"xAxis"}[h]||"yAxis")!==l.coll)return;let p=this.getColumn("x",!0),c=this.getColumn(this.pointValKey||"y",!0),u=[],g=c.length,m=this.options,f=m.threshold||0,y=m.startFromThreshold?f:0,x=m.stack,b=t?`${this.type},${h}`:this.stackKey||"",v="-"+b,k=this.negStacks,S=l.stacking,C=S.stacks,w=S.oldStacks;for(S.stacksTouched+=1,n=0;n<g;n++){let M=p[n]||0,E=c[n],L=Go(E)&&E||0;a=(e=this.getStackIndicator(e,M,this.index)).key||"",C[r=(i=k&&L<(y?0:f))?v:b]||(C[r]={}),C[r][M]||(w[r]?.[M]?(C[r][M]=w[r][M],C[r][M].total=null):C[r][M]=new Ra(l,l.options.stackLabels,!!i,M,x)),s=C[r][M],null!==E?(s.points[a]=s.points[this.index]=[Wo(s.cumulative,y)],ja(s.cumulative)||(s.base=a),s.touched=S.stacksTouched,e.index>0&&!1===this.singleStacks&&(s.points[a][0]=s.points[this.index+","+M+",0"][0])):(delete s.points[a],delete s.points[this.index]);let O=s.total||0;"percent"===h?(o=i?b:v,O=k&&C[o]?.[M]?(o=C[o][M]).total=Math.max(o.total||0,O)+Math.abs(L):ki(O+Math.abs(L))):"group"===h?Go(E)&&O++:O=ki(O+L),s.cumulative="group"===h?(O||1)-1:ki(Wo(s.cumulative,y)+L),s.total=O,null!==E&&(s.points[a].push(s.cumulative),u[n]=s.cumulative,s.hasValidPoints=!0)}"percent"===h&&(S.usePercentage=!0),"group"!==h&&(this.stackedYData=u),S.oldStacks={}}class sc{constructor(t){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=t}buildStacks(){let t,e,i=this.axis,s=i.series,o="xAxis"===i.coll,r=i.options.reversedStacks,a=s.length;for(this.resetStacks(),this.usePercentage=!1,e=a;e--;)t=s[r?e:a-e-1],o&&t.setGroupedPoints(i),t.setStackedPoints(i);if(!o)for(e=0;e<a;e++)s[e].modifyStacks();Vd(i,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,Te(this.stacks,t=>{Te(t,e=>{e.cumulative=e.total})}))}resetStacks(){Te(this.stacks,t=>{Te(t,(e,i)=>{Go(e.touched)&&e.touched<this.stacksTouched?(e.destroy(),delete t[i]):(e.total=null,e.cumulative=null)})})}renderStackTotals(){let t=this.axis,e=t.chart,i=e.renderer,s=this.stacks,o=Hd(e,t.options.stackLabels?.animation||!1),r=this.stackTotalGroup=this.stackTotalGroup||i.g("stack-labels").attr({zIndex:6,opacity:0}).add();r.translate(e.plotLeft,e.plotTop),Te(s,a=>{Te(a,n=>{n.render(r)})}),r.animate({opacity:1},o)}}(Ze||(Ze={})).compose=function(l,t,e){let i=t.prototype,s=e.prototype;i.getStacks||(Ba(l,"init",Kd),Ba(l,"destroy",Zd),i.getStacks=qd,s.getStackIndicator=Jd,s.modifyStacks=Qd,s.percentStacker=tc,s.setGroupedPoints=ec,s.setStackedPoints=ic)};let oc=Ze,{defined:rc,merge:za,isObject:ac}=G;class Ga extends Tt{drawGraph(){let t=this.options,e=(this.gappedPath||this.getGraphPath).call(this),i=this.chart.styledMode;[this,...this.zones].forEach((s,o)=>{let r,a=s.graph,n=a?"animate":"attr",h=s.dashStyle||t.dashStyle;a?(a.endX=this.preventGraphAnimation?null:e.xMap,a.animate({d:e})):e.length&&(s.graph=a=this.chart.renderer.path(e).addClass("highcharts-graph"+(o?` highcharts-zone-graph-${o-1} `:" ")+(o&&s.className||"")).attr({zIndex:1}).add(this.group)),a&&!i&&(r={stroke:!o&&t.lineColor||s.color||this.color||"#cccccc","stroke-width":t.lineWidth||0,fill:this.fillGraph&&this.color||"none"},h?r.dashstyle=h:"square"!==t.linecap&&(r["stroke-linecap"]=r["stroke-linejoin"]="round"),a[n](r).shadow(t.shadow&&za({filterUnits:"userSpaceOnUse"},ac(t.shadow)?t.shadow:{}))),a&&(a.startX=e.xMap,a.isArea=e.isArea)})}getGraphPath(t,e,i){let n,s=this,o=s.options,r=[],a=[],h=o.step,p=(t=t||s.points).reversed;return p&&t.reverse(),(h={right:1,center:2}[h]||h&&3)&&p&&(h=4-h),(t=this.getValidPoints(t,!1,o.nullInteraction||!(o.connectNulls&&!e&&!i))).forEach(function(c,u){let g,m=c.plotX,f=c.plotY,y=t[u-1],x=c.isNull||"number"!=typeof f;(c.leftCliff||y?.rightCliff)&&!i&&(n=!0),x&&!rc(e)&&u>0?n=!o.connectNulls:x&&!e?n=!0:(0===u||n?g=[["M",c.plotX,c.plotY]]:s.getPointSpline?g=[s.getPointSpline(t,c,u)]:h?(g=1===h?[["L",y.plotX,f]]:2===h?[["L",(y.plotX+m)/2,y.plotY],["L",(y.plotX+m)/2,f]]:[["L",m,y.plotY]]).push(["L",m,f]):g=[["L",m,f]],a.push(c.x),h&&(a.push(c.x),2===h&&a.push(c.x)),r.push.apply(r,g),n=!1)}),r.xMap=a,s.graphPath=r,r}}Ga.defaultOptions=za(Tt.defaultOptions,{legendSymbol:"lineMarker"}),gt.registerSeriesType("line",Ga);let{seriesTypes:{line:Xo}}=gt,{extend:nc,merge:lc,objectEach:hc,pick:bs}=G;class _o extends Xo{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:t,options:e}=this;[this,...this.zones].forEach((i,s)=>{let o={},r=i.fillColor||e.fillColor,a=i.area,n=a?"animate":"attr";a?(a.endX=this.preventGraphAnimation?null:t.xMap,a.animate({d:t})):(o.zIndex=0,(a=i.area=this.chart.renderer.path(t).addClass("highcharts-area"+(s?` highcharts-zone-area-${s-1} `:" ")+(s&&i.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(o.fill=r||i.color||this.color,o["fill-opacity"]=r?1:e.fillOpacity??.75,a.css({pointerEvents:this.stickyTracking?"none":"auto"})),a[n](o),a.startX=t.xMap,a.shiftUnit=e.step?2:1})}getGraphPath(t){let e,i,s,o=Xo.prototype.getGraphPath,r=this.options,a=r.stacking,n=this.yAxis,h=[],p=[],c=this.index,u=n.stacking.stacks[this.stackKey],g=r.threshold,m=Math.round(n.getThreshold(r.threshold)),f=bs(r.connectNulls,"percent"===a),y=function(C,w,M){let j,z,E=t[C],L=a&&u[E.x].points[c],O=E[M+"Null"]||0,D=E[M+"Cliff"]||0,R=!0;D||O?(j=(O?L[0]:L[1])+D,z=L[0]+D,R=!!O):!a&&t[w]&&t[w].isNull&&(j=z=g),void 0!==j&&(p.push({plotX:e,plotY:null===j?m:n.getThreshold(j),isNull:R,isCliff:!0}),h.push({plotX:e,plotY:null===z?m:n.getThreshold(z),doCurve:!1}))};t=t||this.points,a&&(t=this.getStackPoints(t));for(let C=0,w=t.length;C<w;++C)a||(t[C].leftCliff=t[C].rightCliff=t[C].leftNull=t[C].rightNull=void 0),i=t[C].isNull,e=bs(t[C].rectPlotX,t[C].plotX),s=a?bs(t[C].yBottom,m):m,(!i||f)&&(f||y(C,C-1,"left"),i&&!a&&f||(p.push(t[C]),h.push({x:C,plotX:e,plotY:s})),f||y(C,C+1,"right"));let x=o.call(this,p,!0,!0);h.reversed=!0;let b=o.call(this,h,!0,!0),v=b[0];v&&"M"===v[0]&&(b[0]=["L",v[1],v[2]]);let k=x.concat(b);k.length&&k.push(["Z"]);let S=o.call(this,p,!1,f);return this.chart.series.length>1&&a&&p.some(C=>C.isCliff)&&(k.hasStackedCliffs=S.hasStackedCliffs=!0),k.xMap=x.xMap,this.areaPath=k,S}getStackPoints(t){let e=this,i=[],s=[],o=this.xAxis,r=this.yAxis,a=r.stacking.stacks[this.stackKey],n={},h=r.series,p=h.length,c=r.options.reversedStacks?1:-1,u=h.indexOf(e);if(t=t||this.points,this.options.stacking){for(let m=0;m<t.length;m++)t[m].leftNull=t[m].rightNull=void 0,n[t[m].x]=t[m];hc(a,function(m,f){null!==m.total&&s.push(f)}),s.sort(function(m,f){return m-f});let g=h.map(m=>m.visible);s.forEach(function(m,f){let x,b,y=0;if(n[m]&&!n[m].isNull)i.push(n[m]),[-1,1].forEach(function(v){let k=1===v?"rightNull":"leftNull",S=a[s[f+v]],C=0;if(S){let w=u;for(;w>=0&&w<p;){let M=h[w].index;!(x=S.points[M])&&(M===e.index?n[m][k]=!0:g[w]&&(b=a[m].points[M])&&(C-=b[1]-b[0])),w+=c}}n[m][1===v?"rightCliff":"leftCliff"]=C});else{let v=u;for(;v>=0&&v<p;){if(x=a[m].points[h[v].index]){y=x[1];break}v+=c}y=bs(y,0),y=r.translate(y,0,1,0,1),i.push({isNull:!0,plotX:o.translate(m,0,0,0,1),x:m,plotY:y,yBottom:y})}})}return i}}_o.defaultOptions=lc(Xo.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),nc(_o.prototype,{singleStacks:!1}),gt.registerSeriesType("area",_o);let{line:Wa}=gt.seriesTypes,{merge:dc,pick:vs}=G;class Yo extends Wa{getPointSpline(t,e,i){let s,o,r,a,n=e.plotX||0,h=e.plotY||0,p=t[i-1],c=t[i+1];function u(m){return m&&!m.isNull&&!1!==m.doCurve&&!e.isCliff}if(u(p)&&u(c)){let f=p.plotY||0,x=c.plotY||0,b=0;s=(1.5*n+(p.plotX||0))/2.5,o=(1.5*h+f)/2.5,r=(1.5*n+(c.plotX||0))/2.5,a=(1.5*h+x)/2.5,r!==s&&(b=(a-o)*(r-n)/(r-s)+h-a),o+=b,a+=b,o>f&&o>h?(o=Math.max(f,h),a=2*h-o):o<f&&o<h&&(o=Math.min(f,h),a=2*h-o),a>x&&a>h?(a=Math.max(x,h),o=2*h-a):a<x&&a<h&&(a=Math.min(x,h),o=2*h-a),e.rightContX=r,e.rightContY=a,e.controlPoints={low:[s,o],high:[r,a]}}let g=["C",vs(p.rightContX,p.plotX,0),vs(p.rightContY,p.plotY,0),vs(s,n,0),vs(o,h,0),n,h];return p.rightContX=p.rightContY=void 0,g}}Yo.defaultOptions=dc(Wa.defaultOptions),gt.registerSeriesType("spline",Yo);let Xa=Yo,{area:cc,area:{prototype:Ho}}=gt.seriesTypes,{extend:pc,merge:uc}=G;class $o extends Xa{}$o.defaultOptions=uc(Xa.defaultOptions,cc.defaultOptions),pc($o.prototype,{getGraphPath:Ho.getGraphPath,getStackPoints:Ho.getStackPoints,drawGraph:Ho.drawGraph}),gt.registerSeriesType("areaspline",$o);let{animObject:gc}=vt,{parse:mc}=lt,{noop:fc}=I,{clamp:ks,crisp:ws,defined:_a,extend:Ya,fireEvent:Ha,isArray:$a,isNumber:Cs,merge:Uo,pick:wi,objectEach:xc}=G;class Ms extends Tt{animate(t){let e,i,s=this,o=this.yAxis,r=o.pos,a=o.reversed,n=s.options,{clipOffset:h,inverted:p}=this.chart,c={},u=p?"translateX":"translateY";t&&h?(c.scaleY=.001,i=ks(o.toPixels(n.threshold||0),r,r+o.len),p?c.translateX=(i+=a?-Math.floor(h[0]):Math.ceil(h[2]))-o.len:c.translateY=i+=a?Math.ceil(h[0]):-Math.floor(h[2]),s.clipBox&&s.setClip(),s.group.attr(c)):(e=Number(s.group.attr(u)),s.group.animate({scaleY:1},Ya(gc(s.options.animation),{step:function(g,m){s.group&&(c[u]=e+m.pos*(r-e),s.group.attr(c))}})))}init(t,e){super.init.apply(this,arguments);let i=this;(t=i.chart).hasRendered&&t.series.forEach(function(s){s.type===i.type&&(s.isDirty=!0)})}getColumnMetrics(){let n,t=this,e=t.options,i=t.xAxis,s=t.yAxis,o=i.options.reversedStacks,r=i.reversed&&!o||!i.reversed&&o,a={},h=0;!1===e.grouping?h=1:t.chart.series.forEach(function(f){let y,x=f.yAxis,b=f.options;f.type===t.type&&f.reserveSpace()&&s.len===x.len&&s.pos===x.pos&&(b.stacking&&"group"!==b.stacking?(void 0===a[n=f.stackKey]&&(a[n]=h++),y=a[n]):!1!==b.grouping&&(y=h++),f.columnIndex=y)});let p=Math.min(Math.abs(i.transA)*(!i.brokenAxis?.hasBreaks&&i.ordinal?.slope||e.pointRange||i.closestPointRange||i.tickInterval||1),i.len),c=p*e.groupPadding,u=(p-2*c)/(h||1),g=Math.min(e.maxPointWidth||i.len,wi(e.pointWidth,u*(1-2*e.pointPadding)));return t.columnMetrics={width:g,offset:(u-g)/2+(c+((t.columnIndex||0)+ +!!r)*u-p/2)*(r?-1:1),paddedWidth:u,columnCount:h},t.columnMetrics}crispCol(t,e,i,s){let o=this.borderWidth,r=this.chart.inverted;return s=ws(e+s,o,r)-(e=ws(e,o,r)),this.options.crisp&&(i=ws(t+i,o)-(t=ws(t,o))),{x:t,y:e,width:i,height:s}}adjustForMissingColumns(t,e,i,s){if(!i.isNull&&s.columnCount>1){let o=this.xAxis.series.filter(h=>h.visible).map(h=>h.index),r=0,a=0;xc(this.xAxis.stacking?.stacks,h=>{let p="number"==typeof i.x?h[i.x.toString()]?.points:void 0,c=p?.[this.index],u={};if(p&&$a(c)){let g=this.index,m=Object.keys(p).filter(f=>!f.match(",")&&p[f]&&p[f].length>1).map(parseFloat).filter(f=>-1!==o.indexOf(f)).filter(f=>{let y=this.chart.series[f].options,x=y.stacking&&y.stack;if(_a(x)){if(Cs(u[x]))return g===f&&(g=u[x]),!1;u[x]=f}return!0}).sort((f,y)=>y-f);r=m.indexOf(g),a=m.length}}),r=this.xAxis.reversed?a-1-r:r,t=(i.plotX||0)+((a-1)*s.paddedWidth+e)/2-e-r*s.paddedWidth}return t}translate(){let t=this,e=t.chart,i=t.options,s=t.dense=t.closestPointRange*t.xAxis.transA<2,o=t.borderWidth=wi(i.borderWidth,+!s),r=t.xAxis,a=t.yAxis,n=i.threshold,h=wi(i.minPointLength,5),p=t.getColumnMetrics(),c=p.width,u=t.pointXOffset=p.offset,g=t.dataMin,m=t.dataMax,f=t.translatedThreshold=a.getThreshold(n),y=t.barW=Math.max(c,1+2*o);i.pointPadding&&i.crisp&&(y=Math.ceil(y)),Tt.prototype.translate.apply(t),t.points.forEach(function(x){let C,b=wi(x.yBottom,f),v=999+Math.abs(b),k=x.plotX||0,S=ks(x.plotY,-v,a.len+v),w=Math.min(S,b),M=Math.max(S,b)-w,E=c,L=k+u,O=y;h&&Math.abs(M)<h&&(M=h,C=!a.reversed&&!x.negative||a.reversed&&x.negative,Cs(n)&&Cs(m)&&x.y===n&&m<=n&&(a.min||0)<n&&(g!==m||(a.max||0)<=n)&&(C=!C,x.negative=!x.negative),w=Math.abs(w-f)>h?b-h:f-(C?h:0)),_a(x.options.pointWidth)&&(L-=Math.round(((E=O=Math.ceil(x.options.pointWidth))-c)/2)),i.centerInCategory&&(L=t.adjustForMissingColumns(L,E,x,p)),x.barX=L,x.pointWidth=E,x.tooltipPos=e.inverted?[ks(a.len+a.pos-e.plotLeft-S,a.pos-e.plotLeft,a.len+a.pos-e.plotLeft),r.len+r.pos-e.plotTop-L-O/2,M]:[r.left-e.plotLeft+L+O/2,ks(S+a.pos-e.plotTop,a.pos-e.plotTop,a.len+a.pos-e.plotTop),M],x.shapeType=t.pointClass.prototype.shapeType||"roundedRect",x.shapeArgs=t.crispCol(L,w,O,x.isNull?0:M)}),Ha(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(t,e){let a,n,h,i=this.options,s=this.pointAttrToOptions||{},o=s.stroke||"borderColor",r=s["stroke-width"]||"borderWidth",p=t&&t.color||this.color,c=t&&t[o]||i[o]||p,u=t&&t.options.dashStyle||i.dashStyle,g=t&&t[r]||i[r]||this[r]||0,m=t?.isNull&&i.nullInteraction?0:t?.opacity??i.opacity??1;t&&this.zones.length&&(n=t.getZone(),p=t.options.color||n&&(n.color||t.nonZonedColor)||this.color,n&&(c=n.borderColor||c,u=n.dashStyle||u,g=n.borderWidth||g)),e&&t&&(h=(a=Uo(i.states[e],t.options.states&&t.options.states[e]||{})).brightness,p=a.color||void 0!==h&&mc(p).brighten(a.brightness).get()||p,c=a[o]||c,g=a[r]||g,u=a.dashStyle||u,m=wi(a.opacity,m));let f={fill:p,stroke:c,"stroke-width":g,opacity:m};return u&&(f.dashstyle=u),f}drawPoints(t=this.points){let e,i=this,s=this.chart,o=i.options,r=o.nullInteraction,a=s.renderer,n=o.animationLimit||250;t.forEach(function(h){let c=h.graphic,u=!!c,g=c&&s.pointCount<n?"animate":"attr";Cs(h.plotY)&&(null!==h.y||r)?(e=h.shapeArgs,c&&h.hasNewShapeType()&&(c=c.destroy()),i.enabledDataSorting&&(h.startXPos=i.xAxis.reversed?-(e&&e.width||0):i.xAxis.width),!c&&(h.graphic=c=a[h.shapeType](e).add(h.group||i.group),c&&i.enabledDataSorting&&s.hasRendered&&s.pointCount<n&&(c.attr({x:h.startXPos}),u=!0,g="animate")),c&&u&&c[g](Uo(e)),s.styledMode||c[g](i.pointAttribs(h,h.selected&&"select")).shadow(!1!==h.allowShadow&&o.shadow),c&&(c.addClass(h.getClassName(),!0),c.attr({visibility:h.visible?"inherit":"hidden"}))):c&&(h.graphic=c.destroy())})}drawTracker(t=this.points){let e,i=this,s=i.chart,o=s.pointer,r=function(a){o?.normalize(a);let n=o?.getPointFromEvent(a);o&&n&&i.options.enableMouseTracking&&(s.isInsidePlot(a.chartX-s.plotLeft,a.chartY-s.plotTop,{visiblePlotOnly:!0})||o?.inClass(a.target,"highcharts-data-label"))&&(o.isDirectTouch=!0,n.onMouseOver(a))};t.forEach(function(a){e=$a(a.dataLabels)?a.dataLabels:a.dataLabel?[a.dataLabel]:[],a.graphic&&(a.graphic.element.point=a),e.forEach(function(n){(n.div||n.element).point=a})}),i._hasTracking||(i.trackerGroups.forEach(function(a){i[a]&&(i[a].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(n){o?.onTrackerMouseOut(n)}).on("touchstart",r),!s.styledMode&&i.options.cursor&&i[a].css({cursor:i.options.cursor}))}),i._hasTracking=!0),Ha(this,"afterDrawTracker")}remove(){let t=this,e=t.chart;e.hasRendered&&e.series.forEach(function(i){i.type===t.type&&(i.isDirty=!0)}),Tt.prototype.remove.apply(t,arguments)}}Ms.defaultOptions=Uo(Tt.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),Ya(Ms.prototype,{directTouch:!0,getSymbol:fc,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),gt.registerSeriesType("column",Ms);let Ss=Ms,{getDeferredAnimation:yc}=vt,{format:bc}=Ot,{defined:Ae,extend:Ua,fireEvent:Vo,getAlignFactor:Va,isArray:ce,isString:Ci,merge:Mi,objectEach:vc,pick:Si,pInt:kc,splat:qa}=G;!function(l){function t(){return n(this).some(p=>p?.enabled)}function e(p,c,u,g,m){let{chart:f,enabledDataSorting:y}=this,x=this.isCartesian&&f.inverted,b=p.plotX,v=p.plotY,k=u.rotation||0,S=Ae(b)&&Ae(v)&&f.isInsidePlot(b,Math.round(v),{inverted:x,paneCoordinates:!0,series:this}),C=0===k&&"justify"===Si(u.overflow,y?"none":"justify"),w=this.visible&&!1!==p.visible&&Ae(b)&&(p.series.forceDL||y&&!C||S||Si(u.inside,!!this.options.stacking)&&g&&f.isInsidePlot(b,x?g.x+1:g.y+g.height-1,{inverted:x,paneCoordinates:!0,series:this})),M=p.pos();if(w&&M){let L=c.getBBox(),O=c.getBBox(void 0,0);if(g=Ua({x:M[0],y:Math.round(M[1]),width:0,height:0},g||{}),"plotEdges"===u.alignTo&&this.isCartesian&&(g[x?"x":"y"]=0,g[x?"width":"height"]=this.yAxis?.len||0),Ua(u,{width:L.width,height:L.height}),y&&this.xAxis&&!C&&this.setDataLabelStartPos(p,c,m,S,g),c.align(Mi(u,{width:O.width,height:O.height}),!1,g,!1),c.alignAttr.x+=Va(u.align)*(O.width-L.width),c.alignAttr.y+=Va(u.verticalAlign)*(O.height-L.height),c[c.placed?"animate":"attr"]({"text-align":c.alignAttr["text-align"]||"center",x:c.alignAttr.x+(L.width-O.width)/2,y:c.alignAttr.y+(L.height-O.height)/2,rotationOriginX:(c.width||0)/2,rotationOriginY:(c.height||0)/2}),C&&g.height>=0)this.justifyDataLabel(c,u,c.alignAttr,L,g,m);else if(Si(u.crop,!0)){let{x:D,y:j}=c.alignAttr;w=f.isInsidePlot(D,j,{paneCoordinates:!0,series:this})&&f.isInsidePlot(D+L.width-1,j+L.height-1,{paneCoordinates:!0,series:this})}u.shape&&!k&&c[m?"attr":"animate"]({anchorX:M[0],anchorY:M[1]})}m&&y&&(c.placed=!1),w||y&&!C?(c.show(),c.placed=!0):(c.hide(),c.placed=!1)}function i(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function s(p){let c=this.hasRendered||0,u=this.initDataLabelsGroup().attr({opacity:+c});return!c&&u&&(this.visible&&u.show(),this.options.animation?u.animate({opacity:1},p):u.attr({opacity:1})),u}function o(p){let c;p=p||this.points;let u=this,g=u.chart,m=u.options,f=g.renderer,{backgroundColor:y,plotBackgroundColor:x}=g.options.chart,b=f.getContrast(Ci(x)&&x||Ci(y)&&y||"#000000"),v=n(u),{animation:k,defer:S}=v[0],C=S?yc(g,k,u):{defer:0,duration:0};Vo(this,"drawDataLabels"),u.hasDataLabels?.()&&(c=this.initDataLabels(C),p.forEach(w=>{let M=w.dataLabels||[],E=w.color||u.color;qa(a(v,w.dlOptions||w.options?.dataLabels)).forEach((O,D)=>{let tt,q,Mt,V,j=O.enabled&&(w.visible||w.dataLabelOnHidden)&&(!w.isNull||w.dataLabelOnNull)&&function(it,st){let J=st.filter;if(J){let pt=J.operator,St=it[J.property],At=J.value;return">"===pt&&St>At||"<"===pt&&St<At||">="===pt&&St>=At||"<="===pt&&St<=At||"=="===pt&&St==At||"==="===pt&&St===At||"!="===pt&&St!=At||"!=="===pt&&St!==At||!1}return!0}(w,O),{backgroundColor:z,borderColor:R,distance:N,style:B={}}=O,_={},X=M[D],K=!X;j&&(q=Ae(tt=Si(O[w.formatPrefix+"Format"],O.format))?bc(tt,w,g):(O[w.formatPrefix+"Formatter"]||O.formatter).call(w,O),Mt=O.rotation,!g.styledMode&&(B.color=Si(O.color,B.color,Ci(u.color)?u.color:void 0,"#000000"),"contrast"===B.color?("none"!==z&&(V=z),w.contrastColor=f.getContrast("auto"!==V&&Ci(V)&&V||(Ci(E)?E:"")),B.color=V||!Ae(N)&&O.inside||0>kc(N||0)||m.stacking?w.contrastColor:b):delete w.contrastColor,m.cursor&&(B.cursor=m.cursor)),_={r:O.borderRadius||0,rotation:Mt,padding:O.padding,zIndex:1},g.styledMode||(_.fill="auto"===z?w.color:z,_.stroke="auto"===R?w.color:R,_["stroke-width"]=O.borderWidth),vc(_,(it,st)=>{void 0===it&&delete _[st]})),!X||j&&Ae(q)&&!(!X.div&&!X.text?.foreignObject)==!!O.useHTML&&(X.rotation&&O.rotation||X.rotation===O.rotation)||(X=void 0,K=!0),j&&Ae(q)&&""!==q&&(X?_.text=q:(X=f.label(q,0,0,O.shape,void 0,void 0,O.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+w.colorIndex+" "+(O.className||"")+(O.useHTML?" highcharts-tracker":"")),X&&(X.options=O,X.attr(_),g.styledMode?B.width&&X.css({width:B.width,textOverflow:B.textOverflow,whiteSpace:B.whiteSpace}):X.css(B).shadow(O.shadow),Vo(X,"beforeAddingDataLabel",{labelOptions:O,point:w}),X.added||X.add(c),u.alignDataLabel(w,X,O,void 0,K),X.isActive=!0,M[D]&&M[D]!==X&&M[D].destroy(),M[D]=X))});let L=M.length;for(;L--;)M[L]?.isActive?M[L].isActive=!1:(M[L]?.destroy(),M.splice(L,1));w.dataLabel=M[0],w.dataLabels=M})),Vo(this,"afterDrawDataLabels")}function r(p,c,u,g,m,f){let L,O,y=this.chart,x=c.align,b=c.verticalAlign,v=p.box?0:p.padding||0,k=y.inverted?this.yAxis:this.xAxis,S=k?k.left-y.plotLeft:0,C=y.inverted?this.xAxis:this.yAxis,w=C?C.top-y.plotTop:0,{x:M=0,y:E=0}=c;return(L=(u.x||0)+v+S)<0&&("right"===x&&M>=0?(c.align="left",c.inside=!0):M-=L,O=!0),(L=(u.x||0)+g.width-v+S)>y.plotWidth&&("left"===x&&M<=0?(c.align="right",c.inside=!0):M+=y.plotWidth-L,O=!0),(L=u.y+v+w)<0&&("bottom"===b&&E>=0?(c.verticalAlign="top",c.inside=!0):E-=L,O=!0),(L=(u.y||0)+g.height-v+w)>y.plotHeight&&("top"===b&&E<=0?(c.verticalAlign="bottom",c.inside=!0):E+=y.plotHeight-L,O=!0),O&&(c.x=M,c.y=E,p.placed=!f,p.align(c,void 0,m)),O}function a(p,c){let g,u=[];if(ce(p)&&!ce(c))u=p.map(function(m){return Mi(m,c)});else if(ce(c)&&!ce(p))u=c.map(function(m){return Mi(p,m)});else if(ce(p)||ce(c)){if(ce(p)&&ce(c))for(g=Math.max(p.length,c.length);g--;)u[g]=Mi(p[g],c[g])}else u=Mi(p,c);return u}function n(p){let c=p.chart.options.plotOptions;return qa(a(a(c?.series?.dataLabels,c?.[p.type]?.dataLabels),p.options.dataLabels))}function h(p,c,u,g,m){let f=this.chart,y=f.inverted,x=this.xAxis,b=x.reversed,v=((y?c.height:c.width)||0)/2,k=p.pointWidth,S=k?k/2:0;c.startXPos=y?m.x:b?-v-S:x.width-v+S,c.startYPos=y?b?this.yAxis.height-v+S:-v-S:m.y,g?"hidden"===c.visibility&&(c.show(),c.attr({opacity:0}).animate({opacity:1})):c.attr({opacity:1}).animate({opacity:0},void 0,c.hide),f.hasRendered&&(u&&c.attr({x:c.startXPos,y:c.startYPos}),c.placed=!0)}l.compose=function(p){let c=p.prototype;c.initDataLabels||(c.initDataLabels=s,c.initDataLabelsGroup=i,c.alignDataLabel=e,c.drawDataLabels=o,c.justifyDataLabel=r,c.mergeArrays=a,c.setDataLabelStartPos=h,c.hasDataLabels=t)}}(Ke||(Ke={}));let Ps=Ke,{composed:wc}=I,{series:Za}=gt,{merge:Cc,pushUnique:Mc}=G;!function(l){function t(e,i,s,o,r){let{chart:a,options:n}=this,h=a.inverted,p=this.xAxis?.len||a.plotSizeX||0,c=this.yAxis?.len||a.plotSizeY||0,u=e.dlBox||e.shapeArgs,g=e.below??(e.plotY||0)>(this.translatedThreshold??c),m=s.inside??!!n.stacking;if(u){if(o=Cc(u),"allow"!==s.overflow||!1!==s.crop||!1!==n.clip){o.y<0&&(o.height+=o.y,o.y=0);let f=o.y+o.height-c;f>0&&f<o.height-1&&(o.height-=f)}h&&(o={x:c-o.y-o.height,y:p-o.x-o.width,width:o.height,height:o.width}),m||(h?(o.x+=g?0:o.width,o.width=0):(o.y+=g?o.height:0,o.height=0))}s.align??(s.align=!h||m?"center":g?"right":"left"),s.verticalAlign??(s.verticalAlign=h||m?"middle":g?"top":"bottom"),Za.prototype.alignDataLabel.call(this,e,i,s,o,r),s.inside&&e.contrastColor&&i.css({color:e.contrastColor})}l.compose=function(e){Ps.compose(Za),Mc(wc,"ColumnDataLabel")&&(e.prototype.alignDataLabel=t)}}(Je||(Je={}));let Sc=Je,{extend:Pc,merge:Tc}=G;class qo extends Ss{}qo.defaultOptions=Tc(Ss.defaultOptions,{}),Pc(qo.prototype,{inverted:!0}),gt.registerSeriesType("bar",qo);let{column:Ac,line:Ka}=gt.seriesTypes,{addEvent:Ec,extend:Oc,merge:Lc}=G;class Ts extends Ka{applyJitter(){let t=this,e=this.options.jitter,i=this.points.length;e&&this.points.forEach(function(s,o){["x","y"].forEach(function(r,a){if(e[r]&&!s.isNull){let n=`plot${r.toUpperCase()}`,h=t[`${r}Axis`],p=e[r]*h.transA;if(h&&!h.logarithmic){let c=Math.max(0,(s[n]||0)-p),u=Math.min(h.len,(s[n]||0)+p);s[n]=c+(u-c)*function(g){let m=1e4*Math.sin(g);return m-Math.floor(m)}(o+a*i),"x"===r&&(s.clientX=s.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Ts.defaultOptions=Lc(Ka.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Oc(Ts.prototype,{drawTracker:Ac.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),Ec(Ts,"afterTranslate",function(){this.applyJitter()}),gt.registerSeriesType("scatter",Ts);let{deg2rad:Ja}=I,{fireEvent:Fc,isNumber:Zo,pick:As,relativeLength:Ic}=G;!function(l){l.getCenter=function(){let h,u,g,t=this.options,e=this.chart,i=2*(t.slicedOffset||0),s=e.plotWidth-2*i,o=e.plotHeight-2*i,r=t.center,a=Math.min(s,o),n=t.thickness,p=t.size,c=t.innerSize||0;"string"==typeof p&&(p=parseFloat(p)),"string"==typeof c&&(c=parseFloat(c));let m=[As(r?.[0],"50%"),As(r?.[1],"50%"),As(p&&p<0?void 0:t.size,"100%"),As(c&&c<0?void 0:t.innerSize||0,"0%")];for(!e.angular||this instanceof Tt||(m[3]=0),u=0;u<4;++u)g=m[u],h=u<2||2===u&&/%$/.test(g),m[u]=Ic(g,[s,o,a,m[2]][u])+(h?i:0);return m[3]>m[2]&&(m[3]=m[2]),Zo(n)&&2*n<m[2]&&n>0&&(m[3]=m[2]-2*n),Fc(this,"afterGetCenter",{positions:m}),m},l.getStartAndEndRadians=function(t,e){let i=Zo(t)?t:0,s=Zo(e)&&e>i&&e-i<360?e:i+360;return{start:Ja*(i+-90),end:Ja*(s+-90)}}}(Qe||(Qe={}));let Qa=Qe,{setAnimation:Nc}=vt,{addEvent:tn,defined:Dc,extend:Rc,isNumber:Bc,pick:jc,relativeLength:zc}=G;class en extends re{getConnectorPath(t){let e=t.dataLabelPosition,i=t.options||{},s=i.connectorShape;return e&&(this.connectorShapes[s]||s).call(this,{...e.computed,alignment:e.alignment},e.connectorPosition,i)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(t){let e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:e.r-1,start:e.start,end:e.end,borderRadius:e.borderRadius})}constructor(t,e,i){super(t,e,i),this.half=0,this.name??(this.name=t.chart.options.lang.pieSliceName);let s=o=>{this.slice("select"===o.type)};tn(this,"select",s),tn(this,"unselect",s)}isValid(){return Bc(this.y)&&this.y>=0}setVisible(t,e=!0){t!==this.visible&&this.update({visible:t??!this.visible},e,void 0,!1)}slice(t,e,i){let s=this.series;Nc(i,s.chart),e=jc(e,!0),this.sliced=this.options.sliced=t=Dc(t)?t:!this.sliced,s.options.data[s.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}Rc(en.prototype,{connectorShapes:{fixedOffset:function(l,t,e){let i=t.breakAt,s=t.touchingSliceAt;return[["M",l.x,l.y],e.softConnector?["C",l.x+("left"===l.alignment?-5:5),l.y,2*i.x-s.x,2*i.y-s.y,i.x,i.y]:["L",i.x,i.y],["L",s.x,s.y]]},straight:function(l,t){let e=t.touchingSliceAt;return[["M",l.x,l.y],["L",e.x,e.y]]},crookedLine:function(l,t,e){let{angle:i=this.angle||0,breakAt:s,touchingSliceAt:o}=t,{series:r}=this,[a,n,h]=r.center,p=h/2,{plotLeft:c,plotWidth:u}=r.chart,g="left"===l.alignment,{x:m,y:f}=l,y=s.x;if(e.crookDistance){let b=zc(e.crookDistance,1);y=g?a+p+(u+c-a-p)*(1-b):c+(a-p)*b}else y=a+(n-f)*Math.tan(i-Math.PI/2);let x=[["M",m,f]];return(g?y<=m&&y>=s.x:y>=m&&y<=s.x)&&x.push(["L",y,f]),x.push(["L",s.x,s.y],["L",o.x,o.y]),x}}});let{getStartAndEndRadians:Gc}=Qa,{noop:sn}=I,{clamp:Wc,extend:Xc,fireEvent:on,merge:Ko,pick:_c}=G;class Jo extends Tt{animate(t){let e=this,s=e.startAngleRad;t||e.points.forEach(function(o){let r=o.graphic,a=o.shapeArgs;r&&a&&(r.attr({r:_c(o.startR,e.center&&e.center[3]/2),start:s,end:s}),r.animate({r:a.r,start:a.start,end:a.end},e.options.animation))})}drawEmpty(){let t,e,i=this.startAngleRad,s=this.endAngleRad,o=this.options;0===this.total&&this.center?(t=this.center[0],e=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(t,e,this.center[1]/2,0,i,s).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Or.arc(t,e,this.center[2]/2,0,{start:i,end:s,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":o.borderWidth,fill:o.fillColor||"none",stroke:o.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let t=this.chart.renderer;this.points.forEach(function(e){e.graphic&&e.hasNewShapeType()&&(e.graphic=e.graphic.destroy()),e.graphic||(e.graphic=t[e.shapeType](e.shapeArgs).add(e.series.group),e.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(t,e,i,s){let o=this.center,r=this.radii?this.radii[i.index]||0:o[2]/2,a=s.dataLabelPosition,n=a?.distance||0,h=Math.asin(Wc((t-o[1])/(r+n),-1,1));return o[0]+Math.cos(h)*(r+n)*(e?-1:1)+(n>0?(e?-1:1)*(s.padding||0):0)}hasData(){return this.points.some(t=>t.visible)}redrawPoints(){let t,e,i,s,o=this,r=o.chart;this.drawEmpty(),o.group&&!r.styledMode&&o.group.shadow(o.options.shadow),o.points.forEach(function(a){let n={};e=a.graphic,!a.isNull&&e?(s=a.shapeArgs,t=a.getTranslate(),r.styledMode||(i=o.pointAttribs(a,a.selected&&"select")),a.delayedRendering?(e.setRadialReference(o.center).attr(s).attr(t),r.styledMode||e.attr(i).attr({"stroke-linejoin":"round"}),a.delayedRendering=!1):(e.setRadialReference(o.center),r.styledMode||Ko(!0,n,i),Ko(!0,n,s,t),e.animate(n)),e.attr({visibility:a.visible?"inherit":"hidden"}),e.addClass(a.getClassName(),!0)):e&&(a.graphic=e.destroy())})}sortByAngle(t,e){t.sort(function(i,s){return void 0!==i.angle&&(s.angle-i.angle)*e})}translate(t){on(this,"translate"),this.generatePoints();let p,c,u,g,m,f,y,e=this.options,i=e.slicedOffset,s=Gc(e.startAngle,e.endAngle),o=this.startAngleRad=s.start,r=(this.endAngleRad=s.end)-o,a=this.points,n=e.ignoreHiddenPoint,h=a.length,x=0;for(t||(this.center=t=this.getCenter()),f=0;f<h;f++){y=a[f],p=o+x*r,y.isValid()&&(!n||y.visible)&&(x+=y.percentage/100),c=o+x*r;let b={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*p)/1e3,end:Math.round(1e3*c)/1e3};y.shapeType="arc",y.shapeArgs=b,(u=(c+p)/2)>1.5*Math.PI?u-=2*Math.PI:u<-Math.PI/2&&(u+=2*Math.PI),y.slicedTranslation={translateX:Math.round(Math.cos(u)*i),translateY:Math.round(Math.sin(u)*i)},g=Math.cos(u)*t[2]/2,m=Math.sin(u)*t[2]/2,y.tooltipPos=[t[0]+.7*g,t[1]+.7*m],y.half=+(u<-Math.PI/2||u>Math.PI/2),y.angle=u}on(this,"afterTranslate")}updateTotals(){let s,o,t=this.points,e=t.length,i=this.options.ignoreHiddenPoint,r=0;for(s=0;s<e;s++)(o=t[s]).isValid()&&(!i||o.visible)&&(r+=o.y);for(s=0,this.total=r;s<e;s++)(o=t[s]).percentage=r>0&&(o.visible||!i)?o.y/r*100:0,o.total=r}}Jo.defaultOptions=Ko(Tt.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),Xc(Jo.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:Ss.prototype.drawTracker,getCenter:Qa.getCenter,getSymbol:sn,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:Ss.prototype.pointAttribs,pointClass:en,requireSorting:!1,searchPoint:sn,trackerGroups:["group","dataLabelsGroup"]}),gt.registerSeriesType("pie",Jo);let{composed:Yc,noop:Hc}=I,{distribute:$c}=_i,{series:rn}=gt,{arrayMax:Uc,clamp:an,defined:nn,isNumber:Vc,pick:qc,pushUnique:Zc,relativeLength:ln}=G;!function(l){let t={radialDistributionY:function(r,a){return(a.dataLabelPosition?.top||0)+r.distributeBox.pos},radialDistributionX:function(r,a,n,h,p){let c=p.dataLabelPosition;return r.getX(n<(c?.top||0)+2||n>(c?.bottom||0)-2?h:n,a.half,a,p)},justify:function(r,a,n,h){return h[0]+(r.half?-1:1)*(n+(a.dataLabelPosition?.distance||0))},alignToPlotEdges:function(r,a,n,h){let p=r.getBBox().width;return a?p+h:n-p-h},alignToConnectors:function(r,a,n,h){let c,p=0;return r.forEach(function(u){(c=u.dataLabel.getBBox().width)>p&&(p=c)}),a?p+h:n-p-h}};function e(r,a){let n=Math.PI/2,{start:h=0,end:p=0}=r.shapeArgs||{},c=r.angle||0;a>0&&h<n&&p>n&&c>n/2&&c<1.5*n&&(c=c<=n?Math.max(n/2,(h+n)/2):Math.min(1.5*n,(n+p)/2));let{center:u,options:g}=this,m=u[2]/2,f=Math.cos(c),y=Math.sin(c),x=u[0]+f*m,b=u[1]+y*m,v=Math.min((g.slicedOffset||0)+(g.borderWidth||0),a/5);return{natural:{x:x+f*a,y:b+y*a},computed:{},alignment:a<0?"center":r.half?"right":"left",connectorPosition:{angle:c,breakAt:{x:x+f*v,y:b+y*v},touchingSliceAt:{x,y:b}},distance:a}}function i(){let v,k,S,r=this,a=r.points,n=r.chart,h=n.plotWidth,p=n.plotHeight,c=n.plotLeft,u=Math.round(n.chartWidth/3),g=r.center,m=g[2]/2,f=g[1],y=[[],[]],x=[0,0,0,0],b=r.dataLabelPositioners,C=0;r.visible&&r.hasDataLabels?.()&&(a.forEach(w=>{(w.dataLabels||[]).forEach(M=>{M.shortened&&(M.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),M.shortened=!1)})}),rn.prototype.drawDataLabels.apply(r),a.forEach(w=>{(w.dataLabels||[]).forEach((M,E)=>{let L=g[2]/2,O=M.options,D=ln(O?.distance||0,L);0===E&&y[w.half].push(w),!nn(O?.style?.width)&&M.getBBox().width>u&&(M.css({width:Math.round(.7*u)+"px"}),M.shortened=!0),M.dataLabelPosition=this.getDataLabelPosition(w,D),C=Math.max(C,D)})}),y.forEach((w,M)=>{let O,D,z,L=[],j=0;w.length&&(r.sortByAngle(w,M-.5),C>0&&(O=Math.max(0,f-m-C),D=Math.min(f+m+C,n.plotHeight),w.forEach(R=>{(R.dataLabels||[]).forEach(N=>{let B=N.dataLabelPosition;B&&B.distance>0&&(B.top=Math.max(0,f-m-B.distance),B.bottom=Math.min(f+m+B.distance,n.plotHeight),j=N.getBBox().height||21,N.lineHeight=n.renderer.fontMetrics(N.text||N).h+2*N.padding,R.distributeBox={target:(N.dataLabelPosition?.natural.y||0)-B.top+N.lineHeight/2,size:j,rank:R.y},L.push(R.distributeBox))})}),$c(L,z=D+j-O,z/5)),w.forEach(R=>{(R.dataLabels||[]).forEach(N=>{let B=N.options||{},tt=R.distributeBox,q=N.dataLabelPosition,Mt=q?.natural.y||0,_=B.connectorPadding||0,X=N.lineHeight||21,K=(X-N.getBBox().height)/2,V=0,it=Mt,st="inherit";if(q){if(L&&nn(tt)&&q.distance>0&&(void 0===tt.pos?st="hidden":(S=tt.size,it=b.radialDistributionY(R,N))),B.justify)V=b.justify(R,N,m,g);else switch(B.alignTo){case"connectors":V=b.alignToConnectors(w,M,h,c);break;case"plotEdges":V=b.alignToPlotEdges(N,M,h,c);break;default:V=b.radialDistributionX(r,R,it-K,Mt,N)}if(q.attribs={visibility:st,align:q.alignment},q.posAttribs={x:V+(B.x||0)+({left:_,right:-_}[q.alignment]||0),y:it+(B.y||0)-X/2},q.computed.x=V,q.computed.y=it-K,qc(B.crop,!0)){let J;V-(k=N.getBBox().width)<_&&1===M?(J=Math.round(k-V+_),x[3]=Math.max(J,x[3])):V+k>h-_&&0===M&&(J=Math.round(V+k-h+_),x[1]=Math.max(J,x[1])),it-S/2<0?x[0]=Math.max(Math.round(S/2-it),x[0]):it+S/2>p&&(x[2]=Math.max(Math.round(it+S/2-p),x[2])),q.sideOverflow=J}}})}))}),(0===Uc(x)||this.verifyDataLabelOverflow(x))&&(this.placeDataLabels(),this.points.forEach(w=>{(w.dataLabels||[]).forEach(M=>{let{connectorColor:E,connectorWidth:L=1}=M.options||{},O=M.dataLabelPosition;if(Vc(L)){let D;v=M.connector,O&&O.distance>0?(D=!v,v||(M.connector=v=n.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+w.colorIndex+(w.className?" "+w.className:"")).add(r.dataLabelsGroup)),n.styledMode||v.attr({"stroke-width":L,stroke:E||w.color||"#666666"}),v[D?"attr":"animate"]({d:w.getConnectorPath(M)}),v.attr({visibility:O.attribs?.visibility})):v&&(M.connector=v.destroy())}})})))}function s(){this.points.forEach(r=>{(r.dataLabels||[]).forEach(a=>{let n=a.dataLabelPosition;n?(n.sideOverflow&&(a.css({width:Math.max(a.getBBox().width-n.sideOverflow,0)+"px",textOverflow:a.options?.style?.textOverflow||"ellipsis"}),a.shortened=!0),a.attr(n.attribs),a[a.moved?"animate":"attr"](n.posAttribs),a.moved=!0):a&&a.attr({y:-9999})}),delete r.distributeBox},this)}function o(r){let a=this.center,n=this.options,h=n.center,p=n.minSize||80,c=p,u=null!==n.size;return!u&&(null!==h[0]?c=Math.max(a[2]-Math.max(r[1],r[3]),p):(c=Math.max(a[2]-r[1]-r[3],p),a[0]+=(r[3]-r[1])/2),null!==h[1]?c=an(c,p,a[2]-Math.max(r[0],r[2])):(c=an(c,p,a[2]-r[0]-r[2]),a[1]+=(r[0]-r[2])/2),c<a[2]?(a[2]=c,a[3]=Math.min(n.thickness?Math.max(0,c-2*n.thickness):Math.max(0,ln(n.innerSize||0,c)),c),this.translate(a),this.drawDataLabels&&this.drawDataLabels()):u=!0),u}l.compose=function(r){if(Ps.compose(rn),Zc(Yc,"PieDataLabel")){let a=r.prototype;a.dataLabelPositioners=t,a.alignDataLabel=Hc,a.drawDataLabels=i,a.getDataLabelPosition=e,a.placeDataLabels=s,a.verifyDataLabelOverflow=o}}}(ti||(ti={}));let Kc=ti;!function(l){l.getCenterOfPoints=function(t){let e=t.reduce((i,s)=>(i.x+=s.x,i.y+=s.y,i),{x:0,y:0});return{x:e.x/t.length,y:e.y/t.length}},l.getDistanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},l.getAngleBetweenPoints=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)},l.pointInPolygon=function({x:t,y:e},i){let o,r,s=i.length,a=!1;for(o=0,r=s-1;o<s;r=o++){let[n,h]=i[o],[p,c]=i[r];h>e!=c>e&&t<(p-n)*(e-h)/(c-h)+n&&(a=!a)}return a}}(Le||(Le={}));let{pointInPolygon:Jc}=Le,{addEvent:Qc,getAlignFactor:tp,fireEvent:hn,objectEach:dn,pick:ep}=G;function ip(l){let s,o,r,a,n,t=l.length,e=(p,c)=>!(c.x>=p.x+p.width||c.x+c.width<=p.x||c.y>=p.y+p.height||c.y+c.height<=p.y),i=(p,c)=>{for(let u of p)if(Jc({x:u[0],y:u[1]},c))return!0;return!1},h=!1;for(let p=0;p<t;p++)(s=l[p])&&(s.oldOpacity=s.opacity,s.newOpacity=1,s.absoluteBox=function(c){if(c&&(!c.alignAttr||c.placed)){let u=c.box?0:c.padding||0,g=c.alignAttr||{x:c.attr("x"),y:c.attr("y")},{height:m,polygon:f,width:y}=c.getBBox(),x=tp(c.alignValue)*y;return c.width=y,c.height=m,{x:g.x+(c.parentGroup?.translateX||0)+u-x,y:g.y+(c.parentGroup?.translateY||0)+u,width:y-2*u,height:m-2*u,polygon:f}}}(s));l.sort((p,c)=>(c.labelrank||0)-(p.labelrank||0));for(let p=0;p<t;++p){a=(o=l[p])&&o.absoluteBox;let c=a?.polygon;for(let u=p+1;u<t;++u){n=(r=l[u])&&r.absoluteBox;let g=!1;if(a&&n&&o!==r&&0!==o.newOpacity&&0!==r.newOpacity&&"hidden"!==o.visibility&&"hidden"!==r.visibility){let m=n.polygon;if(c&&m&&c!==m?i(c,m)&&(g=!0):e(a,n)&&(g=!0),g){let f=o.labelrank<r.labelrank?o:r,y=f.text;f.newOpacity=0,y?.element.querySelector("textPath")&&y.hide()}}}}for(let p of l)cn(p,this)&&(h=!0);h&&hn(this,"afterHideAllOverlappingLabels")}function cn(l,t){let e,i=!1;return l&&(e=l.newOpacity,l.oldOpacity!==e&&(l.hasClass("highcharts-data-label")?(l[e?"removeClass":"addClass"]("highcharts-data-label-hidden"),i=!0,l[l.isOld?"animate":"attr"]({opacity:e},void 0,function(){t.styledMode||l.css({pointerEvents:e?"auto":"none"})}),hn(t,"afterHideOverlappingLabel")):l.attr({opacity:e})),l.isOld=!0),i}function sp(){let l=this,t=[];for(let e of l.labelCollectors||[])t=t.concat(e());for(let e of l.yAxis||[])e.stacking&&e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&dn(e.stacking.stacks,i=>{dn(i,s=>{s.label&&t.push(s.label)})});for(let e of l.series||[])if(e.visible&&e.hasDataLabels?.()){let i=s=>{for(let o of s)o.visible&&(o.dataLabels||[]).forEach(r=>{let a=r.options||{};r.labelrank=ep(a.labelrank,o.labelrank,o.shapeArgs?.height),a.allowOverlap??Number(a.distance)>0?(r.oldOpacity=r.opacity,r.newOpacity=1,cn(r,l)):t.push(r)})};i(e.nodes||[]),i(e.points)}this.hideOverlappingLabels(t)}let pn={compose:function(l){let t=l.prototype;t.hideOverlappingLabels||(t.hideOverlappingLabels=ip,Qc(l,"render",sp))}},{defaultOptions:op}=A,{noop:un}=I,{addEvent:gn,extend:rp,isObject:mn,merge:ap,relativeLength:Qo}=G,np={radius:0,scope:"stack",where:void 0},fn=un,xn=un;function lp(l,t,e,i,s={}){let o=fn(l,t,e,i,s),{brStart:r=!0,brEnd:a=!0,innerR:n=0,r:h=e,start:p=0,end:c=0}=s;if(s.open||!s.borderRadius)return o;let u=c-p,g=Math.sin(u/2),m=Math.max(Math.min(Qo(s.borderRadius||0,h-n),(h-n)/2,h*g/(1+g)),0),f=Math.min(m,u/Math.PI*2*n),y=o.length-1;for(;y--;)(r||0!==y&&3!==y)&&(a||1!==y&&2!==y)&&function(x,b,v){let k,S,C,w=x[b],M=x[b+1];if("Z"===M[0]&&(M=x[0]),"M"!==w[0]&&"L"!==w[0]||"A"!==M[0]?"A"===w[0]&&("M"===M[0]||"L"===M[0])&&(k=M,S=w):(k=w,S=M,C=!0),k&&S&&S.params){let E=S[1],L=S[5],O=S.params,{start:D,end:j,cx:z,cy:R}=O,N=L?E-v:E+v,B=N?Math.asin(v/N):0,tt=L?B:-B,q=Math.cos(B)*N;C?(O.start=D+tt,k[1]=z+q*Math.cos(D),k[2]=R+q*Math.sin(D),x.splice(b+1,0,["A",v,v,0,0,1,z+E*Math.cos(O.start),R+E*Math.sin(O.start)])):(O.end=j-tt,S[6]=z+E*Math.cos(O.end),S[7]=R+E*Math.sin(O.end),x.splice(b+1,0,["A",v,v,0,0,1,z+q*Math.cos(j),R+q*Math.sin(j)])),S[4]=Math.abs(O.end-O.start)<Math.PI?0:1}}(o,y,y>1?f:m);return o}function hp(){if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){let{options:l,yAxis:t}=this,e="percent"===l.stacking,i=op.plotOptions?.[this.type]?.borderRadius,s=tr(l.borderRadius,mn(i)?i:{}),o=t.options.reversed;for(let r of this.points){let{shapeArgs:a}=r;if("roundedRect"===r.shapeType&&a){let{width:n=0,height:h=0,y:p=0}=a,c=p,u=h;if("stack"===s.scope&&r.stackTotal){let y=t.translate(e?100:r.stackTotal,!1,!0,!1,!0),x=t.translate(l.threshold||0,!1,!0,!1,!0),b=this.crispCol(0,Math.min(y,x),0,Math.abs(y-x));c=b.y,u=b.height}let g=(r.negative?-1:1)*(o?-1:1)==-1,m=s.where;!m&&this.is("waterfall")&&Math.abs((r.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(m="all"),m||(m="end");let f=Math.min(Qo(s.radius,n),n/2,"all"===m?h/2:1/0)||0;"end"===m&&(g&&(c-=f),u+=f),rp(a,{brBoxHeight:u,brBoxY:c,r:f})}}}}function tr(l,t){return mn(l)||(l={radius:l||0}),ap(np,t,l)}function dp(){let l=tr(this.options.borderRadius);for(let t of this.points){let e=t.shapeArgs;e&&(e.borderRadius=Qo(l.radius,(e.r||0)-(e.innerR||0)))}}function cp(l,t,e,i,s={}){let o=xn(l,t,e,i,s),{r=0,brBoxHeight:a=i,brBoxY:n=t}=s,h=t-n,p=n+a-(t+i),c=h-r>-.1?0:r,u=p-r>-.1?0:r,g=Math.max(c&&h,0),m=Math.max(u&&p,0),f=[l+c,t],y=[l+e-c,t],x=[l+e,t+c],b=[l+e,t+i-u],v=[l+e-u,t+i],k=[l+u,t+i],S=[l,t+i-u],C=[l,t+c],w=(M,E)=>Math.sqrt(Math.pow(M,2)-Math.pow(E,2));if(g){let M=w(c,c-g);f[0]-=M,y[0]+=M,x[1]=C[1]=t+c-g}if(i<c-g){let M=w(c,c-g-i);x[0]=b[0]=l+e-c+M,v[0]=Math.min(x[0],v[0]),k[0]=Math.max(b[0],k[0]),S[0]=C[0]=l+c-M,x[1]=C[1]=t+i}if(m){let M=w(u,u-m);v[0]+=M,k[0]-=M,b[1]=S[1]=t+i-u+m}if(i<u-m){let M=w(u,u-m-i);x[0]=b[0]=l+e-u+M,y[0]=Math.min(x[0],y[0]),f[0]=Math.max(b[0],f[0]),S[0]=C[0]=l+u-M,b[1]=S[1]=t}return o.length=0,o.push(["M",...f],["L",...y],["A",c,c,0,0,1,...x],["L",...b],["A",u,u,0,0,1,...v],["L",...k],["A",u,u,0,0,1,...S],["L",...C],["A",c,c,0,0,1,...f],["Z"]),o}let{diffObjects:pp,extend:up,find:gp,merge:mp,pick:Es,uniqueKey:fp}=G;!function(l){function t(i,s){let o=i.condition;(o.callback||function(){return this.chartWidth<=Es(o.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Es(o.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Es(o.minWidth,0)&&this.chartHeight>=Es(o.minHeight,0)}).call(this)&&s.push(i._id)}function e(i,s){let n,o=this.options.responsive,r=this.currentResponsive,a=[];!s&&o&&o.rules&&o.rules.forEach(c=>{void 0===c._id&&(c._id=fp()),this.matchResponsiveRule(c,a)},this);let h=mp(...a.map(c=>gp(o?.rules||[],u=>u._id===c)).map(c=>c?.chartOptions));h.isResponsiveOptions=!0,a=a.toString()||void 0;let p=r?.ruleIds;a!==p&&(r&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(r.undoOptions,i,!0),this.updatingResponsive=!1),a?((n=pp(h,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:a,mergedOptions:h,undoOptions:n},this.updatingResponsive||this.update(h,i,!0)):this.currentResponsive=void 0)}l.compose=function(i){let s=i.prototype;return s.matchResponsiveRule||up(s,{matchResponsiveRule:t,setResponsive:e}),i}}(ei||(ei={}));let xp=ei;I.AST=nt,I.Axis=po,I.Chart=he,I.Color=lt,I.DataLabel=Ps,I.DataTableCore=ps,I.Fx=be,I.HTMLElement=je,I.Legend=Ca,I.LegendSymbol=ha,I.OverlappingDataLabels=I.OverlappingDataLabels||pn,I.PlotLineOrBand=ns,I.Point=re,I.Pointer=aa,I.RendererRegistry=hi,I.Series=Tt,I.SeriesRegistry=gt,I.StackItem=Ra,I.SVGElement=Xt,I.SVGRenderer=Ki,I.Templating=Ot,I.Tick=ze,I.Time=li,I.Tooltip=ea,I.animate=vt.animate,I.animObject=vt.animObject,I.chart=he.chart,I.color=lt.parse,I.dateFormat=Ot.dateFormat,I.defaultOptions=A.defaultOptions,I.distribute=_i.distribute,I.format=Ot.format,I.getDeferredAnimation=vt.getDeferredAnimation,I.getOptions=A.getOptions,I.numberFormat=Ot.numberFormat,I.seriesType=gt.seriesType,I.setAnimation=vt.setAnimation,I.setOptions=A.setOptions,I.stop=vt.stop,I.time=A.defaultTime,I.timers=be.timers,function(l,t,e){let i=l.types.pie;if(!t.symbolCustomAttribs.includes("borderRadius")){let s=e.prototype.symbols;gn(l,"afterColumnTranslate",hp,{order:9}),gn(i,"afterTranslate",dp),t.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),fn=s.arc,xn=s.roundedRect,s.arc=lp,s.roundedRect=cp}}(I.Series,I.SVGElement,I.SVGRenderer),Sc.compose(I.Series.types.column),Ps.compose(I.Series),rh.compose(I.Axis),je.compose(I.SVGRenderer),Ca.compose(I.Chart),lh.compose(I.Axis),pn.compose(I.Chart),Kc.compose(I.Series.types.pie),ns.compose(I.Chart,I.Axis),aa.compose(I.Chart),xp.compose(I.Chart),Na.compose(I.Axis,I.Chart,I.Series),oc.compose(I.Axis,I.Chart,I.Series),ea.compose(I.Pointer),G.extend(I,G);let yp=I;return Ti.default})(),(Vt=typeof window>"u"?this:window)._Highcharts=at(),er.exports=Vt._Highcharts}}]);