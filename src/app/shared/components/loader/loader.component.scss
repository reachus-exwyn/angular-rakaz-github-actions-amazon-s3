// Loader Component Styles - Optimized
:root {
  --primary-color: #4725a7;
  --light-color: #e8e0ff;
  --bg-color: #f2eeff;
  --white: #fff;
  --text-secondary: #616161;
  --text-light: #989898;
}

.loader {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
}

.loader-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(2px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

.loader-fullscreen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
}

// Size variations using CSS custom properties
.loader-small { --size: 20px; --dot-size: 6px; --bar-width: 3px; --skeleton-height: 8px; }
.loader-medium { --size: 40px; --dot-size: 10px; --bar-width: 4px; --skeleton-height: 12px; }
.loader-large { --size: 60px; --dot-size: 14px; --bar-width: 6px; --skeleton-height: 16px; }

// Color variations using CSS custom properties
.loader-primary { --color: var(--primary-color); --text-color: var(--primary-color); }
.loader-secondary { --color: var(--light-color); --text-color: var(--text-secondary); }
.loader-white { --color: var(--white); --text-color: var(--white); }
.loader-light { --color: var(--bg-color); --text-color: var(--text-light); }

// Spinner Loader
.spinner-loader .spinner {
  width: var(--size, 40px);
  height: var(--size, 40px);
  border: 3px solid transparent;
  border-color: var(--color, var(--primary-color)) transparent var(--color, var(--primary-color)) transparent;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

// Dots Loader
.dots-loader {
  display: flex;
  gap: 8px;
  
  .dot {
    width: var(--dot-size, 10px);
    height: var(--dot-size, 10px);
    background-color: var(--color, var(--primary-color));
    border-radius: 50%;
    animation: bounce 1.4s ease-in-out infinite both;
    
    &:nth-child(1) { animation-delay: -0.32s; }
    &:nth-child(2) { animation-delay: -0.16s; }
    &:nth-child(3) { animation-delay: 0s; }
  }
}

// Pulse Loader
.pulse-loader .pulse {
  width: var(--size, 40px);
  height: var(--size, 40px);
  background-color: var(--color, var(--primary-color));
  border-radius: 50%;
  animation: pulse 1.5s ease-in-out infinite;
}

// Bars Loader
.bars-loader {
  display: flex;
  gap: 3px;
  align-items: end;
  
  .bar {
    width: var(--bar-width, 4px);
    height: 20px;
    background-color: var(--color, var(--primary-color));
    animation: bars 1.2s ease-in-out infinite;
    
    &:nth-child(1) { animation-delay: -1.1s; }
    &:nth-child(2) { animation-delay: -1.0s; }
    &:nth-child(3) { animation-delay: -0.9s; }
    &:nth-child(4) { animation-delay: -0.8s; }
    &:nth-child(5) { animation-delay: -0.7s; }
  }
}

// Ripple Loader
.ripple-loader {
  position: relative;
  
  .ripple {
    position: absolute;
    width: var(--size, 40px);
    height: var(--size, 40px);
    border: 2px solid var(--color, var(--primary-color));
    border-radius: 50%;
    animation: ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;
    
    &:nth-child(2) { animation-delay: -0.5s; }
  }
}

// Skeleton Loader
.skeleton-loader {
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 200px;
  
  .skeleton-line {
    height: var(--skeleton-height, 12px);
    background-color: var(--color, var(--primary-color));
    border-radius: 4px;
    animation: skeleton 1.5s ease-in-out infinite;
    
    &:nth-child(1) { width: 100%; }
    &:nth-child(2) { width: 80%; }
    &:nth-child(3) { width: 60%; }
  }
}

// Loading Text
.loader-text {
  color: var(--text-color, var(--primary-color));
  font-size: 14px;
  font-weight: 500;
  text-align: center;
  margin-top: 8px;
}

// Animations
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
@keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }
@keyframes pulse { 0% { transform: scale(0); opacity: 1; } 100% { transform: scale(1); opacity: 0; } }
@keyframes bars { 0%, 40%, 100% { transform: scaleY(0.4); } 20% { transform: scaleY(1); } }
@keyframes ripple { 0% { top: 0; left: 0; width: 0; height: 0; opacity: 1; } 100% { top: -50%; left: -50%; width: 200%; height: 200%; opacity: 0; } }
@keyframes skeleton { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }

// Responsive
@media (max-width: 768px) {
  .loader-overlay { background-color: rgba(255, 255, 255, 0.9); }
  .loader-text { font-size: 12px; }
  .skeleton-loader { width: 150px; }
}
